import{A as u,a as i}from"./index-CfcooEvP.js";class l{constructor(){this.baseUrl=u}async makeRequest(o,r=null){const c=`${this.baseUrl}${o}`,n={"Content-Type":"application/json"},a=i.getToken();a&&(n.Authorization=`Bearer ${a}`);const e=await fetch(c,{method:"POST",headers:n,body:r?JSON.stringify(r):void 0});if(!e.ok){let s=`HTTP error ${e.status}`;try{const t=await e.json();t!=null&&t.message&&(s=t.message)}catch{}throw typeof s=="string"&&s.toLowerCase().includes("token has expired")&&(i.logout(),window.location.reload()),new Error(s)}return e.json()}async getUser(o){return this.makeRequest("/getUser",{id:o})}}const g=new l;export{g as userService};
