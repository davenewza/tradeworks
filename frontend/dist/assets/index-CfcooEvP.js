(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Kn(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Z={},zt=[],tt=()=>{},lc=()=>!1,Pr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),zn=e=>e.startsWith("onUpdate:"),xe=Object.assign,Gn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},cc=Object.prototype.hasOwnProperty,Q=(e,t)=>cc.call(e,t),B=Array.isArray,Gt=e=>Cr(e)==="[object Map]",ca=e=>Cr(e)==="[object Set]",j=e=>typeof e=="function",le=e=>typeof e=="string",St=e=>typeof e=="symbol",se=e=>e!==null&&typeof e=="object",ua=e=>(se(e)||j(e))&&j(e.then)&&j(e.catch),da=Object.prototype.toString,Cr=e=>da.call(e),uc=e=>Cr(e).slice(8,-1),fa=e=>Cr(e)==="[object Object]",Yn=e=>le(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,_s=Kn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ir=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},dc=/-(\w)/g,Be=Ir(e=>e.replace(dc,(t,s)=>s?s.toUpperCase():"")),fc=/\B([A-Z])/g,Et=Ir(e=>e.replace(fc,"-$1").toLowerCase()),Ar=Ir(e=>e.charAt(0).toUpperCase()+e.slice(1)),Wr=Ir(e=>e?`on${Ar(e)}`:""),Ot=(e,t)=>!Object.is(e,t),rr=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},pn=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},mn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Oo;const Tr=()=>Oo||(Oo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function qs(e){if(B(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],r=le(n)?gc(n):qs(n);if(r)for(const o in r)t[o]=r[o]}return t}else if(le(e)||se(e))return e}const hc=/;(?![^(]*\))/g,pc=/:([^]+)/,mc=/\/\*[^]*?\*\//g;function gc(e){const t={};return e.replace(mc,"").split(hc).forEach(s=>{if(s){const n=s.split(pc);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function ae(e){let t="";if(le(e))t=e;else if(B(e))for(let s=0;s<e.length;s++){const n=ae(e[s]);n&&(t+=n+" ")}else if(se(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const yc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",_c=Kn(yc);function ha(e){return!!e||e===""}const pa=e=>!!(e&&e.__v_isRef===!0),_=e=>le(e)?e:e==null?"":B(e)||se(e)&&(e.toString===da||!j(e.toString))?pa(e)?_(e.value):JSON.stringify(e,ma,2):String(e),ma=(e,t)=>pa(t)?ma(e,t.value):Gt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,r],o)=>(s[Qr(n,o)+" =>"]=r,s),{})}:ca(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Qr(s))}:St(t)?Qr(t):se(t)&&!B(t)&&!fa(t)?String(t):t,Qr=(e,t="")=>{var s;return St(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ke;class bc{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ke,!t&&ke&&(this.index=(ke.scopes||(ke.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=ke;try{return ke=this,t()}finally{ke=s}}}on(){++this._on===1&&(this.prevScope=ke,ke=this)}off(){this._on>0&&--this._on===0&&(ke=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function vc(){return ke}let te;const Kr=new WeakSet;class ga{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ke&&ke.active&&ke.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Kr.has(this)&&(Kr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||_a(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Fo(this),ba(this);const t=te,s=Ve;te=this,Ve=!0;try{return this.fn()}finally{va(this),te=t,Ve=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Zn(t);this.deps=this.depsTail=void 0,Fo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Kr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){gn(this)&&this.run()}get dirty(){return gn(this)}}let ya=0,bs,vs;function _a(e,t=!1){if(e.flags|=8,t){e.next=vs,vs=e;return}e.next=bs,bs=e}function Jn(){ya++}function Xn(){if(--ya>0)return;if(vs){let t=vs;for(vs=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;bs;){let t=bs;for(bs=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function ba(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function va(e){let t,s=e.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),Zn(n),xc(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}e.deps=t,e.depsTail=s}function gn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(xa(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function xa(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Is)||(e.globalVersion=Is,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!gn(e))))return;e.flags|=2;const t=e.dep,s=te,n=Ve;te=e,Ve=!0;try{ba(e);const r=e.fn(e._value);(t.version===0||Ot(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{te=s,Ve=n,va(e),e.flags&=-3}}function Zn(e,t=!1){const{dep:s,prevSub:n,nextSub:r}=e;if(n&&(n.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let o=s.computed.deps;o;o=o.nextDep)Zn(o,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function xc(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Ve=!0;const wa=[];function dt(){wa.push(Ve),Ve=!1}function ft(){const e=wa.pop();Ve=e===void 0?!0:e}function Fo(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=te;te=void 0;try{t()}finally{te=s}}}let Is=0;class wc{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Sa{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!te||!Ve||te===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==te)s=this.activeLink=new wc(te,this),te.deps?(s.prevDep=te.depsTail,te.depsTail.nextDep=s,te.depsTail=s):te.deps=te.depsTail=s,Ea(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=te.depsTail,s.nextDep=void 0,te.depsTail.nextDep=s,te.depsTail=s,te.deps===s&&(te.deps=n)}return s}trigger(t){this.version++,Is++,this.notify(t)}notify(t){Jn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Xn()}}}function Ea(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)Ea(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const yn=new WeakMap,Ft=Symbol(""),_n=Symbol(""),As=Symbol("");function pe(e,t,s){if(Ve&&te){let n=yn.get(e);n||yn.set(e,n=new Map);let r=n.get(s);r||(n.set(s,r=new Sa),r.map=n,r.key=s),r.track()}}function lt(e,t,s,n,r,o){const i=yn.get(e);if(!i){Is++;return}const a=l=>{l&&l.trigger()};if(Jn(),t==="clear")i.forEach(a);else{const l=B(e),d=l&&Yn(s);if(l&&s==="length"){const u=Number(n);i.forEach((h,y)=>{(y==="length"||y===As||!St(y)&&y>=u)&&a(h)})}else switch((s!==void 0||i.has(void 0))&&a(i.get(s)),d&&a(i.get(As)),t){case"add":l?d&&a(i.get("length")):(a(i.get(Ft)),Gt(e)&&a(i.get(_n)));break;case"delete":l||(a(i.get(Ft)),Gt(e)&&a(i.get(_n)));break;case"set":Gt(e)&&a(i.get(Ft));break}}Xn()}function Wt(e){const t=Y(e);return t===e?t:(pe(t,"iterate",As),$e(e)?t:t.map(ye))}function Dr(e){return pe(e=Y(e),"iterate",As),e}const Sc={__proto__:null,[Symbol.iterator](){return zr(this,Symbol.iterator,ye)},concat(...e){return Wt(this).concat(...e.map(t=>B(t)?Wt(t):t))},entries(){return zr(this,"entries",e=>(e[1]=ye(e[1]),e))},every(e,t){return ot(this,"every",e,t,void 0,arguments)},filter(e,t){return ot(this,"filter",e,t,s=>s.map(ye),arguments)},find(e,t){return ot(this,"find",e,t,ye,arguments)},findIndex(e,t){return ot(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return ot(this,"findLast",e,t,ye,arguments)},findLastIndex(e,t){return ot(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return ot(this,"forEach",e,t,void 0,arguments)},includes(...e){return Gr(this,"includes",e)},indexOf(...e){return Gr(this,"indexOf",e)},join(e){return Wt(this).join(e)},lastIndexOf(...e){return Gr(this,"lastIndexOf",e)},map(e,t){return ot(this,"map",e,t,void 0,arguments)},pop(){return hs(this,"pop")},push(...e){return hs(this,"push",e)},reduce(e,...t){return qo(this,"reduce",e,t)},reduceRight(e,...t){return qo(this,"reduceRight",e,t)},shift(){return hs(this,"shift")},some(e,t){return ot(this,"some",e,t,void 0,arguments)},splice(...e){return hs(this,"splice",e)},toReversed(){return Wt(this).toReversed()},toSorted(e){return Wt(this).toSorted(e)},toSpliced(...e){return Wt(this).toSpliced(...e)},unshift(...e){return hs(this,"unshift",e)},values(){return zr(this,"values",ye)}};function zr(e,t,s){const n=Dr(e),r=n[t]();return n!==e&&!$e(e)&&(r._next=r.next,r.next=()=>{const o=r._next();return o.value&&(o.value=s(o.value)),o}),r}const Ec=Array.prototype;function ot(e,t,s,n,r,o){const i=Dr(e),a=i!==e&&!$e(e),l=i[t];if(l!==Ec[t]){const h=l.apply(e,o);return a?ye(h):h}let d=s;i!==e&&(a?d=function(h,y){return s.call(this,ye(h),y,e)}:s.length>2&&(d=function(h,y){return s.call(this,h,y,e)}));const u=l.call(i,d,n);return a&&r?r(u):u}function qo(e,t,s,n){const r=Dr(e);let o=s;return r!==e&&($e(e)?s.length>3&&(o=function(i,a,l){return s.call(this,i,a,l,e)}):o=function(i,a,l){return s.call(this,i,ye(a),l,e)}),r[t](o,...n)}function Gr(e,t,s){const n=Y(e);pe(n,"iterate",As);const r=n[t](...s);return(r===-1||r===!1)&&ro(s[0])?(s[0]=Y(s[0]),n[t](...s)):r}function hs(e,t,s=[]){dt(),Jn();const n=Y(e)[t].apply(e,s);return Xn(),ft(),n}const kc=Kn("__proto__,__v_isRef,__isVue"),ka=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(St));function Pc(e){St(e)||(e=String(e));const t=Y(this);return pe(t,"has",e),t.hasOwnProperty(e)}class Pa{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const r=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return o;if(s==="__v_raw")return n===(r?o?Fc:Ta:o?Aa:Ia).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const i=B(t);if(!r){let l;if(i&&(l=Sc[s]))return l;if(s==="hasOwnProperty")return Pc}const a=Reflect.get(t,s,ve(t)?t:n);return(St(s)?ka.has(s):kc(s))||(r||pe(t,"get",s),o)?a:ve(a)?i&&Yn(s)?a:a.value:se(a)?r?Da(a):to(a):a}}class Ca extends Pa{constructor(t=!1){super(!1,t)}set(t,s,n,r){let o=t[s];if(!this._isShallow){const l=Mt(o);if(!$e(n)&&!Mt(n)&&(o=Y(o),n=Y(n)),!B(t)&&ve(o)&&!ve(n))return l?!1:(o.value=n,!0)}const i=B(t)&&Yn(s)?Number(s)<t.length:Q(t,s),a=Reflect.set(t,s,n,ve(t)?t:r);return t===Y(r)&&(i?Ot(n,o)&&lt(t,"set",s,n):lt(t,"add",s,n)),a}deleteProperty(t,s){const n=Q(t,s);t[s];const r=Reflect.deleteProperty(t,s);return r&&n&&lt(t,"delete",s,void 0),r}has(t,s){const n=Reflect.has(t,s);return(!St(s)||!ka.has(s))&&pe(t,"has",s),n}ownKeys(t){return pe(t,"iterate",B(t)?"length":Ft),Reflect.ownKeys(t)}}class Cc extends Pa{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Ic=new Ca,Ac=new Cc,Tc=new Ca(!0);const bn=e=>e,zs=e=>Reflect.getPrototypeOf(e);function Dc(e,t,s){return function(...n){const r=this.__v_raw,o=Y(r),i=Gt(o),a=e==="entries"||e===Symbol.iterator&&i,l=e==="keys"&&i,d=r[e](...n),u=s?bn:t?fr:ye;return!t&&pe(o,"iterate",l?_n:Ft),{next(){const{value:h,done:y}=d.next();return y?{value:h,done:y}:{value:a?[u(h[0]),u(h[1])]:u(h),done:y}},[Symbol.iterator](){return this}}}}function Gs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Rc(e,t){const s={get(r){const o=this.__v_raw,i=Y(o),a=Y(r);e||(Ot(r,a)&&pe(i,"get",r),pe(i,"get",a));const{has:l}=zs(i),d=t?bn:e?fr:ye;if(l.call(i,r))return d(o.get(r));if(l.call(i,a))return d(o.get(a));o!==i&&o.get(r)},get size(){const r=this.__v_raw;return!e&&pe(Y(r),"iterate",Ft),Reflect.get(r,"size",r)},has(r){const o=this.__v_raw,i=Y(o),a=Y(r);return e||(Ot(r,a)&&pe(i,"has",r),pe(i,"has",a)),r===a?o.has(r):o.has(r)||o.has(a)},forEach(r,o){const i=this,a=i.__v_raw,l=Y(a),d=t?bn:e?fr:ye;return!e&&pe(l,"iterate",Ft),a.forEach((u,h)=>r.call(o,d(u),d(h),i))}};return xe(s,e?{add:Gs("add"),set:Gs("set"),delete:Gs("delete"),clear:Gs("clear")}:{add(r){!t&&!$e(r)&&!Mt(r)&&(r=Y(r));const o=Y(this);return zs(o).has.call(o,r)||(o.add(r),lt(o,"add",r,r)),this},set(r,o){!t&&!$e(o)&&!Mt(o)&&(o=Y(o));const i=Y(this),{has:a,get:l}=zs(i);let d=a.call(i,r);d||(r=Y(r),d=a.call(i,r));const u=l.call(i,r);return i.set(r,o),d?Ot(o,u)&&lt(i,"set",r,o):lt(i,"add",r,o),this},delete(r){const o=Y(this),{has:i,get:a}=zs(o);let l=i.call(o,r);l||(r=Y(r),l=i.call(o,r)),a&&a.call(o,r);const d=o.delete(r);return l&&lt(o,"delete",r,void 0),d},clear(){const r=Y(this),o=r.size!==0,i=r.clear();return o&&lt(r,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=Dc(r,e,t)}),s}function eo(e,t){const s=Rc(e,t);return(n,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?n:Reflect.get(Q(s,r)&&r in n?s:n,r,o)}const Lc={get:eo(!1,!1)},Nc={get:eo(!1,!0)},Oc={get:eo(!0,!1)};const Ia=new WeakMap,Aa=new WeakMap,Ta=new WeakMap,Fc=new WeakMap;function qc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Mc(e){return e.__v_skip||!Object.isExtensible(e)?0:qc(uc(e))}function to(e){return Mt(e)?e:so(e,!1,Ic,Lc,Ia)}function Bc(e){return so(e,!1,Tc,Nc,Aa)}function Da(e){return so(e,!0,Ac,Oc,Ta)}function so(e,t,s,n,r){if(!se(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=Mc(e);if(o===0)return e;const i=r.get(e);if(i)return i;const a=new Proxy(e,o===2?n:s);return r.set(e,a),a}function Yt(e){return Mt(e)?Yt(e.__v_raw):!!(e&&e.__v_isReactive)}function Mt(e){return!!(e&&e.__v_isReadonly)}function $e(e){return!!(e&&e.__v_isShallow)}function ro(e){return e?!!e.__v_raw:!1}function Y(e){const t=e&&e.__v_raw;return t?Y(t):e}function jc(e){return!Q(e,"__v_skip")&&Object.isExtensible(e)&&pn(e,"__v_skip",!0),e}const ye=e=>se(e)?to(e):e,fr=e=>se(e)?Da(e):e;function ve(e){return e?e.__v_isRef===!0:!1}function Uc(e){return ve(e)?e.value:e}const Hc={get:(e,t,s)=>t==="__v_raw"?e:Uc(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const r=e[t];return ve(r)&&!ve(s)?(r.value=s,!0):Reflect.set(e,t,s,n)}};function Ra(e){return Yt(e)?e:new Proxy(e,Hc)}class Vc{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Sa(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Is-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&te!==this)return _a(this,!0),!0}get value(){const t=this.dep.track();return xa(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function $c(e,t,s=!1){let n,r;return j(e)?n=e:(n=e.get,r=e.set),new Vc(n,r,s)}const Ys={},hr=new WeakMap;let Rt;function Wc(e,t=!1,s=Rt){if(s){let n=hr.get(s);n||hr.set(s,n=[]),n.push(e)}}function Qc(e,t,s=Z){const{immediate:n,deep:r,once:o,scheduler:i,augmentJob:a,call:l}=s,d=q=>r?q:$e(q)||r===!1||r===0?ct(q,1):ct(q);let u,h,y,b,D=!1,F=!1;if(ve(e)?(h=()=>e.value,D=$e(e)):Yt(e)?(h=()=>d(e),D=!0):B(e)?(F=!0,D=e.some(q=>Yt(q)||$e(q)),h=()=>e.map(q=>{if(ve(q))return q.value;if(Yt(q))return d(q);if(j(q))return l?l(q,2):q()})):j(e)?t?h=l?()=>l(e,2):e:h=()=>{if(y){dt();try{y()}finally{ft()}}const q=Rt;Rt=u;try{return l?l(e,3,[b]):e(b)}finally{Rt=q}}:h=tt,t&&r){const q=h,re=r===!0?1/0:r;h=()=>ct(q(),re)}const $=vc(),U=()=>{u.stop(),$&&$.active&&Gn($.effects,u)};if(o&&t){const q=t;t=(...re)=>{q(...re),U()}}let K=F?new Array(e.length).fill(Ys):Ys;const G=q=>{if(!(!(u.flags&1)||!u.dirty&&!q))if(t){const re=u.run();if(r||D||(F?re.some((Ue,Ae)=>Ot(Ue,K[Ae])):Ot(re,K))){y&&y();const Ue=Rt;Rt=u;try{const Ae=[re,K===Ys?void 0:F&&K[0]===Ys?[]:K,b];K=re,l?l(t,3,Ae):t(...Ae)}finally{Rt=Ue}}}else u.run()};return a&&a(G),u=new ga(h),u.scheduler=i?()=>i(G,!1):G,b=q=>Wc(q,!1,u),y=u.onStop=()=>{const q=hr.get(u);if(q){if(l)l(q,4);else for(const re of q)re();hr.delete(u)}},t?n?G(!0):K=u.run():i?i(G.bind(null,!0),!0):u.run(),U.pause=u.pause.bind(u),U.resume=u.resume.bind(u),U.stop=U,U}function ct(e,t=1/0,s){if(t<=0||!se(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,ve(e))ct(e.value,t,s);else if(B(e))for(let n=0;n<e.length;n++)ct(e[n],t,s);else if(ca(e)||Gt(e))e.forEach(n=>{ct(n,t,s)});else if(fa(e)){for(const n in e)ct(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&ct(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ms(e,t,s,n){try{return n?e(...n):e()}catch(r){Rr(r,t,s)}}function st(e,t,s,n){if(j(e)){const r=Ms(e,t,s,n);return r&&ua(r)&&r.catch(o=>{Rr(o,t,s)}),r}if(B(e)){const r=[];for(let o=0;o<e.length;o++)r.push(st(e[o],t,s,n));return r}}function Rr(e,t,s,n=!0){const r=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||Z;if(t){let a=t.parent;const l=t.proxy,d=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](e,l,d)===!1)return}a=a.parent}if(o){dt(),Ms(o,null,10,[e,l,d]),ft();return}}Kc(e,s,r,n,i)}function Kc(e,t,s,n=!0,r=!1){if(r)throw e;console.error(e)}const _e=[];let Ze=-1;const Jt=[];let gt=null,Qt=0;const La=Promise.resolve();let pr=null;function zc(e){const t=pr||La;return e?t.then(this?e.bind(this):e):t}function Gc(e){let t=Ze+1,s=_e.length;for(;t<s;){const n=t+s>>>1,r=_e[n],o=Ts(r);o<e||o===e&&r.flags&2?t=n+1:s=n}return t}function no(e){if(!(e.flags&1)){const t=Ts(e),s=_e[_e.length-1];!s||!(e.flags&2)&&t>=Ts(s)?_e.push(e):_e.splice(Gc(t),0,e),e.flags|=1,Na()}}function Na(){pr||(pr=La.then(Fa))}function Yc(e){B(e)?Jt.push(...e):gt&&e.id===-1?gt.splice(Qt+1,0,e):e.flags&1||(Jt.push(e),e.flags|=1),Na()}function Mo(e,t,s=Ze+1){for(;s<_e.length;s++){const n=_e[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;_e.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Oa(e){if(Jt.length){const t=[...new Set(Jt)].sort((s,n)=>Ts(s)-Ts(n));if(Jt.length=0,gt){gt.push(...t);return}for(gt=t,Qt=0;Qt<gt.length;Qt++){const s=gt[Qt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}gt=null,Qt=0}}const Ts=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Fa(e){try{for(Ze=0;Ze<_e.length;Ze++){const t=_e[Ze];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ms(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ze<_e.length;Ze++){const t=_e[Ze];t&&(t.flags&=-2)}Ze=-1,_e.length=0,Oa(),pr=null,(_e.length||Jt.length)&&Fa()}}let Re=null,qa=null;function mr(e){const t=Re;return Re=e,qa=e&&e.type.__scopeId||null,t}function Jc(e,t=Re,s){if(!t||e._n)return e;const n=(...r)=>{n._d&&zo(-1);const o=mr(t);let i;try{i=e(...r)}finally{mr(o),n._d&&zo(1)}return i};return n._n=!0,n._c=!0,n._d=!0,n}function ue(e,t){if(Re===null)return e;const s=Fr(Re),n=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,i,a,l=Z]=t[r];o&&(j(o)&&(o={mounted:o,updated:o}),o.deep&&ct(i),n.push({dir:o,instance:s,value:i,oldValue:void 0,arg:a,modifiers:l}))}return e}function Tt(e,t,s,n){const r=e.dirs,o=t&&t.dirs;for(let i=0;i<r.length;i++){const a=r[i];o&&(a.oldValue=o[i].value);let l=a.dir[n];l&&(dt(),st(l,s,8,[e.el,a,e,t]),ft())}}const Xc=Symbol("_vte"),Zc=e=>e.__isTeleport;function oo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,oo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ma(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function xs(e,t,s,n,r=!1){if(B(e)){e.forEach((D,F)=>xs(D,t&&(B(t)?t[F]:t),s,n,r));return}if(ws(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&xs(e,t,s,n.component.subTree);return}const o=n.shapeFlag&4?Fr(n.component):n.el,i=r?null:o,{i:a,r:l}=e,d=t&&t.r,u=a.refs===Z?a.refs={}:a.refs,h=a.setupState,y=Y(h),b=h===Z?()=>!1:D=>Q(y,D);if(d!=null&&d!==l&&(le(d)?(u[d]=null,b(d)&&(h[d]=null)):ve(d)&&(d.value=null)),j(l))Ms(l,a,12,[i,u]);else{const D=le(l),F=ve(l);if(D||F){const $=()=>{if(e.f){const U=D?b(l)?h[l]:u[l]:l.value;r?B(U)&&Gn(U,o):B(U)?U.includes(o)||U.push(o):D?(u[l]=[o],b(l)&&(h[l]=u[l])):(l.value=[o],e.k&&(u[e.k]=l.value))}else D?(u[l]=i,b(l)&&(h[l]=i)):F&&(l.value=i,e.k&&(u[e.k]=i))};i?($.id=-1,De($,s)):$()}}}Tr().requestIdleCallback;Tr().cancelIdleCallback;const ws=e=>!!e.type.__asyncLoader,Ba=e=>e.type.__isKeepAlive;function eu(e,t){ja(e,"a",t)}function tu(e,t){ja(e,"da",t)}function ja(e,t,s=me){const n=e.__wdc||(e.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Lr(t,n,s),s){let r=s.parent;for(;r&&r.parent;)Ba(r.parent.vnode)&&su(n,t,s,r),r=r.parent}}function su(e,t,s,n){const r=Lr(t,e,n,!0);Ua(()=>{Gn(n[t],r)},s)}function Lr(e,t,s=me,n=!1){if(s){const r=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...i)=>{dt();const a=Bs(s),l=st(t,s,e,i);return a(),ft(),l});return n?r.unshift(o):r.push(o),o}}const ht=e=>(t,s=me)=>{(!Rs||e==="sp")&&Lr(e,(...n)=>t(...n),s)},ru=ht("bm"),nu=ht("m"),ou=ht("bu"),iu=ht("u"),au=ht("bum"),Ua=ht("um"),lu=ht("sp"),cu=ht("rtg"),uu=ht("rtc");function du(e,t=me){Lr("ec",e,t)}const fu="components";function Nt(e,t){return pu(fu,e,!0,t)||e}const hu=Symbol.for("v-ndc");function pu(e,t,s=!0,n=!1){const r=Re||me;if(r){const o=r.type;{const a=sd(o,!1);if(a&&(a===t||a===Be(t)||a===Ar(Be(t))))return o}const i=Bo(r[e]||o[e],t)||Bo(r.appContext[e],t);return!i&&n?o:i}}function Bo(e,t){return e&&(e[t]||e[Be(t)]||e[Ar(Be(t))])}function Fe(e,t,s,n){let r;const o=s,i=B(e);if(i||le(e)){const a=i&&Yt(e);let l=!1,d=!1;a&&(l=!$e(e),d=Mt(e),e=Dr(e)),r=new Array(e.length);for(let u=0,h=e.length;u<h;u++)r[u]=t(l?d?fr(ye(e[u])):ye(e[u]):e[u],u,void 0,o)}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,o)}else if(se(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,o));else{const a=Object.keys(e);r=new Array(a.length);for(let l=0,d=a.length;l<d;l++){const u=a[l];r[l]=t(e[u],u,l,o)}}else r=[];return r}const vn=e=>e?ll(e)?Fr(e):vn(e.parent):null,Ss=xe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>vn(e.parent),$root:e=>vn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Va(e),$forceUpdate:e=>e.f||(e.f=()=>{no(e.update)}),$nextTick:e=>e.n||(e.n=zc.bind(e.proxy)),$watch:e=>Fu.bind(e)}),Yr=(e,t)=>e!==Z&&!e.__isScriptSetup&&Q(e,t),mu={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:o,accessCache:i,type:a,appContext:l}=e;let d;if(t[0]!=="$"){const b=i[t];if(b!==void 0)switch(b){case 1:return n[t];case 2:return r[t];case 4:return s[t];case 3:return o[t]}else{if(Yr(n,t))return i[t]=1,n[t];if(r!==Z&&Q(r,t))return i[t]=2,r[t];if((d=e.propsOptions[0])&&Q(d,t))return i[t]=3,o[t];if(s!==Z&&Q(s,t))return i[t]=4,s[t];xn&&(i[t]=0)}}const u=Ss[t];let h,y;if(u)return t==="$attrs"&&pe(e.attrs,"get",""),u(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(s!==Z&&Q(s,t))return i[t]=4,s[t];if(y=l.config.globalProperties,Q(y,t))return y[t]},set({_:e},t,s){const{data:n,setupState:r,ctx:o}=e;return Yr(r,t)?(r[t]=s,!0):n!==Z&&Q(n,t)?(n[t]=s,!0):Q(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:r,propsOptions:o}},i){let a;return!!s[i]||e!==Z&&Q(e,i)||Yr(t,i)||(a=o[0])&&Q(a,i)||Q(n,i)||Q(Ss,i)||Q(r.config.globalProperties,i)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Q(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function jo(e){return B(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let xn=!0;function gu(e){const t=Va(e),s=e.proxy,n=e.ctx;xn=!1,t.beforeCreate&&Uo(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:i,watch:a,provide:l,inject:d,created:u,beforeMount:h,mounted:y,beforeUpdate:b,updated:D,activated:F,deactivated:$,beforeDestroy:U,beforeUnmount:K,destroyed:G,unmounted:q,render:re,renderTracked:Ue,renderTriggered:Ae,errorCaptured:He,serverPrefetch:Ct,expose:Ke,inheritAttrs:pt,components:x,directives:we,filters:nt}=t;if(d&&yu(d,n,null),i)for(const W in i){const H=i[W];j(H)&&(n[W]=H.bind(s))}if(r){const W=r.call(s,s);se(W)&&(e.data=to(W))}if(xn=!0,o)for(const W in o){const H=o[W],It=j(H)?H.bind(s,s):j(H.get)?H.get.bind(s,s):tt,Qs=!j(H)&&j(H.set)?H.set.bind(s):tt,At=nd({get:It,set:Qs});Object.defineProperty(n,W,{enumerable:!0,configurable:!0,get:()=>At.value,set:ze=>At.value=ze})}if(a)for(const W in a)Ha(a[W],n,s,W);if(l){const W=j(l)?l.call(s):l;Reflect.ownKeys(W).forEach(H=>{Su(H,W[H])})}u&&Uo(u,e,"c");function oe(W,H){B(H)?H.forEach(It=>W(It.bind(s))):H&&W(H.bind(s))}if(oe(ru,h),oe(nu,y),oe(ou,b),oe(iu,D),oe(eu,F),oe(tu,$),oe(du,He),oe(uu,Ue),oe(cu,Ae),oe(au,K),oe(Ua,q),oe(lu,Ct),B(Ke))if(Ke.length){const W=e.exposed||(e.exposed={});Ke.forEach(H=>{Object.defineProperty(W,H,{get:()=>s[H],set:It=>s[H]=It,enumerable:!0})})}else e.exposed||(e.exposed={});re&&e.render===tt&&(e.render=re),pt!=null&&(e.inheritAttrs=pt),x&&(e.components=x),we&&(e.directives=we),Ct&&Ma(e)}function yu(e,t,s=tt){B(e)&&(e=wn(e));for(const n in e){const r=e[n];let o;se(r)?"default"in r?o=nr(r.from||n,r.default,!0):o=nr(r.from||n):o=nr(r),ve(o)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):t[n]=o}}function Uo(e,t,s){st(B(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Ha(e,t,s,n){let r=n.includes(".")?sl(s,n):()=>s[n];if(le(e)){const o=t[e];j(o)&&Xr(r,o)}else if(j(e))Xr(r,e.bind(s));else if(se(e))if(B(e))e.forEach(o=>Ha(o,t,s,n));else{const o=j(e.handler)?e.handler.bind(s):t[e.handler];j(o)&&Xr(r,o,e)}}function Va(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:i}}=e.appContext,a=o.get(t);let l;return a?l=a:!r.length&&!s&&!n?l=t:(l={},r.length&&r.forEach(d=>gr(l,d,i,!0)),gr(l,t,i)),se(t)&&o.set(t,l),l}function gr(e,t,s,n=!1){const{mixins:r,extends:o}=t;o&&gr(e,o,s,!0),r&&r.forEach(i=>gr(e,i,s,!0));for(const i in t)if(!(n&&i==="expose")){const a=_u[i]||s&&s[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const _u={data:Ho,props:Vo,emits:Vo,methods:ms,computed:ms,beforeCreate:ge,created:ge,beforeMount:ge,mounted:ge,beforeUpdate:ge,updated:ge,beforeDestroy:ge,beforeUnmount:ge,destroyed:ge,unmounted:ge,activated:ge,deactivated:ge,errorCaptured:ge,serverPrefetch:ge,components:ms,directives:ms,watch:vu,provide:Ho,inject:bu};function Ho(e,t){return t?e?function(){return xe(j(e)?e.call(this,this):e,j(t)?t.call(this,this):t)}:t:e}function bu(e,t){return ms(wn(e),wn(t))}function wn(e){if(B(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function ge(e,t){return e?[...new Set([].concat(e,t))]:t}function ms(e,t){return e?xe(Object.create(null),e,t):t}function Vo(e,t){return e?B(e)&&B(t)?[...new Set([...e,...t])]:xe(Object.create(null),jo(e),jo(t??{})):t}function vu(e,t){if(!e)return t;if(!t)return e;const s=xe(Object.create(null),e);for(const n in t)s[n]=ge(e[n],t[n]);return s}function $a(){return{app:null,config:{isNativeTag:lc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let xu=0;function wu(e,t){return function(n,r=null){j(n)||(n=xe({},n)),r!=null&&!se(r)&&(r=null);const o=$a(),i=new WeakSet,a=[];let l=!1;const d=o.app={_uid:xu++,_component:n,_props:r,_container:null,_context:o,_instance:null,version:od,get config(){return o.config},set config(u){},use(u,...h){return i.has(u)||(u&&j(u.install)?(i.add(u),u.install(d,...h)):j(u)&&(i.add(u),u(d,...h))),d},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),d},component(u,h){return h?(o.components[u]=h,d):o.components[u]},directive(u,h){return h?(o.directives[u]=h,d):o.directives[u]},mount(u,h,y){if(!l){const b=d._ceVNode||Oe(n,r);return b.appContext=o,y===!0?y="svg":y===!1&&(y=void 0),e(b,u,y),l=!0,d._container=u,u.__vue_app__=d,Fr(b.component)}},onUnmount(u){a.push(u)},unmount(){l&&(st(a,d._instance,16),e(null,d._container),delete d._container.__vue_app__)},provide(u,h){return o.provides[u]=h,d},runWithContext(u){const h=Xt;Xt=d;try{return u()}finally{Xt=h}}};return d}}let Xt=null;function Su(e,t){if(me){let s=me.provides;const n=me.parent&&me.parent.provides;n===s&&(s=me.provides=Object.create(n)),s[e]=t}}function nr(e,t,s=!1){const n=Ju();if(n||Xt){let r=Xt?Xt._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return s&&j(t)?t.call(n&&n.proxy):t}}const Wa={},Qa=()=>Object.create(Wa),Ka=e=>Object.getPrototypeOf(e)===Wa;function Eu(e,t,s,n=!1){const r={},o=Qa();e.propsDefaults=Object.create(null),za(e,t,r,o);for(const i in e.propsOptions[0])i in r||(r[i]=void 0);s?e.props=n?r:Bc(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function ku(e,t,s,n){const{props:r,attrs:o,vnode:{patchFlag:i}}=e,a=Y(r),[l]=e.propsOptions;let d=!1;if((n||i>0)&&!(i&16)){if(i&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let y=u[h];if(Nr(e.emitsOptions,y))continue;const b=t[y];if(l)if(Q(o,y))b!==o[y]&&(o[y]=b,d=!0);else{const D=Be(y);r[D]=Sn(l,a,D,b,e,!1)}else b!==o[y]&&(o[y]=b,d=!0)}}}else{za(e,t,r,o)&&(d=!0);let u;for(const h in a)(!t||!Q(t,h)&&((u=Et(h))===h||!Q(t,u)))&&(l?s&&(s[h]!==void 0||s[u]!==void 0)&&(r[h]=Sn(l,a,h,void 0,e,!0)):delete r[h]);if(o!==a)for(const h in o)(!t||!Q(t,h))&&(delete o[h],d=!0)}d&&lt(e.attrs,"set","")}function za(e,t,s,n){const[r,o]=e.propsOptions;let i=!1,a;if(t)for(let l in t){if(_s(l))continue;const d=t[l];let u;r&&Q(r,u=Be(l))?!o||!o.includes(u)?s[u]=d:(a||(a={}))[u]=d:Nr(e.emitsOptions,l)||(!(l in n)||d!==n[l])&&(n[l]=d,i=!0)}if(o){const l=Y(s),d=a||Z;for(let u=0;u<o.length;u++){const h=o[u];s[h]=Sn(r,l,h,d[h],e,!Q(d,h))}}return i}function Sn(e,t,s,n,r,o){const i=e[s];if(i!=null){const a=Q(i,"default");if(a&&n===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&j(l)){const{propsDefaults:d}=r;if(s in d)n=d[s];else{const u=Bs(r);n=d[s]=l.call(null,t),u()}}else n=l;r.ce&&r.ce._setProp(s,n)}i[0]&&(o&&!a?n=!1:i[1]&&(n===""||n===Et(s))&&(n=!0))}return n}const Pu=new WeakMap;function Ga(e,t,s=!1){const n=s?Pu:t.propsCache,r=n.get(e);if(r)return r;const o=e.props,i={},a=[];let l=!1;if(!j(e)){const u=h=>{l=!0;const[y,b]=Ga(h,t,!0);xe(i,y),b&&a.push(...b)};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!l)return se(e)&&n.set(e,zt),zt;if(B(o))for(let u=0;u<o.length;u++){const h=Be(o[u]);$o(h)&&(i[h]=Z)}else if(o)for(const u in o){const h=Be(u);if($o(h)){const y=o[u],b=i[h]=B(y)||j(y)?{type:y}:xe({},y),D=b.type;let F=!1,$=!0;if(B(D))for(let U=0;U<D.length;++U){const K=D[U],G=j(K)&&K.name;if(G==="Boolean"){F=!0;break}else G==="String"&&($=!1)}else F=j(D)&&D.name==="Boolean";b[0]=F,b[1]=$,(F||Q(b,"default"))&&a.push(h)}}const d=[i,a];return se(e)&&n.set(e,d),d}function $o(e){return e[0]!=="$"&&!_s(e)}const io=e=>e==="_"||e==="__"||e==="_ctx"||e==="$stable",ao=e=>B(e)?e.map(et):[et(e)],Cu=(e,t,s)=>{if(t._n)return t;const n=Jc((...r)=>ao(t(...r)),s);return n._c=!1,n},Ya=(e,t,s)=>{const n=e._ctx;for(const r in e){if(io(r))continue;const o=e[r];if(j(o))t[r]=Cu(r,o,n);else if(o!=null){const i=ao(o);t[r]=()=>i}}},Ja=(e,t)=>{const s=ao(t);e.slots.default=()=>s},Xa=(e,t,s)=>{for(const n in t)(s||!io(n))&&(e[n]=t[n])},Iu=(e,t,s)=>{const n=e.slots=Qa();if(e.vnode.shapeFlag&32){const r=t.__;r&&pn(n,"__",r,!0);const o=t._;o?(Xa(n,t,s),s&&pn(n,"_",o,!0)):Ya(t,n)}else t&&Ja(e,t)},Au=(e,t,s)=>{const{vnode:n,slots:r}=e;let o=!0,i=Z;if(n.shapeFlag&32){const a=t._;a?s&&a===1?o=!1:Xa(r,t,s):(o=!t.$stable,Ya(t,r)),i=t}else t&&(Ja(e,t),i={default:1});if(o)for(const a in r)!io(a)&&i[a]==null&&delete r[a]},De=Vu;function Tu(e){return Du(e)}function Du(e,t){const s=Tr();s.__VUE__=!0;const{insert:n,remove:r,patchProp:o,createElement:i,createText:a,createComment:l,setText:d,setElementText:u,parentNode:h,nextSibling:y,setScopeId:b=tt,insertStaticContent:D}=e,F=(f,p,v,E=null,w=null,S=null,A=void 0,I=null,C=!!p.dynamicChildren)=>{if(f===p)return;f&&!ps(f,p)&&(E=Ks(f),ze(f,w,S,!0),f=null),p.patchFlag===-2&&(C=!1,p.dynamicChildren=null);const{type:k,ref:N,shapeFlag:T}=p;switch(k){case Or:$(f,p,v,E);break;case bt:U(f,p,v,E);break;case or:f==null&&K(p,v,E,A);break;case ne:x(f,p,v,E,w,S,A,I,C);break;default:T&1?re(f,p,v,E,w,S,A,I,C):T&6?we(f,p,v,E,w,S,A,I,C):(T&64||T&128)&&k.process(f,p,v,E,w,S,A,I,C,ds)}N!=null&&w?xs(N,f&&f.ref,S,p||f,!p):N==null&&f&&f.ref!=null&&xs(f.ref,null,S,f,!0)},$=(f,p,v,E)=>{if(f==null)n(p.el=a(p.children),v,E);else{const w=p.el=f.el;p.children!==f.children&&d(w,p.children)}},U=(f,p,v,E)=>{f==null?n(p.el=l(p.children||""),v,E):p.el=f.el},K=(f,p,v,E)=>{[f.el,f.anchor]=D(f.children,p,v,E,f.el,f.anchor)},G=({el:f,anchor:p},v,E)=>{let w;for(;f&&f!==p;)w=y(f),n(f,v,E),f=w;n(p,v,E)},q=({el:f,anchor:p})=>{let v;for(;f&&f!==p;)v=y(f),r(f),f=v;r(p)},re=(f,p,v,E,w,S,A,I,C)=>{p.type==="svg"?A="svg":p.type==="math"&&(A="mathml"),f==null?Ue(p,v,E,w,S,A,I,C):Ct(f,p,w,S,A,I,C)},Ue=(f,p,v,E,w,S,A,I)=>{let C,k;const{props:N,shapeFlag:T,transition:L,dirs:M}=f;if(C=f.el=i(f.type,S,N&&N.is,N),T&8?u(C,f.children):T&16&&He(f.children,C,null,E,w,Jr(f,S),A,I),M&&Tt(f,null,E,"created"),Ae(C,f,f.scopeId,A,E),N){for(const ee in N)ee!=="value"&&!_s(ee)&&o(C,ee,null,N[ee],S,E);"value"in N&&o(C,"value",null,N.value,S),(k=N.onVnodeBeforeMount)&&Xe(k,E,f)}M&&Tt(f,null,E,"beforeMount");const V=Ru(w,L);V&&L.beforeEnter(C),n(C,p,v),((k=N&&N.onVnodeMounted)||V||M)&&De(()=>{k&&Xe(k,E,f),V&&L.enter(C),M&&Tt(f,null,E,"mounted")},w)},Ae=(f,p,v,E,w)=>{if(v&&b(f,v),E)for(let S=0;S<E.length;S++)b(f,E[S]);if(w){let S=w.subTree;if(p===S||nl(S.type)&&(S.ssContent===p||S.ssFallback===p)){const A=w.vnode;Ae(f,A,A.scopeId,A.slotScopeIds,w.parent)}}},He=(f,p,v,E,w,S,A,I,C=0)=>{for(let k=C;k<f.length;k++){const N=f[k]=I?yt(f[k]):et(f[k]);F(null,N,p,v,E,w,S,A,I)}},Ct=(f,p,v,E,w,S,A)=>{const I=p.el=f.el;let{patchFlag:C,dynamicChildren:k,dirs:N}=p;C|=f.patchFlag&16;const T=f.props||Z,L=p.props||Z;let M;if(v&&Dt(v,!1),(M=L.onVnodeBeforeUpdate)&&Xe(M,v,p,f),N&&Tt(p,f,v,"beforeUpdate"),v&&Dt(v,!0),(T.innerHTML&&L.innerHTML==null||T.textContent&&L.textContent==null)&&u(I,""),k?Ke(f.dynamicChildren,k,I,v,E,Jr(p,w),S):A||H(f,p,I,null,v,E,Jr(p,w),S,!1),C>0){if(C&16)pt(I,T,L,v,w);else if(C&2&&T.class!==L.class&&o(I,"class",null,L.class,w),C&4&&o(I,"style",T.style,L.style,w),C&8){const V=p.dynamicProps;for(let ee=0;ee<V.length;ee++){const z=V[ee],Se=T[z],Ee=L[z];(Ee!==Se||z==="value")&&o(I,z,Se,Ee,w,v)}}C&1&&f.children!==p.children&&u(I,p.children)}else!A&&k==null&&pt(I,T,L,v,w);((M=L.onVnodeUpdated)||N)&&De(()=>{M&&Xe(M,v,p,f),N&&Tt(p,f,v,"updated")},E)},Ke=(f,p,v,E,w,S,A)=>{for(let I=0;I<p.length;I++){const C=f[I],k=p[I],N=C.el&&(C.type===ne||!ps(C,k)||C.shapeFlag&198)?h(C.el):v;F(C,k,N,null,E,w,S,A,!0)}},pt=(f,p,v,E,w)=>{if(p!==v){if(p!==Z)for(const S in p)!_s(S)&&!(S in v)&&o(f,S,p[S],null,w,E);for(const S in v){if(_s(S))continue;const A=v[S],I=p[S];A!==I&&S!=="value"&&o(f,S,I,A,w,E)}"value"in v&&o(f,"value",p.value,v.value,w)}},x=(f,p,v,E,w,S,A,I,C)=>{const k=p.el=f?f.el:a(""),N=p.anchor=f?f.anchor:a("");let{patchFlag:T,dynamicChildren:L,slotScopeIds:M}=p;M&&(I=I?I.concat(M):M),f==null?(n(k,v,E),n(N,v,E),He(p.children||[],v,N,w,S,A,I,C)):T>0&&T&64&&L&&f.dynamicChildren?(Ke(f.dynamicChildren,L,v,w,S,A,I),(p.key!=null||w&&p===w.subTree)&&Za(f,p,!0)):H(f,p,v,N,w,S,A,I,C)},we=(f,p,v,E,w,S,A,I,C)=>{p.slotScopeIds=I,f==null?p.shapeFlag&512?w.ctx.activate(p,v,E,A,C):nt(p,v,E,w,S,A,C):mt(f,p,C)},nt=(f,p,v,E,w,S,A)=>{const I=f.component=Yu(f,E,w);if(Ba(f)&&(I.ctx.renderer=ds),Xu(I,!1,A),I.asyncDep){if(w&&w.registerDep(I,oe,A),!f.el){const C=I.subTree=Oe(bt);U(null,C,p,v),f.placeholder=C.el}}else oe(I,f,p,v,w,S,A)},mt=(f,p,v)=>{const E=p.component=f.component;if(Uu(f,p,v))if(E.asyncDep&&!E.asyncResolved){W(E,p,v);return}else E.next=p,E.update();else p.el=f.el,E.vnode=p},oe=(f,p,v,E,w,S,A)=>{const I=()=>{if(f.isMounted){let{next:T,bu:L,u:M,parent:V,vnode:ee}=f;{const Ye=el(f);if(Ye){T&&(T.el=ee.el,W(f,T,A)),Ye.asyncDep.then(()=>{f.isUnmounted||I()});return}}let z=T,Se;Dt(f,!1),T?(T.el=ee.el,W(f,T,A)):T=ee,L&&rr(L),(Se=T.props&&T.props.onVnodeBeforeUpdate)&&Xe(Se,V,T,ee),Dt(f,!0);const Ee=Qo(f),Ge=f.subTree;f.subTree=Ee,F(Ge,Ee,h(Ge.el),Ks(Ge),f,w,S),T.el=Ee.el,z===null&&Hu(f,Ee.el),M&&De(M,w),(Se=T.props&&T.props.onVnodeUpdated)&&De(()=>Xe(Se,V,T,ee),w)}else{let T;const{el:L,props:M}=p,{bm:V,m:ee,parent:z,root:Se,type:Ee}=f,Ge=ws(p);Dt(f,!1),V&&rr(V),!Ge&&(T=M&&M.onVnodeBeforeMount)&&Xe(T,z,p),Dt(f,!0);{Se.ce&&Se.ce._def.shadowRoot!==!1&&Se.ce._injectChildStyle(Ee);const Ye=f.subTree=Qo(f);F(null,Ye,v,E,f,w,S),p.el=Ye.el}if(ee&&De(ee,w),!Ge&&(T=M&&M.onVnodeMounted)){const Ye=p;De(()=>Xe(T,z,Ye),w)}(p.shapeFlag&256||z&&ws(z.vnode)&&z.vnode.shapeFlag&256)&&f.a&&De(f.a,w),f.isMounted=!0,p=v=E=null}};f.scope.on();const C=f.effect=new ga(I);f.scope.off();const k=f.update=C.run.bind(C),N=f.job=C.runIfDirty.bind(C);N.i=f,N.id=f.uid,C.scheduler=()=>no(N),Dt(f,!0),k()},W=(f,p,v)=>{p.component=f;const E=f.vnode.props;f.vnode=p,f.next=null,ku(f,p.props,E,v),Au(f,p.children,v),dt(),Mo(f),ft()},H=(f,p,v,E,w,S,A,I,C=!1)=>{const k=f&&f.children,N=f?f.shapeFlag:0,T=p.children,{patchFlag:L,shapeFlag:M}=p;if(L>0){if(L&128){Qs(k,T,v,E,w,S,A,I,C);return}else if(L&256){It(k,T,v,E,w,S,A,I,C);return}}M&8?(N&16&&us(k,w,S),T!==k&&u(v,T)):N&16?M&16?Qs(k,T,v,E,w,S,A,I,C):us(k,w,S,!0):(N&8&&u(v,""),M&16&&He(T,v,E,w,S,A,I,C))},It=(f,p,v,E,w,S,A,I,C)=>{f=f||zt,p=p||zt;const k=f.length,N=p.length,T=Math.min(k,N);let L;for(L=0;L<T;L++){const M=p[L]=C?yt(p[L]):et(p[L]);F(f[L],M,v,null,w,S,A,I,C)}k>N?us(f,w,S,!0,!1,T):He(p,v,E,w,S,A,I,C,T)},Qs=(f,p,v,E,w,S,A,I,C)=>{let k=0;const N=p.length;let T=f.length-1,L=N-1;for(;k<=T&&k<=L;){const M=f[k],V=p[k]=C?yt(p[k]):et(p[k]);if(ps(M,V))F(M,V,v,null,w,S,A,I,C);else break;k++}for(;k<=T&&k<=L;){const M=f[T],V=p[L]=C?yt(p[L]):et(p[L]);if(ps(M,V))F(M,V,v,null,w,S,A,I,C);else break;T--,L--}if(k>T){if(k<=L){const M=L+1,V=M<N?p[M].el:E;for(;k<=L;)F(null,p[k]=C?yt(p[k]):et(p[k]),v,V,w,S,A,I,C),k++}}else if(k>L)for(;k<=T;)ze(f[k],w,S,!0),k++;else{const M=k,V=k,ee=new Map;for(k=V;k<=L;k++){const Te=p[k]=C?yt(p[k]):et(p[k]);Te.key!=null&&ee.set(Te.key,k)}let z,Se=0;const Ee=L-V+1;let Ge=!1,Ye=0;const fs=new Array(Ee);for(k=0;k<Ee;k++)fs[k]=0;for(k=M;k<=T;k++){const Te=f[k];if(Se>=Ee){ze(Te,w,S,!0);continue}let Je;if(Te.key!=null)Je=ee.get(Te.key);else for(z=V;z<=L;z++)if(fs[z-V]===0&&ps(Te,p[z])){Je=z;break}Je===void 0?ze(Te,w,S,!0):(fs[Je-V]=k+1,Je>=Ye?Ye=Je:Ge=!0,F(Te,p[Je],v,null,w,S,A,I,C),Se++)}const Ro=Ge?Lu(fs):zt;for(z=Ro.length-1,k=Ee-1;k>=0;k--){const Te=V+k,Je=p[Te],Lo=p[Te+1],No=Te+1<N?Lo.el||Lo.placeholder:E;fs[k]===0?F(null,Je,v,No,w,S,A,I,C):Ge&&(z<0||k!==Ro[z]?At(Je,v,No,2):z--)}}},At=(f,p,v,E,w=null)=>{const{el:S,type:A,transition:I,children:C,shapeFlag:k}=f;if(k&6){At(f.component.subTree,p,v,E);return}if(k&128){f.suspense.move(p,v,E);return}if(k&64){A.move(f,p,v,ds);return}if(A===ne){n(S,p,v);for(let T=0;T<C.length;T++)At(C[T],p,v,E);n(f.anchor,p,v);return}if(A===or){G(f,p,v);return}if(E!==2&&k&1&&I)if(E===0)I.beforeEnter(S),n(S,p,v),De(()=>I.enter(S),w);else{const{leave:T,delayLeave:L,afterLeave:M}=I,V=()=>{f.ctx.isUnmounted?r(S):n(S,p,v)},ee=()=>{T(S,()=>{V(),M&&M()})};L?L(S,V,ee):ee()}else n(S,p,v)},ze=(f,p,v,E=!1,w=!1)=>{const{type:S,props:A,ref:I,children:C,dynamicChildren:k,shapeFlag:N,patchFlag:T,dirs:L,cacheIndex:M}=f;if(T===-2&&(w=!1),I!=null&&(dt(),xs(I,null,v,f,!0),ft()),M!=null&&(p.renderCache[M]=void 0),N&256){p.ctx.deactivate(f);return}const V=N&1&&L,ee=!ws(f);let z;if(ee&&(z=A&&A.onVnodeBeforeUnmount)&&Xe(z,p,f),N&6)ac(f.component,v,E);else{if(N&128){f.suspense.unmount(v,E);return}V&&Tt(f,null,p,"beforeUnmount"),N&64?f.type.remove(f,p,v,ds,E):k&&!k.hasOnce&&(S!==ne||T>0&&T&64)?us(k,p,v,!1,!0):(S===ne&&T&384||!w&&N&16)&&us(C,p,v),E&&To(f)}(ee&&(z=A&&A.onVnodeUnmounted)||V)&&De(()=>{z&&Xe(z,p,f),V&&Tt(f,null,p,"unmounted")},v)},To=f=>{const{type:p,el:v,anchor:E,transition:w}=f;if(p===ne){ic(v,E);return}if(p===or){q(f);return}const S=()=>{r(v),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(f.shapeFlag&1&&w&&!w.persisted){const{leave:A,delayLeave:I}=w,C=()=>A(v,S);I?I(f.el,S,C):C()}else S()},ic=(f,p)=>{let v;for(;f!==p;)v=y(f),r(f),f=v;r(p)},ac=(f,p,v)=>{const{bum:E,scope:w,job:S,subTree:A,um:I,m:C,a:k,parent:N,slots:{__:T}}=f;Wo(C),Wo(k),E&&rr(E),N&&B(T)&&T.forEach(L=>{N.renderCache[L]=void 0}),w.stop(),S&&(S.flags|=8,ze(A,f,p,v)),I&&De(I,p),De(()=>{f.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},us=(f,p,v,E=!1,w=!1,S=0)=>{for(let A=S;A<f.length;A++)ze(f[A],p,v,E,w)},Ks=f=>{if(f.shapeFlag&6)return Ks(f.component.subTree);if(f.shapeFlag&128)return f.suspense.next();const p=y(f.anchor||f.el),v=p&&p[Xc];return v?y(v):p};let $r=!1;const Do=(f,p,v)=>{f==null?p._vnode&&ze(p._vnode,null,null,!0):F(p._vnode||null,f,p,null,null,null,v),p._vnode=f,$r||($r=!0,Mo(),Oa(),$r=!1)},ds={p:F,um:ze,m:At,r:To,mt:nt,mc:He,pc:H,pbc:Ke,n:Ks,o:e};return{render:Do,hydrate:void 0,createApp:wu(Do)}}function Jr({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Dt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Ru(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Za(e,t,s=!1){const n=e.children,r=t.children;if(B(n)&&B(r))for(let o=0;o<n.length;o++){const i=n[o];let a=r[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[o]=yt(r[o]),a.el=i.el),!s&&a.patchFlag!==-2&&Za(i,a)),a.type===Or&&(a.el=i.el),a.type===bt&&!a.el&&(a.el=i.el)}}function Lu(e){const t=e.slice(),s=[0];let n,r,o,i,a;const l=e.length;for(n=0;n<l;n++){const d=e[n];if(d!==0){if(r=s[s.length-1],e[r]<d){t[n]=r,s.push(n);continue}for(o=0,i=s.length-1;o<i;)a=o+i>>1,e[s[a]]<d?o=a+1:i=a;d<e[s[o]]&&(o>0&&(t[n]=s[o-1]),s[o]=n)}}for(o=s.length,i=s[o-1];o-- >0;)s[o]=i,i=t[i];return s}function el(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:el(t)}function Wo(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Nu=Symbol.for("v-scx"),Ou=()=>nr(Nu);function Xr(e,t,s){return tl(e,t,s)}function tl(e,t,s=Z){const{immediate:n,deep:r,flush:o,once:i}=s,a=xe({},s),l=t&&n||!t&&o!=="post";let d;if(Rs){if(o==="sync"){const b=Ou();d=b.__watcherHandles||(b.__watcherHandles=[])}else if(!l){const b=()=>{};return b.stop=tt,b.resume=tt,b.pause=tt,b}}const u=me;a.call=(b,D,F)=>st(b,u,D,F);let h=!1;o==="post"?a.scheduler=b=>{De(b,u&&u.suspense)}:o!=="sync"&&(h=!0,a.scheduler=(b,D)=>{D?b():no(b)}),a.augmentJob=b=>{t&&(b.flags|=4),h&&(b.flags|=2,u&&(b.id=u.uid,b.i=u))};const y=Qc(e,t,a);return Rs&&(d?d.push(y):l&&y()),y}function Fu(e,t,s){const n=this.proxy,r=le(e)?e.includes(".")?sl(n,e):()=>n[e]:e.bind(n,n);let o;j(t)?o=t:(o=t.handler,s=t);const i=Bs(this),a=tl(r,o.bind(n),s);return i(),a}function sl(e,t){const s=t.split(".");return()=>{let n=e;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const qu=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Be(t)}Modifiers`]||e[`${Et(t)}Modifiers`];function Mu(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||Z;let r=s;const o=t.startsWith("update:"),i=o&&qu(n,t.slice(7));i&&(i.trim&&(r=s.map(u=>le(u)?u.trim():u)),i.number&&(r=s.map(mn)));let a,l=n[a=Wr(t)]||n[a=Wr(Be(t))];!l&&o&&(l=n[a=Wr(Et(t))]),l&&st(l,e,6,r);const d=n[a+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,st(d,e,6,r)}}function rl(e,t,s=!1){const n=t.emitsCache,r=n.get(e);if(r!==void 0)return r;const o=e.emits;let i={},a=!1;if(!j(e)){const l=d=>{const u=rl(d,t,!0);u&&(a=!0,xe(i,u))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(se(e)&&n.set(e,null),null):(B(o)?o.forEach(l=>i[l]=null):xe(i,o),se(e)&&n.set(e,i),i)}function Nr(e,t){return!e||!Pr(t)?!1:(t=t.slice(2).replace(/Once$/,""),Q(e,t[0].toLowerCase()+t.slice(1))||Q(e,Et(t))||Q(e,t))}function Qo(e){const{type:t,vnode:s,proxy:n,withProxy:r,propsOptions:[o],slots:i,attrs:a,emit:l,render:d,renderCache:u,props:h,data:y,setupState:b,ctx:D,inheritAttrs:F}=e,$=mr(e);let U,K;try{if(s.shapeFlag&4){const q=r||n,re=q;U=et(d.call(re,q,u,h,b,y,D)),K=a}else{const q=t;U=et(q.length>1?q(h,{attrs:a,slots:i,emit:l}):q(h,null)),K=t.props?a:Bu(a)}}catch(q){Es.length=0,Rr(q,e,1),U=Oe(bt)}let G=U;if(K&&F!==!1){const q=Object.keys(K),{shapeFlag:re}=G;q.length&&re&7&&(o&&q.some(zn)&&(K=ju(K,o)),G=ts(G,K,!1,!0))}return s.dirs&&(G=ts(G,null,!1,!0),G.dirs=G.dirs?G.dirs.concat(s.dirs):s.dirs),s.transition&&oo(G,s.transition),U=G,mr($),U}const Bu=e=>{let t;for(const s in e)(s==="class"||s==="style"||Pr(s))&&((t||(t={}))[s]=e[s]);return t},ju=(e,t)=>{const s={};for(const n in e)(!zn(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Uu(e,t,s){const{props:n,children:r,component:o}=e,{props:i,children:a,patchFlag:l}=t,d=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?Ko(n,i,d):!!i;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const y=u[h];if(i[y]!==n[y]&&!Nr(d,y))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===i?!1:n?i?Ko(n,i,d):!0:!!i;return!1}function Ko(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let r=0;r<n.length;r++){const o=n[r];if(t[o]!==e[o]&&!Nr(s,o))return!0}return!1}function Hu({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const nl=e=>e.__isSuspense;function Vu(e,t){t&&t.pendingBranch?B(e)?t.effects.push(...e):t.effects.push(e):Yc(e)}const ne=Symbol.for("v-fgt"),Or=Symbol.for("v-txt"),bt=Symbol.for("v-cmt"),or=Symbol.for("v-stc"),Es=[];let Le=null;function m(e=!1){Es.push(Le=e?null:[])}function $u(){Es.pop(),Le=Es[Es.length-1]||null}let Ds=1;function zo(e,t=!1){Ds+=e,e<0&&Le&&t&&(Le.hasOnce=!0)}function ol(e){return e.dynamicChildren=Ds>0?Le||zt:null,$u(),Ds>0&&Le&&Le.push(e),e}function g(e,t,s,n,r,o){return ol(c(e,t,s,n,r,o,!0))}function ks(e,t,s,n,r){return ol(Oe(e,t,s,n,r,!0))}function il(e){return e?e.__v_isVNode===!0:!1}function ps(e,t){return e.type===t.type&&e.key===t.key}const al=({key:e})=>e??null,ir=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?le(e)||ve(e)||j(e)?{i:Re,r:e,k:t,f:!!s}:e:null);function c(e,t=null,s=null,n=0,r=null,o=e===ne?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&al(t),ref:t&&ir(t),scopeId:qa,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Re};return a?(lo(l,s),o&128&&e.normalize(l)):s&&(l.shapeFlag|=le(s)?8:16),Ds>0&&!i&&Le&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Le.push(l),l}const Oe=Wu;function Wu(e,t=null,s=null,n=0,r=null,o=!1){if((!e||e===hu)&&(e=bt),il(e)){const a=ts(e,t,!0);return s&&lo(a,s),Ds>0&&!o&&Le&&(a.shapeFlag&6?Le[Le.indexOf(e)]=a:Le.push(a)),a.patchFlag=-2,a}if(rd(e)&&(e=e.__vccOpts),t){t=Qu(t);let{class:a,style:l}=t;a&&!le(a)&&(t.class=ae(a)),se(l)&&(ro(l)&&!B(l)&&(l=xe({},l)),t.style=qs(l))}const i=le(e)?1:nl(e)?128:Zc(e)?64:se(e)?4:j(e)?2:0;return c(e,t,s,n,r,i,o,!0)}function Qu(e){return e?ro(e)||Ka(e)?xe({},e):e:null}function ts(e,t,s=!1,n=!1){const{props:r,ref:o,patchFlag:i,children:a,transition:l}=e,d=t?Ku(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&al(d),ref:t&&t.ref?s&&o?B(o)?o.concat(ir(t)):[o,ir(t)]:ir(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ne?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ts(e.ssContent),ssFallback:e.ssFallback&&ts(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&oo(u,l.clone(u)),u}function he(e=" ",t=0){return Oe(Or,null,e,t)}function Ce(e,t){const s=Oe(or,null,e);return s.staticCount=t,s}function P(e="",t=!1){return t?(m(),ks(bt,null,e)):Oe(bt,null,e)}function et(e){return e==null||typeof e=="boolean"?Oe(bt):B(e)?Oe(ne,null,e.slice()):il(e)?yt(e):Oe(Or,null,String(e))}function yt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ts(e)}function lo(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(B(t))s=16;else if(typeof t=="object")if(n&65){const r=t.default;r&&(r._c&&(r._d=!1),lo(e,r()),r._c&&(r._d=!0));return}else{s=32;const r=t._;!r&&!Ka(t)?t._ctx=Re:r===3&&Re&&(Re.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else j(t)?(t={default:t,_ctx:Re},s=32):(t=String(t),n&64?(s=16,t=[he(t)]):s=8);e.children=t,e.shapeFlag|=s}function Ku(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const r in n)if(r==="class")t.class!==n.class&&(t.class=ae([t.class,n.class]));else if(r==="style")t.style=qs([t.style,n.style]);else if(Pr(r)){const o=t[r],i=n[r];i&&o!==i&&!(B(o)&&o.includes(i))&&(t[r]=o?[].concat(o,i):i)}else r!==""&&(t[r]=n[r])}return t}function Xe(e,t,s,n=null){st(e,t,7,[s,n])}const zu=$a();let Gu=0;function Yu(e,t,s){const n=e.type,r=(t?t.appContext:e.appContext)||zu,o={uid:Gu++,vnode:e,type:n,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new bc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ga(n,r),emitsOptions:rl(n,r),emit:null,emitted:null,propsDefaults:Z,inheritAttrs:n.inheritAttrs,ctx:Z,data:Z,props:Z,attrs:Z,slots:Z,refs:Z,setupState:Z,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Mu.bind(null,o),e.ce&&e.ce(o),o}let me=null;const Ju=()=>me||Re;let yr,En;{const e=Tr(),t=(s,n)=>{let r;return(r=e[s])||(r=e[s]=[]),r.push(n),o=>{r.length>1?r.forEach(i=>i(o)):r[0](o)}};yr=t("__VUE_INSTANCE_SETTERS__",s=>me=s),En=t("__VUE_SSR_SETTERS__",s=>Rs=s)}const Bs=e=>{const t=me;return yr(e),e.scope.on(),()=>{e.scope.off(),yr(t)}},Go=()=>{me&&me.scope.off(),yr(null)};function ll(e){return e.vnode.shapeFlag&4}let Rs=!1;function Xu(e,t=!1,s=!1){t&&En(t);const{props:n,children:r}=e.vnode,o=ll(e);Eu(e,n,o,t),Iu(e,r,s||t);const i=o?Zu(e,t):void 0;return t&&En(!1),i}function Zu(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,mu);const{setup:n}=s;if(n){dt();const r=e.setupContext=n.length>1?td(e):null,o=Bs(e),i=Ms(n,e,0,[e.props,r]),a=ua(i);if(ft(),o(),(a||e.sp)&&!ws(e)&&Ma(e),a){if(i.then(Go,Go),t)return i.then(l=>{Yo(e,l)}).catch(l=>{Rr(l,e,0)});e.asyncDep=i}else Yo(e,i)}else cl(e)}function Yo(e,t,s){j(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:se(t)&&(e.setupState=Ra(t)),cl(e)}function cl(e,t,s){const n=e.type;e.render||(e.render=n.render||tt);{const r=Bs(e);dt();try{gu(e)}finally{ft(),r()}}}const ed={get(e,t){return pe(e,"get",""),e[t]}};function td(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,ed),slots:e.slots,emit:e.emit,expose:t}}function Fr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ra(jc(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Ss)return Ss[s](e)},has(t,s){return s in t||s in Ss}})):e.proxy}function sd(e,t=!0){return j(e)?e.displayName||e.name:e.name||t&&e.__name}function rd(e){return j(e)&&"__vccOpts"in e}const nd=(e,t)=>$c(e,t,Rs),od="3.5.18";/**
* @vue/runtime-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let kn;const Jo=typeof window<"u"&&window.trustedTypes;if(Jo)try{kn=Jo.createPolicy("vue",{createHTML:e=>e})}catch{}const ul=kn?e=>kn.createHTML(e):e=>e,id="http://www.w3.org/2000/svg",ad="http://www.w3.org/1998/Math/MathML",it=typeof document<"u"?document:null,Xo=it&&it.createElement("template"),ld={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const r=t==="svg"?it.createElementNS(id,e):t==="mathml"?it.createElementNS(ad,e):s?it.createElement(e,{is:s}):it.createElement(e);return e==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:e=>it.createTextNode(e),createComment:e=>it.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>it.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,r,o){const i=s?s.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),s),!(r===o||!(r=r.nextSibling)););else{Xo.innerHTML=ul(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const a=Xo.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[i?i.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},cd=Symbol("_vtc");function ud(e,t,s){const n=e[cd];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Zo=Symbol("_vod"),dd=Symbol("_vsh"),fd=Symbol(""),hd=/(^|;)\s*display\s*:/;function pd(e,t,s){const n=e.style,r=le(s);let o=!1;if(s&&!r){if(t)if(le(t))for(const i of t.split(";")){const a=i.slice(0,i.indexOf(":")).trim();s[a]==null&&ar(n,a,"")}else for(const i in t)s[i]==null&&ar(n,i,"");for(const i in s)i==="display"&&(o=!0),ar(n,i,s[i])}else if(r){if(t!==s){const i=n[fd];i&&(s+=";"+i),n.cssText=s,o=hd.test(s)}}else t&&e.removeAttribute("style");Zo in e&&(e[Zo]=o?n.display:"",e[dd]&&(n.display="none"))}const ei=/\s*!important$/;function ar(e,t,s){if(B(s))s.forEach(n=>ar(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=md(e,t);ei.test(s)?e.setProperty(Et(n),s.replace(ei,""),"important"):e[n]=s}}const ti=["Webkit","Moz","ms"],Zr={};function md(e,t){const s=Zr[t];if(s)return s;let n=Be(t);if(n!=="filter"&&n in e)return Zr[t]=n;n=Ar(n);for(let r=0;r<ti.length;r++){const o=ti[r]+n;if(o in e)return Zr[t]=o}return t}const si="http://www.w3.org/1999/xlink";function ri(e,t,s,n,r,o=_c(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(si,t.slice(6,t.length)):e.setAttributeNS(si,t,s):s==null||o&&!ha(s)?e.removeAttribute(t):e.setAttribute(t,o?"":St(s)?String(s):s)}function ni(e,t,s,n,r){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?ul(s):s);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let i=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=ha(s):s==null&&a==="string"?(s="",i=!0):a==="number"&&(s=0,i=!0)}try{e[t]=s}catch{}i&&e.removeAttribute(r||t)}function Kt(e,t,s,n){e.addEventListener(t,s,n)}function gd(e,t,s,n){e.removeEventListener(t,s,n)}const oi=Symbol("_vei");function yd(e,t,s,n,r=null){const o=e[oi]||(e[oi]={}),i=o[t];if(n&&i)i.value=n;else{const[a,l]=_d(t);if(n){const d=o[t]=xd(n,r);Kt(e,a,d,l)}else i&&(gd(e,a,i,l),o[t]=void 0)}}const ii=/(?:Once|Passive|Capture)$/;function _d(e){let t;if(ii.test(e)){t={};let n;for(;n=e.match(ii);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Et(e.slice(2)),t]}let en=0;const bd=Promise.resolve(),vd=()=>en||(bd.then(()=>en=0),en=Date.now());function xd(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;st(wd(n,s.value),t,5,[n])};return s.value=e,s.attached=vd(),s}function wd(e,t){if(B(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>r=>!r._stopped&&n&&n(r))}else return t}const ai=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Sd=(e,t,s,n,r,o)=>{const i=r==="svg";t==="class"?ud(e,n,i):t==="style"?pd(e,s,n):Pr(t)?zn(t)||yd(e,t,s,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Ed(e,t,n,i))?(ni(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ri(e,t,n,i,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!le(n))?ni(e,Be(t),n,o,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),ri(e,t,n,i))};function Ed(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&ai(t)&&j(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return ai(t)&&le(s)?!1:t in e}const li=e=>{const t=e.props["onUpdate:modelValue"]||!1;return B(t)?s=>rr(t,s):t};function kd(e){e.target.composing=!0}function ci(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const tn=Symbol("_assign"),de={created(e,{modifiers:{lazy:t,trim:s,number:n}},r){e[tn]=li(r);const o=n||r.props&&r.props.type==="number";Kt(e,t?"change":"input",i=>{if(i.target.composing)return;let a=e.value;s&&(a=a.trim()),o&&(a=mn(a)),e[tn](a)}),s&&Kt(e,"change",()=>{e.value=e.value.trim()}),t||(Kt(e,"compositionstart",kd),Kt(e,"compositionend",ci),Kt(e,"change",ci))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:r,number:o}},i){if(e[tn]=li(i),e.composing)return;const a=(o||e.type==="number")&&!/^0\d/.test(e.value)?mn(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||r&&e.value.trim()===l)||(e.value=l))}},Pd=["ctrl","shift","alt","meta"],Cd={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Pd.some(s=>e[`${s}Key`]&&!t.includes(s))},Pn=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=(r,...o)=>{for(let i=0;i<t.length;i++){const a=Cd[t[i]];if(a&&a(r,t))return}return e(r,...o)})},Id={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ui=(e,t)=>{const s=e._withKeys||(e._withKeys={}),n=t.join(".");return s[n]||(s[n]=r=>{if(!("key"in r))return;const o=Et(r.key);if(t.some(i=>i===o||Id[i]===o))return e(r)})},Ad=xe({patchProp:Sd},ld);let di;function Td(){return di||(di=Tu(Ad))}const Dd=(...e)=>{const t=Td().createApp(...e),{mount:s}=t;return t.mount=n=>{const r=Ld(n);if(!r)return;const o=t._component;!j(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const i=s(r,!1,Rd(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t};function Rd(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Ld(e){return le(e)?document.querySelector(e):e}const Nd="modulepreload",Od=function(e){return"/"+e},fi={},Pe=function(t,s,n){let r=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));r=Promise.allSettled(s.map(l=>{if(l=Od(l),l in fi)return;fi[l]=!0;const d=l.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Nd,d||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),d)return new Promise((y,b)=>{h.addEventListener("load",y),h.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},Fd="https://production-tradeworks-n0Lpcg.keelapps.xyz",Ht=`${Fd}/api/json`;class qd{constructor(){this.baseUrl=Ht,this.tokenKey="auth_token",this.userKey="auth_user"}getToken(){return localStorage.getItem(this.tokenKey)}setToken(t){localStorage.setItem(this.tokenKey,t)}removeToken(){localStorage.removeItem(this.tokenKey),localStorage.removeItem("refresh_token")}getUser(){const t=localStorage.getItem(this.userKey);return t?JSON.parse(t):null}setUser(t){localStorage.setItem(this.userKey,JSON.stringify(t))}removeUser(){localStorage.removeItem(this.userKey)}isAuthenticated(){return!!this.getToken()}async login(t,s){try{if(!t||!s)throw new Error("Email and password are required");const n=new URLSearchParams;n.append("grant_type","password"),n.append("username",t),n.append("password",s);const r=await fetch(`${this.baseUrl.replace("/api/json","")}/auth/token`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n});if(!r.ok){const i=await r.json().catch(()=>({}));throw new Error(i.message||i.error_description||"Login failed")}const o=await r.json();return this.setToken(o.access_token),o.refresh_token&&localStorage.setItem("refresh_token",o.refresh_token),o}catch(n){throw console.error("Login error:",n),n}}async exchangeAuthorizationCode(t){const s=new URLSearchParams;s.append("grant_type","authorization_code"),s.append("code",t);const n=this.baseUrl.replace("/api/json",""),r=await fetch(`${n}/auth/token`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s});if(!r.ok){const i=await r.json().catch(()=>({}));throw new Error(i.message||i.error_description||"SSO token exchange failed")}const o=await r.json();return this.setToken(o.access_token),o.refresh_token&&localStorage.setItem("refresh_token",o.refresh_token),o}async getAuthProviders(){const t=this.baseUrl.replace("/api/json",""),s=await fetch(`${t}/auth/providers`,{method:"GET"});if(!s.ok)throw new Error("Failed to load auth providers");return s.json()}async getCurrentUser(){try{const t=await fetch(`${this.baseUrl}/getMe`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.getToken()}`}});if(t.ok){const s=await t.json();return s?(this.setUser(s),s):(console.log("getMe returned null, creating user..."),await this.createUser())}else throw new Error("Failed to get user")}catch(t){throw console.error("Error getting user:",t),t}}async createUser(){try{const t=await fetch(`${this.baseUrl}/createMe`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.getToken()}`}});if(t.ok){const s=await t.json();return this.setUser(s),s}else throw new Error("Failed to create user")}catch(t){throw console.error("Error creating user:",t),t}}async createUserWithProfile(t,s){try{const n=await fetch(`${this.baseUrl}/createMe`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.getToken()}`},body:JSON.stringify({firstName:t,lastName:s})});if(n.ok){const r=await n.json();return this.setUser(r),r}else throw new Error("Failed to create user with profile")}catch(n){throw console.error("Error creating user with profile:",n),n}}getCustomerId(t){return(t==null?void 0:t.customerId)||null}logout(){this.removeToken(),this.removeUser()}async requestPasswordReset(t,s){try{const n=await fetch(`${this.baseUrl}/requestPasswordReset`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,redirectUrl:s})});if(!n.ok){const r=await n.json().catch(()=>({}));throw new Error(r.message||"Password reset request failed")}return await n.json()}catch(n){throw console.error("Password reset request error:",n),n}}async resetPassword(t,s){try{const n=await fetch(`${this.baseUrl}/resetPassword`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t,password:s})});if(!n.ok){const r=await n.json().catch(()=>({}));throw new Error(r.message||"Password reset failed")}return await n.json()}catch(n){throw console.error("Password reset error:",n),n}}async refreshToken(){try{const t=localStorage.getItem("refresh_token");if(!t)throw new Error("No refresh token available");const s=new URLSearchParams;s.append("grant_type","refresh_token"),s.append("refresh_token",t);const n=await fetch(`${this.baseUrl.replace("/api/json","")}/auth/token`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s});if(!n.ok){const o=await n.json().catch(()=>({}));throw new Error(o.message||o.error_description||"Token refresh failed")}const r=await n.json();return this.setToken(r.access_token),r.refresh_token&&localStorage.setItem("refresh_token",r.refresh_token),r}catch(t){throw console.error("Token refresh error:",t),this.logout(),t}}async getCurrentUserCached(){if(!this.isAuthenticated())return null;try{const t=this.getUser();return t||await this.getCurrentUser()}catch(t){return console.error("Error getting current user:",t),null}}}const J=new qd;class Md{async makeRequest(t,s=null){const n={"Content-Type":"application/json"},r=J.getToken();r&&(n.Authorization=`Bearer ${r}`);const o=await fetch(`${Ht}${t}`,{method:"POST",headers:n,body:s?JSON.stringify(s):void 0});if(!o.ok){const a=(await o.json().catch(()=>({}))).message||`HTTP error! status: ${o.status}`;throw typeof a=="string"&&a.toLowerCase().includes("token has expired")&&(J.logout(),window.location.reload()),new Error(a)}return o.json()}async getPriceLists(){return(await this.makeRequest("/listPriceLists")).results||[]}async getPriceList(t){return await this.makeRequest("/getPriceList",{id:t})}async createPriceList(t){return await this.makeRequest("/createPriceList",{name:t})}async updatePriceList(t,s){return await this.makeRequest("/updatePriceList",{where:{id:t},values:{name:s}})}async deletePriceList(t){return await this.makeRequest("/deletePriceList",{id:t})}async getCustomerPriceLists(t){return(await this.makeRequest("/listCustomerPriceLists",{where:{customer:{id:{equals:t}}}})).results||[]}async getCustomerPriceList(t){var n;return((n=(await this.makeRequest("/listCustomerPriceLists",{where:{id:{equals:t}}})).results)==null?void 0:n[0])||null}async createCustomerPriceList(t,s){return await this.makeRequest("/createCustomerPriceList",{customer:{id:t},priceList:{id:s}})}async deleteCustomerPriceList(t){return await this.makeRequest("/deleteCustomerPriceList",{id:t})}async listPriceListChangeLog(t){return((await this.makeRequest("/listPriceListChangeLog",{where:{priceList:{id:{equals:t}}},orderBy:[{createdAt:"Desc"}],include:{createdBy:!0}})).results||[]).map(r=>{const o=r.createdBy?[r.createdBy.firstName,r.createdBy.lastName].filter(Boolean).join(" ")||r.createdBy.email||r.createdBy.id:r.createdByName;return{...r,createdByName:o}})}}const Cn=new Md,co=Object.freeze(Object.defineProperty({__proto__:null,priceListService:Cn},Symbol.toStringTag,{value:"Module"}));class Bd{async makeRequest(t,s=null){const n={"Content-Type":"application/json"},r=J.getToken();r&&(n.Authorization=`Bearer ${r}`);const o=await fetch(`${Ht}${t}`,{method:"POST",headers:n,body:s?JSON.stringify(s):void 0});if(!o.ok){const a=(await o.json().catch(()=>({}))).message||`HTTP error! status: ${o.status}`;throw typeof a=="string"&&a.toLowerCase().includes("token has expired")&&(J.logout(),window.location.reload()),new Error(a)}return o.json()}async getProducts(){return(await this.makeRequest("/listProducts",{})).results||[]}async getProduct(t){return await this.makeRequest("/getProduct",{id:t})}async getProductPricesByPriceList(t){return(await this.makeRequest("/listProductPrices",{where:{priceList:{id:{equals:t}}}})).results||[]}async listBrands(){return(await this.makeRequest("/listBrands",{})).results||[]}}const Zt=new Bd,jd=Object.freeze(Object.defineProperty({__proto__:null,productService:Zt},Symbol.toStringTag,{value:"Module"}));class Ud{async makeRequest(t,s=null){const n={"Content-Type":"application/json"},r=J.getToken();r&&(n.Authorization=`Bearer ${r}`);const o=await fetch(`${Ht}${t}`,{method:"POST",headers:n,body:s?JSON.stringify(s):void 0});if(!o.ok){const a=(await o.json().catch(()=>({}))).message||`HTTP error! status: ${o.status}`;throw typeof a=="string"&&a.toLowerCase().includes("token has expired")&&(J.logout(),window.location.reload()),new Error(a)}return o.json()}async getQuotesByCustomer(t){return(await this.makeRequest("/listQuotes",{where:{customerPriceList:{customer:{id:{equals:t}}}}})).results||[]}async getQuotesByCustomerPriceList(t){return(await this.makeRequest("/listQuotes",{where:{customerPriceList:{id:{equals:t}}}})).results||[]}async getQuote(t){return await this.makeRequest("/getQuote",{id:t})}async createQuote(t){return await this.makeRequest("/createQuote",{customerPriceList:{id:t}})}async deleteQuote(t){return await this.makeRequest("/deleteQuote",{id:t})}async getQuoteProducts(t){return(await this.makeRequest("/listQuoteProducts",{where:{quote:{id:{equals:t}}}})).results||[]}async addProductToQuote(t,s,n){return await this.makeRequest("/createQuoteProduct",{quote:{id:t},productPrice:{id:s},quantity:n})}async updateQuoteProduct(t,s){return await this.makeRequest("/updateQuoteProduct",{where:{id:t},values:{quantity:s}})}async updateQuoteDelivery(t,s,n){return await this.makeRequest("/updateQuoteDelivery",{where:{id:t},values:{deliveryService:s,totalDeliveryFees:n}})}async updateQuoteDeliveryAddress(t,s){return await this.makeRequest("/updateQuoteDeliveryAddress",{where:{id:t},values:{deliveryAddress:s?{id:s}:null}})}async submitQuote(t){return await this.makeRequest("/submitQuote",{where:{id:t}})}async updateQuoteName(t,s){return await this.makeRequest("/updateQuoteName",{where:{id:t},values:{name:s}})}async deleteQuoteProduct(t){return await this.makeRequest("/deleteQuoteProduct",{id:t})}}const fe=new Ud,hi=Object.freeze(Object.defineProperty({__proto__:null,quoteService:fe},Symbol.toStringTag,{value:"Module"})),kt=(e,t)=>{const s=e.__vccOpts||e;for(const[n,r]of t)s[n]=r;return s},Hd={name:"AddProductModal",props:{quoteId:{type:String,required:!0},priceListId:{type:String,required:!1,default:""},existingQuoteProducts:{type:Array,default:()=>[]}},data(){return{productPrices:[],filteredProductPrices:[],searchQuery:"",loading:!1}},async mounted(){await this.loadProductPrices()},methods:{async loadProductPrices(){var e,t;this.loading=!0;try{let s=this.priceListId;if(!s){const n=await fe.getQuote(this.quoteId),{priceListService:r}=await Pe(async()=>{const{priceListService:a}=await Promise.resolve().then(()=>co);return{priceListService:a}},void 0),i=(await r.getCustomerPriceLists(((t=(e=n.customerPriceList)==null?void 0:e.customer)==null?void 0:t.id)||"")).find(a=>a.id===n.customerPriceListId);s=(i==null?void 0:i.priceListId)||""}this.productPrices=s?await Zt.getProductPricesByPriceList(s):[],this.filteredProductPrices=this.filterAvailableProducts(this.productPrices)}catch(s){console.error("Failed to load product prices:",s)}finally{this.loading=!1}},filterAvailableProducts(e){const t=this.existingQuoteProducts.map(s=>s.productPriceId);return e.filter(s=>!t.includes(s.id))},searchProducts(){const e=this.filterAvailableProducts(this.productPrices);if(!this.searchQuery.trim()){this.filteredProductPrices=e;return}const t=this.searchQuery.toLowerCase();this.filteredProductPrices=e.filter(s=>s.productName.toLowerCase().includes(t)||s.productSku.toLowerCase().includes(t))},async selectProduct(e){try{await fe.addProductToQuote(this.quoteId,e.id,1),this.$emit("product-added")}catch(t){console.error("Failed to add product to quote:",t),alert("Failed to add product to quote")}},formatCurrency(e){return e?parseFloat(e).toLocaleString("en-ZA",{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00"}}},Vd={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},$d={class:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-hidden"},Wd={class:"flex justify-between items-center p-6 border-b border-gray-200"},Qd={class:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]"},Kd={class:"mb-6"},zd={key:0,class:"flex justify-center items-center py-8"},Gd={key:1,class:"text-center py-8"},Yd={key:2,class:"space-y-4"},Jd=["onClick"],Xd={class:"flex items-center space-x-4"},Zd={class:"flex-1"},ef={class:"font-medium text-gray-900"},tf={class:"text-sm text-gray-600"},sf={class:"flex items-center space-x-4 mt-2"},rf={class:"text-sm font-medium text-gray-900"},nf={class:"text-xs text-gray-500"},of={class:"flex justify-end space-x-3 p-6 border-t border-gray-200"};function af(e,t,s,n,r,o){return m(),g("div",Vd,[c("div",$d,[c("div",Wd,[t[5]||(t[5]=c("h3",{class:"text-lg font-medium text-gray-900"},"Add Product to Quote",-1)),c("button",{onClick:t[0]||(t[0]=i=>e.$emit("close")),class:"text-gray-400 hover:text-gray-600"},t[4]||(t[4]=[c("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),c("div",Qd,[c("div",Kd,[t[6]||(t[6]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Search Products",-1)),ue(c("input",{"onUpdate:modelValue":t[1]||(t[1]=i=>r.searchQuery=i),type:"text",placeholder:"Search by name or SKU...",class:"input",onInput:t[2]||(t[2]=(...i)=>o.searchProducts&&o.searchProducts(...i))},null,544),[[de,r.searchQuery]])]),r.loading?(m(),g("div",zd,t[7]||(t[7]=[c("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)]))):r.filteredProductPrices.length===0?(m(),g("div",Gd,t[8]||(t[8]=[Ce('<div class="text-gray-500 mb-4"><svg class="w-12 h-12 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></div><h4 class="text-lg font-medium text-gray-900 mb-2">No products found</h4><p class="text-gray-600">Try adjusting your search terms.</p>',3)]))):(m(),g("div",Yd,[(m(!0),g(ne,null,Fe(r.filteredProductPrices,i=>(m(),g("div",{key:i.id,class:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer",onClick:a=>o.selectProduct(i)},[c("div",Xd,[c("div",Zd,[c("h4",ef,_(i.productName),1),c("p",tf,"SKU: "+_(i.productSku),1),c("div",sf,[c("div",null,[c("span",rf,"ZAR "+_(o.formatCurrency(i.price)),1)]),c("div",null,[c("span",nf," incl. VAT: ZAR "+_(o.formatCurrency(i.priceInclVat)),1)])])]),t[9]||(t[9]=c("div",{class:"text-right"},[c("button",{class:"btn btn-primary text-sm"}," Add to Quote ")],-1))])],8,Jd))),128))]))]),c("div",of,[c("button",{onClick:t[3]||(t[3]=i=>e.$emit("close")),class:"btn btn-secondary"},"Cancel")])])])}const lf=kt(Hd,[["render",af]]);class cf{constructor(){this.baseUrl=Ht}async makeRequest(t,s=null){const n=`${this.baseUrl}${t}`,r={"Content-Type":"application/json"},o=J.getToken();o&&(r.Authorization=`Bearer ${o}`);const i={method:s?"POST":"GET",headers:r};s&&(i.body=JSON.stringify(s));const a=await fetch(n,i);if(!a.ok){const d=(await a.json().catch(()=>({}))).message||`HTTP error! status: ${a.status}`;throw typeof d=="string"&&d.toLowerCase().includes("token has expired")&&(J.logout(),window.location.reload()),new Error(d)}return a.json()}async calculateDelivery(t){return this.makeRequest("/calculateDelivery",{id:t})}}const uf=new cf,df={name:"QuoteDetail",components:{AddProductModal:lf},props:{quote:{type:Object,required:!0},customerId:{type:String,required:!1}},data(){return{productPrices:[],quoteProducts:[],productDetails:{},showAddProductModal:!1,loading:!1,customerPriceList:null,equipmentBoxes:[],equipmentBoxDetails:{},selectedBoxType:"",loadingEquipmentBoxes:!1,imagePreview:{show:!1,src:"",alt:"",x:0,y:0},deliveryRates:null,loadingDeliveryRates:!1,deliveryRatesError:null,submittingQuote:!1,productsReadOnly:!1,deliveryAddresses:[],loadingAddresses:!1,selectedAddressId:"",addressSubmitAttempted:!1,showAddressDialog:!1,showDeliveryInfoDialog:!1,showRawJson:!1,showNameDialog:!1,editName:"",savingName:!1}},async mounted(){await this.refreshQuoteData(),await this.loadCustomerPriceList(),await this.loadQuoteProducts(),await this.loadProductDetails(),await this.loadEquipmentBoxes(),this.initializeBoxType(),await this.loadDeliveryAddresses(),this.quote.deliveryAddressId&&(this.selectedAddressId=this.quote.deliveryAddressId),this.checkExistingDeliveryDetails(),this.quote.deliveryService&&this.quote.totalDeliveryFees&&this.quote.totalDeliveryFees>0&&(this.productsReadOnly=!0),this.hydrateActionUsers(),this.hydrateCreatedByUser()},computed:{isSubmitted(){var e;return((e=this.quote)==null?void 0:e.status)==="Submitted"},isApproved(){var e;return((e=this.quote)==null?void 0:e.status)==="Approved"},hasDeliveryInfo(){var e;return!!((e=this.quote)!=null&&e.deliveryRawJson)},formattedDeliveryInfo(){var e,t;try{return JSON.stringify(((e=this.quote)==null?void 0:e.deliveryRawJson)??{},null,2)}catch{return String(((t=this.quote)==null?void 0:t.deliveryRawJson)??"")}},parsedDelivery(){var i;const e=(i=this.quote)==null?void 0:i.deliveryRawJson;let t={};if(!e)return{selectedRate:null,otherRates:[]};if(typeof e=="string")try{t=JSON.parse(e)}catch{t={}}else t=e;const n=[...Array.isArray(t.rates)?t.rates:[]].sort((a,l)=>(a.rate??1/0)-(l.rate??1/0)),r=n[0]||null,o=n.slice(1).map((a,l)=>({...a,_key:l}));return{selectedRate:r,otherRates:o}},formatChargedKg(){var t,s;if((t=this.quote)!=null&&t.chargedWeightInGrams)return(this.quote.chargedWeightInGrams/1e3).toFixed(0);const e=(s=this.parsedDelivery.selectedRate)==null?void 0:s.charged_weight;return e!=null?Number(e).toFixed(0):"0"},selectedAddress(){return(this.deliveryAddresses||[]).find(t=>t.id===this.selectedAddressId)||{}},isDeliverySet(){return!!(this.quote.totalDeliveryFees&&this.quote.totalDeliveryFees>0)},isSubmitDisabled(){return!this.isDeliverySet||!this.productsReadOnly||this.loading||this.loadingEquipmentBoxes||this.loadingDeliveryRates||this.submittingQuote},grandTotal(){return this.quote.total||0},vat(){return this.quote.vat||0},grandTotalInclVat(){return this.quote.totalInclVat||0},productsWeight(){return this.quoteProducts.reduce((e,t)=>{const s=this.productDetails[t.productId];return s&&s.weightInGrams?e+Number(s.weightInGrams)*t.quantity:e},0)},equipmentBoxesWeight(){return this.equipmentBoxes.reduce((e,t)=>{const s=this.equipmentBoxDetails[t.equipmentBoxId];return s&&s.weightInGrams?e+Number(s.weightInGrams)*t.quantity:e},0)},totalShipmentWeight(){return this.productsWeight+this.equipmentBoxesWeight}},watch:{"quote.products":{handler(){this.checkExistingDeliveryDetails()},deep:!0},quote:{handler(){this.$nextTick(()=>{this.checkExistingDeliveryDetails(),this.quote.deliveryService&&this.quote.totalDeliveryFees&&this.quote.totalDeliveryFees>0&&(this.productsReadOnly=!0),this.hydrateActionUsers(),this.hydrateCreatedByUser()})},deep:!1},equipmentBoxes:{handler(){this.$nextTick(()=>{this.checkExistingDeliveryDetails()})},deep:!0},"quote.boxType":{handler(e){e&&e!==this.selectedBoxType&&(this.selectedBoxType=e,console.log("Box type updated from quote:",e))},immediate:!0}},methods:{async hydrateActionUsers(){var e,t,s,n,r,o;try{const i=((e=this.quote)==null?void 0:e.submittedById)||((t=this.quote)==null?void 0:t.submittedBy),a=((s=this.quote)==null?void 0:s.approvedById)||((n=this.quote)==null?void 0:n.approvedBy),l=i&&!((r=this.quote)!=null&&r.submittedByName),d=a&&!((o=this.quote)!=null&&o.approvedByName);if(!l&&!d)return;const{userService:u}=await Pe(async()=>{const{userService:y}=await import("./userService-Dv1bIkFp.js");return{userService:y}},[]),h={};if(l)try{const y=await u.getUser(i);h.submittedByName=[y.firstName,y.lastName].filter(Boolean).join(" ")||y.email||y.id}catch{}if(d)try{const y=await u.getUser(a);h.approvedByName=[y.firstName,y.lastName].filter(Boolean).join(" ")||y.email||y.id}catch{}Object.keys(h).length&&this.$emit("quote-updated",{...this.quote,...h})}catch(i){console.warn("Failed to hydrate action user names",i)}},async hydrateCreatedByUser(){var e,t,s;try{const n=((e=this.quote)==null?void 0:e.createdById)||((t=this.quote)==null?void 0:t.createdBy);if(!n||(s=this.quote)!=null&&s.createdByName)return;const{userService:r}=await Pe(async()=>{const{userService:a}=await import("./userService-Dv1bIkFp.js");return{userService:a}},[]),o=await r.getUser(n),i=[o.firstName,o.lastName].filter(Boolean).join(" ")||o.email||o.id;this.$emit("quote-updated",{...this.quote,createdByName:i})}catch(n){console.warn("Failed to hydrate createdBy user name",n)}},openNameDialog(){this.editName=this.quote.name||"",this.showNameDialog=!0},closeNameDialog(){this.showNameDialog=!1},async saveName(){try{if(!this.editName||!this.editName.trim())return;this.savingName=!0,await fe.updateQuoteName(this.quote.id,this.editName.trim());const e=await fe.getQuote(this.quote.id);this.$emit("quote-updated",e),this.showNameDialog=!1}catch(e){console.error("Failed to update quote name:",e),alert("Failed to update name: "+(e.message||"Unknown error"))}finally{this.savingName=!1}},openDeliveryInfoDialog(){this.showDeliveryInfoDialog=!0},closeDeliveryInfoDialog(){this.showDeliveryInfoDialog=!1},openAddressDialog(){this.productsReadOnly||(this.showAddressDialog=!0)},closeAddressDialog(){this.showAddressDialog=!1},selectAddress(e){this.productsReadOnly||(this.selectedAddressId=e,this.onAddressChange(),this.closeAddressDialog())},async loadDeliveryAddresses(){try{if(!this.customerId)return;this.loadingAddresses=!0;const{deliveryAddressService:e}=await Pe(async()=>{const{deliveryAddressService:n}=await Promise.resolve().then(()=>r0);return{deliveryAddressService:n}},void 0),t=await e.listDeliveryAddresses(this.customerId),s=Array.isArray(t)?t:t.results||[];if(this.quote.deliveryAddressId)try{const n=await e.getDeliveryAddress(this.quote.deliveryAddressId);!s.some(o=>o.id===n.id)&&n&&s.push(n)}catch(n){console.warn("Could not hydrate selected delivery address:",n)}this.deliveryAddresses=s}catch(e){console.error("Failed to load delivery addresses",e),this.deliveryAddresses=[]}finally{this.loadingAddresses=!1}},async onAddressChange(){try{await fe.updateQuoteDeliveryAddress(this.quote.id,this.selectedAddressId);const e=await fe.getQuote(this.quote.id);this.$emit("quote-updated",e)}catch(e){console.error("Failed to update quote delivery address",e),alert("Failed to update delivery address: "+(e.message||"Unknown error"))}},selectBoxType(e){this.selectedBoxType!==e&&(this.selectedBoxType=e,this.onBoxTypeChange())},async toggleProductsReadOnly(){!this.productsReadOnly&&(this.addressSubmitAttempted=!0,!this.selectedAddressId)||(this.productsReadOnly=!this.productsReadOnly,this.productsReadOnly&&this.selectedBoxType?(await this.calculateEquipmentBoxes(),this.equipmentBoxes.length>0&&await this.calculateDeliveryRates()):this.productsReadOnly||(this.addressSubmitAttempted=!1,await this.resetDeliveryInfo()))},async loadCustomerPriceList(){try{const{priceListService:e}=await Pe(async()=>{const{priceListService:t}=await Promise.resolve().then(()=>co);return{priceListService:t}},void 0);if(this.customerId){const s=(await e.getCustomerPriceLists(this.customerId)).find(n=>n.id===this.quote.customerPriceListId);s?this.customerPriceList=s:(console.warn("Customer price list not found for quote. Falling back to empty priceListId"),this.customerPriceList={priceListId:""})}else console.warn("No customerId provided to QuoteDetail; cannot resolve priceListId"),this.customerPriceList={priceListId:""}}catch(e){console.error("Failed to load customer price list:",e),this.customerPriceList={priceListId:""}}},async loadQuoteProducts(){try{this.quoteProducts=await fe.getQuoteProducts(this.quote.id)}catch(e){console.error("Failed to load quote products:",e)}try{this.productPrices=await Zt.getProductPricesByPriceList(this.customerPriceList.priceListId)}catch(e){console.error("Failed to load product prices:",e)}},async loadProductDetails(){try{const{productService:e}=await Pe(async()=>{const{productService:t}=await Promise.resolve().then(()=>jd);return{productService:t}},void 0);for(const t of this.quoteProducts)if(!this.productDetails[t.productId])try{this.productDetails[t.productId]=await e.getProduct(t.productId)}catch(s){console.error(`Failed to load product price ${t.productId}:`,s)}}catch(e){console.error("Failed to load product details:",e)}},async updateProductQuantity(e,t){try{await fe.updateQuoteProduct(e,parseFloat(t)),await this.loadQuoteProducts();const s=await fe.getQuote(this.quote.id);this.$emit("quote-updated",s)}catch(s){console.error("Failed to update product quantity:",s)}},async removeProduct(e){if(confirm("Are you sure you want to remove this product from the quote?"))try{await fe.deleteQuoteProduct(e),await this.loadQuoteProducts();const t=await fe.getQuote(this.quote.id);this.$emit("quote-updated",t)}catch(t){console.error("Failed to remove product:",t)}},async deleteQuote(){if(confirm("Are you sure you want to delete this quote? This action cannot be undone."))try{await fe.deleteQuote(this.quote.id),this.$emit("quote-deleted")}catch(e){console.error("Failed to delete quote:",e)}},async handleProductAdded(){this.showAddProductModal=!1,await this.loadQuoteProducts(),await this.loadProductDetails();const e=await fe.getQuote(this.quote.id);this.$emit("quote-updated",e)},async loadEquipmentBoxes(){try{this.loadingEquipmentBoxes=!0;const{equipmentBoxService:e}=await Pe(async()=>{const{equipmentBoxService:s}=await import("./equipmentBoxService-D9510B47.js");return{equipmentBoxService:s}},[]),t=await e.listQuoteEquipmentBoxes(this.quote.id);this.equipmentBoxes=t.results||[];for(const s of this.equipmentBoxes)if(!this.equipmentBoxDetails[s.equipmentBoxId])try{this.equipmentBoxDetails[s.equipmentBoxId]=await e.getEquipmentBox(s.equipmentBoxId)}catch(n){console.error(`Failed to load equipment box details ${s.equipmentBoxId}:`,n)}}catch(e){console.error("Failed to load equipment boxes:",e),this.equipmentBoxes=[]}finally{this.loadingEquipmentBoxes=!1}},async onBoxTypeChange(){this.selectedBoxType?(await this.calculateEquipmentBoxes(),this.equipmentBoxes.length>0&&await this.calculateDeliveryRates()):await this.resetDeliveryInfo()},async resetDeliveryInfo(){try{this.loading=!0;const{equipmentBoxService:e}=await Pe(async()=>{const{equipmentBoxService:t}=await import("./equipmentBoxService-D9510B47.js");return{equipmentBoxService:t}},[]);await e.resetDeliveryInfo(this.quote.id),this.equipmentBoxes=[],this.deliveryRates=null,this.deliveryRatesError=null,await this.refreshQuoteData()}catch(e){console.error("Failed to reset delivery info:",e),alert("Failed to reset delivery info: "+e.message)}finally{this.loading=!1}},async calculateEquipmentBoxes(){if(this.selectedBoxType)try{this.loading=!0;const{equipmentBoxService:e}=await Pe(async()=>{const{equipmentBoxService:t}=await import("./equipmentBoxService-D9510B47.js");return{equipmentBoxService:t}},[]);await e.calculateEquipmentBoxes(this.quote.id,this.selectedBoxType),await this.loadEquipmentBoxes(),await this.refreshQuoteData()}catch(e){console.error("Failed to calculate equipment boxes:",e),alert("Failed to calculate equipment boxes: "+e.message)}finally{this.loading=!1}},formatDate(e){if(!e)return"";const t=new Date(e),s=String(t.getDate()).padStart(2,"0"),n=t.toLocaleString("en-GB",{month:"short"}),r=t.getFullYear(),o=String(t.getHours()).padStart(2,"0"),i=String(t.getMinutes()).padStart(2,"0");return`${s} ${n} ${r} ${o}:${i}`},formatCurrency(e){return parseFloat(e).toLocaleString("en-ZA",{minimumFractionDigits:2,maximumFractionDigits:2})},formatVolume(e){return e?`${parseFloat(e).toFixed(0)} cm`:"N/A"},formatDimensions(e){if(!e)return"N/A";const{lengthInCm:t,widthInCm:s,heightInCm:n}=e;return!t||!s||!n?"N/A":`${parseFloat(t).toFixed(0)}  ${parseFloat(s).toFixed(0)}  ${parseFloat(n).toFixed(0)} cm`},formatWeight(e){if(!e||e===0)return"0 kg";const t=e/1e3;return t>=1?`${t.toFixed(2)} kg`:`${e.toFixed(0)} g`},showImagePreview(e,t){var n;const s=this.productDetails[e];if((n=s==null?void 0:s.image)!=null&&n.url){let l=t.clientX+10,d=t.clientY+10;l+250>window.innerWidth&&(l=t.clientX-250-10),d+250>window.innerHeight&&(d=t.clientY-250-10),this.imagePreview={show:!0,src:s.image.url,alt:s.name||"Product",x:l,y:d}}},updateImagePreviewPosition(e){if(this.imagePreview.show){let o=e.clientX+10,i=e.clientY+10;o+250>window.innerWidth&&(o=e.clientX-250-10),i+250>window.innerHeight&&(i=e.clientY-250-10),this.imagePreview.x=o,this.imagePreview.y=i}},hideImagePreview(){this.imagePreview.show=!1},showBoxImagePreview(e,t){var n;const s=this.equipmentBoxDetails[e];if((n=s==null?void 0:s.image)!=null&&n.url){let l=t.clientX+10,d=t.clientY+10;l+250>window.innerWidth&&(l=t.clientX-250-10),d+250>window.innerHeight&&(d=t.clientY-250-10),this.imagePreview={show:!0,src:s.image.url,alt:s.name||"Equipment Box",x:l,y:d}}},resetDeliveryRates(){this.deliveryRates=null,this.deliveryRatesError=null,this.loadingDeliveryRates=!1},async calculateDeliveryRates(){if(!this.selectedBoxType||this.equipmentBoxes.length===0){this.deliveryRatesError="Please calculate equipment boxes first before calculating delivery rates.";return}this.loadingDeliveryRates=!0,this.deliveryRatesError=null,this.deliveryRates=null;try{const e=await uf.calculateDelivery(this.quote.id),t=e.availableRates&&e.availableRates.length>0?e.availableRates[0].weights.chargedWeight:null;this.deliveryRates={...e,chargedWeight:t},await this.refreshQuoteData()}catch(e){console.error("Failed to calculate delivery rates:",e),this.deliveryRatesError=e.message||"Failed to calculate delivery rates"}finally{this.loadingDeliveryRates=!1}},formatDeliveryDate(e){if(!e)return"N/A";try{const t=new Date(e),s=String(t.getDate()).padStart(2,"0"),n=t.toLocaleString("en-GB",{month:"short"}),r=t.getFullYear();return`${s} ${n} ${r}`}catch(t){return console.error("Error formatting delivery date:",t),"Invalid date"}},formatQuoteStatus(e){return e&&e==="Submitted"?"Submitted":"Draft"},async refreshQuoteData(){try{const e=await fe.getQuote(this.quote.id);this.$emit("quote-updated",e),await this.$nextTick(),console.log("Quote data refreshed successfully")}catch(e){console.error("Failed to refresh quote data:",e)}},initializeBoxType(){this.quote.boxType&&(this.selectedBoxType=this.quote.boxType,console.log("Initialized box type from quote:",this.quote.boxType))},checkExistingDeliveryDetails(){this.quote.deliveryService&&this.quote.totalDeliveryFees&&this.quote.totalDeliveryFees>0?(this.deliveryRates={selectedDeliveryService:this.quote.deliveryService,selectedDeliveryFees:this.quote.totalDeliveryFees,totalParcels:this.equipmentBoxes.length>0?this.equipmentBoxes.reduce((e,t)=>e+t.quantity,0):0,totalWeightKg:this.totalShipmentWeight/1e3,totalVolumeCm3:this.equipmentBoxes.length>0?this.equipmentBoxes.reduce((e,t)=>{const s=this.equipmentBoxDetails[t.equipmentBoxId];if(s){const n=s.lengthInCm*s.widthInCm*s.heightInCm*t.quantity;return e+n}return e},0):0},console.log("Hydrated existing delivery details:",this.deliveryRates)):console.log("No existing delivery details found")},async submitQuote(){try{this.submittingQuote=!0,await fe.submitQuote(this.quote.id);const e=await fe.getQuote(this.quote.id);this.$emit("quote-updated",e),this.productsReadOnly=!0,this.showAddProductModal=!1}catch(e){console.error("Failed to submit quote:",e),alert("Failed to submit quote: "+(e.message||"Unknown error"))}finally{this.submittingQuote=!1}}}},ff={class:"space-y-6"},hf={class:"flex justify-between items-center"},pf={class:"flex items-center space-x-4"},mf={class:"flex items-center gap-2"},gf={class:"text-2xl font-semibold text-gray-900"},yf={class:"flex space-x-2"},_f=["disabled"],bf={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},vf={class:"card"},xf={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},wf={class:"text-lg font-semibold text-gray-900"},Sf={class:"flex items-center"},Ef={class:"text-gray-900"},kf={class:"text-gray-900"},Pf={class:"text-gray-900"},Cf={class:"text-gray-900"},If={class:"text-gray-900"},Af={class:"text-gray-900"},Tf={class:"card"},Df={class:"flex items-center justify-between mb-2"},Rf={class:"block text-sm font-medium text-gray-700"},Lf={key:0,class:"text-red-600"},Nf={key:0,class:"text-xs text-red-600"},Of={class:"flex items-start gap-4"},Ff={class:"w-full"},qf={key:0,class:"rounded-lg border border-gray-200 p-4 text-sm text-gray-500 bg-gray-50"},Mf={class:"md:grid md:grid-cols-2 md:gap-6"},Bf={class:"space-y-1"},jf={class:"text-base font-semibold text-gray-900"},Uf={key:0,class:"text-sm text-gray-700"},Hf={key:1,class:"space-y-0.5"},Vf={key:0,class:"text-sm text-gray-700"},$f={key:1,class:"text-sm text-gray-700"},Wf={key:2,class:"text-sm text-gray-700"},Qf={class:"space-y-1 mt-3 md:mt-6"},Kf={class:"text-sm text-gray-700"},zf={key:0,class:"text-sm text-gray-700"},Gf={class:"text-sm text-gray-700"},Yf={key:1,class:"text-sm text-gray-700"},Jf={key:0,class:"fixed inset-0 z-50 flex items-center justify-center"},Xf={class:"relative bg-white rounded-lg shadow-xl w-full max-w-3xl mx-4 max-h-[90vh] overflow-hidden"},Zf={class:"flex items-center justify-between p-4 border-b border-gray-200"},eh={class:"p-4 overflow-y-auto max-h-[calc(90vh-120px)]"},th={key:0,class:"text-center text-sm text-gray-600 py-8"},sh={key:1,class:"space-y-4"},rh=["onClick"],nh={class:"md:grid md:grid-cols-2 md:gap-6"},oh={class:"space-y-1"},ih={class:"text-base font-semibold text-gray-900"},ah={key:0,class:"text-sm text-gray-700"},lh={key:1,class:"space-y-0.5"},ch={key:0,class:"text-sm text-gray-700"},uh={key:1,class:"text-sm text-gray-700"},dh={key:2,class:"text-sm text-gray-700"},fh={class:"space-y-1 mt-3 md:mt-6"},hh={class:"text-sm text-gray-700"},ph={key:0,class:"text-sm text-gray-700"},mh={class:"text-sm text-gray-700"},gh={key:1,class:"text-sm text-gray-700"},yh={class:"p-4 border-t border-gray-200 flex justify-end"},_h={class:"card"},bh={key:0,class:"text-center py-8"},vh={key:1,class:"space-y-4"},xh={class:"flex justify-between items-center"},wh={class:"flex items-center space-x-4"},Sh={class:"relative w-12 h-12"},Eh=["src","alt","onMouseenter"],kh={key:1,class:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center"},Ph={class:"min-h-[2rem] flex flex-col justify-center"},Ch={class:"font-medium text-gray-900"},Ih={class:"text-sm text-gray-600"},Ah={class:"flex items-center space-x-4"},Th={class:"w-12 text-center"},Dh=["onClick"],Rh={class:"w-20 text-right"},Lh=["value","onChange"],Nh={key:1,class:"text-sm font-medium text-gray-900 text-center"},Oh={class:"w-20 text-right"},Fh={class:"text-sm font-medium text-gray-900"},qh={class:"w-20 text-right"},Mh={class:"text-sm font-bold text-gray-900"},Bh={key:2,class:"flex justify-end items-center space-x-3 mt-6 pt-4 border-t border-gray-200"},jh=["disabled"],Uh=["disabled"],Hh={key:0,class:"card"},Vh={key:0,class:"mb-4"},$h={class:"flex gap-3"},Wh=["disabled"],Qh=["disabled"],Kh={key:1,class:"text-center py-8"},zh={key:2,class:"flex justify-center items-center py-8"},Gh={key:3,class:"text-center py-8"},Yh={key:4,class:"space-y-3"},Jh={class:"flex justify-between items-center"},Xh={class:"flex items-center space-x-4"},Zh={class:"relative w-12 h-12"},ep=["src","alt","onMouseenter"],tp={key:1,class:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center"},sp={class:"min-h-[2rem] flex flex-col justify-center"},rp={class:"font-medium text-gray-900"},np={class:"text-xs text-gray-500"},op={class:"flex items-center space-x-4"},ip={class:"w-20 text-right"},ap={class:"text-sm font-medium text-gray-900"},lp={class:"w-20 text-right"},cp={class:"text-sm font-medium text-gray-900"},up={class:"w-20 text-right"},dp={class:"text-sm font-bold text-gray-900"},fp={key:1,class:"card"},hp={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},pp={class:"text-2xl font-bold text-gray-900"},mp={class:"space-y-2"},gp={class:"flex justify-between text-sm"},yp={class:"font-medium"},_p={key:0,class:"flex justify-between text-sm"},bp={class:"font-medium"},vp={class:"mt-6 border-t pt-6"},xp={key:0},wp={class:"bg-green-50 border border-green-200 rounded-lg p-4"},Sp={class:"flex items-start justify-between"},Ep={class:"ml-3 flex-1"},kp={class:"mt-2 text-sm text-green-700"},Pp={class:"mt-1 text-xs"},Cp={key:0},Ip={class:"ml-3"},Ap={key:0,class:"mt-6 border-t pt-6"},Tp={class:"bg-red-50 border border-red-200 rounded-lg p-4"},Dp={class:"flex"},Rp={class:"ml-3 flex-1"},Lp={class:"mt-2 text-sm text-red-700"},Np={class:"mt-3"},Op=["disabled"],Fp={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-red-700",fill:"none",viewBox:"0 0 24 24"},qp={class:"card"},Mp={class:"flex justify-end"},Bp={class:"w-80 space-y-2"},jp={class:"flex justify-between"},Up={class:"font-medium"},Hp={class:"flex justify-between"},Vp={class:"font-medium"},$p={class:"flex justify-between"},Wp={class:"font-medium"},Qp={class:"border-t pt-2"},Kp={class:"flex justify-between"},zp={class:"text-sm font-medium text-gray-900"},Gp={class:"flex justify-between"},Yp={class:"text-lg font-bold text-gray-900"},Jp={key:2,class:"fixed inset-0 z-50 flex items-center justify-center"},Xp={class:"relative bg-white rounded-lg shadow-xl w-full max-w-4xl mx-4 max-h-[90vh] overflow-hidden"},Zp={class:"flex items-center justify-between p-4 border-b border-gray-200"},em={class:"p-4 overflow-auto max-h-[calc(90vh-160px)] space-y-6"},tm={class:"border border-gray-200 rounded-lg p-4"},sm={class:"flex items-start justify-between"},rm={class:"text-base font-semibold text-gray-900"},nm={class:"text-sm text-gray-700 mt-1"},om={class:"text-sm text-gray-700 mt-1 flex flex-wrap gap-4"},im={key:0},am={key:1},lm={key:2},cm={key:0,class:"text-xs text-gray-600 mt-1"},um={key:0},dm={key:1},fm={class:"text-right text-sm text-gray-700"},hm={key:0},pm={key:1},mm={key:2},gm={key:0,class:"border border-gray-200 rounded-lg p-4"},ym={class:"overflow-x-auto"},_m={class:"min-w-full text-sm"},bm={class:"py-2 pr-4 text-gray-800"},vm={class:"py-2 pr-4 text-gray-800"},xm={class:"py-2 pr-4 text-gray-800"},wm={class:"py-2 pr-4 text-gray-800"},Sm={class:"py-2 pr-4 text-gray-800"},Em={key:0,class:"mt-2"},km={class:"text-xs text-gray-800 whitespace-pre-wrap break-words"},Pm={class:"p-4 border-t border-gray-200 flex justify-end"},Cm={key:3,class:"fixed inset-0 z-50 flex items-center justify-center"},Im={class:"relative bg-white rounded-lg shadow-xl w-full max-w-md mx-4"},Am={class:"flex items-center justify-between p-4 border-b border-gray-200"},Tm={class:"p-4 space-y-3"},Dm={class:"p-4 border-t border-gray-200 flex justify-end gap-2"},Rm=["disabled"],Lm=["src","alt"];function Nm(e,t,s,n,r,o){var a,l,d,u,h,y,b,D,F,$,U,K,G,q,re,Ue,Ae,He,Ct,Ke,pt;const i=Nt("AddProductModal");return m(),g("div",ff,[c("div",hf,[c("div",pf,[c("button",{onClick:t[0]||(t[0]=x=>e.$emit("back")),class:"btn btn-secondary"}," Back to Quotes "),c("div",mf,[c("h2",gf,_(s.quote.name||"Quote #"+(s.quote.number||"")),1),o.isSubmitted?P("",!0):(m(),g("button",{key:0,onClick:t[1]||(t[1]=(...x)=>o.openNameDialog&&o.openNameDialog(...x)),class:"text-gray-500 hover:text-gray-700",title:"Edit quote name"},t[31]||(t[31]=[c("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5M18.5 2.5a2.121 2.121 0 113 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)])))])]),c("div",yf,[s.quote.status==="Draft"||!s.quote.status?(m(),g("button",{key:0,onClick:t[2]||(t[2]=(...x)=>o.submitQuote&&o.submitQuote(...x)),class:ae(["btn bg-green-600 hover:bg-green-700 text-white",{"opacity-50 cursor-not-allowed":o.isSubmitDisabled}]),disabled:o.isSubmitDisabled},[r.submittingQuote?(m(),g("span",bf)):P("",!0),he(" "+_(r.submittingQuote?"Submitting...":"Submit Quote"),1)],10,_f)):P("",!0),o.isSubmitted?P("",!0):(m(),g("button",{key:1,onClick:t[3]||(t[3]=(...x)=>o.deleteQuote&&o.deleteQuote(...x)),class:"btn btn-danger"}," Delete Quote "))])]),c("div",vf,[c("div",xf,[c("div",null,[t[32]||(t[32]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Quote Number",-1)),c("p",wf,_(s.quote.number),1)]),c("div",null,[t[33]||(t[33]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),c("div",Sf,[c("span",{class:ae(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s.quote.status==="Submitted"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"])},_(o.formatQuoteStatus(s.quote.status)),3)])]),c("div",null,[t[34]||(t[34]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Created By",-1)),c("p",Ef,_(s.quote.createdByName||""),1)]),c("div",null,[t[35]||(t[35]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Last Updated",-1)),c("p",kf,_(o.formatDate(s.quote.updatedAt)),1)]),o.isSubmitted||o.isApproved?(m(),g(ne,{key:0},[c("div",null,[t[36]||(t[36]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Submitted By",-1)),c("p",Pf,_(s.quote.submittedByName||""),1)]),c("div",null,[t[37]||(t[37]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Submitted At",-1)),c("p",Cf,_(s.quote.submittedAt?o.formatDate(s.quote.submittedAt):""),1)]),c("div",null,[t[38]||(t[38]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Approved By",-1)),c("p",If,_(s.quote.approvedByName||""),1)]),c("div",null,[t[39]||(t[39]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Approved At",-1)),c("p",Af,_(s.quote.approvedAt?o.formatDate(s.quote.approvedAt):""),1)])],64)):P("",!0)])]),c("div",Tf,[c("div",Df,[c("label",Rf,[t[40]||(t[40]=he("Delivery Address ",-1)),r.productsReadOnly?P("",!0):(m(),g("span",Lf,"*"))]),!r.productsReadOnly&&r.addressSubmitAttempted&&!r.selectedAddressId?(m(),g("span",Nf,"Address is required")):P("",!0)]),c("div",Of,[c("div",Ff,[r.loadingAddresses?(m(),g("div",qf,"Loading addresses...")):r.selectedAddressId?(m(),g("div",{key:2,class:ae(["rounded-lg border border-gray-200 p-4 bg-white transition w-full",{"cursor-pointer hover:border-blue-400":!r.productsReadOnly&&!r.loadingAddresses,"cursor-not-allowed":r.productsReadOnly||r.loadingAddresses}]),role:"button",tabindex:"0",onClick:t[6]||(t[6]=(...x)=>o.openAddressDialog&&o.openAddressDialog(...x)),onKeydown:t[7]||(t[7]=ui((...x)=>o.openAddressDialog&&o.openAddressDialog(...x),["enter"]))},[c("div",Mf,[c("div",Bf,[c("div",jf,_(o.selectedAddress.name),1),o.selectedAddress.organisation?(m(),g("div",Uf,_(o.selectedAddress.organisation),1)):P("",!0),o.selectedAddress.contactPerson||o.selectedAddress.contactPhone||o.selectedAddress.contactEmail?(m(),g("div",Hf,[o.selectedAddress.contactPerson?(m(),g("p",Vf,"Contact: "+_(o.selectedAddress.contactPerson),1)):P("",!0),o.selectedAddress.contactPhone?(m(),g("p",$f,"Phone: "+_(o.selectedAddress.contactPhone),1)):P("",!0),o.selectedAddress.contactEmail?(m(),g("p",Wf,"Email: "+_(o.selectedAddress.contactEmail),1)):P("",!0)])):P("",!0)]),c("div",Qf,[c("div",Kf,_(o.selectedAddress.addressLine1),1),o.selectedAddress.addressLine2?(m(),g("div",zf,_(o.selectedAddress.addressLine2),1)):P("",!0),c("div",Gf,_(o.selectedAddress.suburb)+", "+_(o.selectedAddress.city)+", "+_(o.selectedAddress.province)+" "+_(o.selectedAddress.postalCode),1),o.selectedAddress.deliveryNotes?(m(),g("div",Yf,_(o.selectedAddress.deliveryNotes),1)):P("",!0)])])],34)):(m(),g("div",{key:1,class:ae(["rounded-lg border border-dashed border-gray-300 p-4 text-sm text-gray-600 transition",{"cursor-pointer hover:border-blue-400":!r.productsReadOnly&&!r.loadingAddresses,"cursor-not-allowed":r.productsReadOnly||r.loadingAddresses}]),role:"button",tabindex:"0",onClick:t[4]||(t[4]=(...x)=>o.openAddressDialog&&o.openAddressDialog(...x)),onKeydown:t[5]||(t[5]=ui((...x)=>o.openAddressDialog&&o.openAddressDialog(...x),["enter"]))}," No address selected ",34))])]),r.showAddressDialog?(m(),g("div",Jf,[c("div",{class:"absolute inset-0 bg-black bg-opacity-50",onClick:t[8]||(t[8]=(...x)=>o.closeAddressDialog&&o.closeAddressDialog(...x))}),c("div",Xf,[c("div",Zf,[t[42]||(t[42]=c("h3",{class:"text-lg font-semibold text-gray-900"},"Select Delivery Address",-1)),c("button",{onClick:t[9]||(t[9]=(...x)=>o.closeAddressDialog&&o.closeAddressDialog(...x)),class:"text-gray-400 hover:text-gray-600"},t[41]||(t[41]=[c("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),c("div",eh,[r.deliveryAddresses.length===0?(m(),g("div",th,"No delivery addresses found.")):(m(),g("div",sh,[(m(!0),g(ne,null,Fe(r.deliveryAddresses,x=>(m(),g("div",{key:x.id,class:"border rounded-lg p-4 hover:border-blue-500 hover:shadow cursor-pointer transition w-full",onClick:we=>o.selectAddress(x.id)},[c("div",nh,[c("div",oh,[c("div",ih,_(x.name),1),x.organisation?(m(),g("div",ah,_(x.organisation),1)):P("",!0),x.contactPerson||x.contactPhone||x.contactEmail?(m(),g("div",lh,[x.contactPerson?(m(),g("p",ch,"Contact: "+_(x.contactPerson),1)):P("",!0),x.contactPhone?(m(),g("p",uh,"Phone: "+_(x.contactPhone),1)):P("",!0),x.contactEmail?(m(),g("p",dh,"Email: "+_(x.contactEmail),1)):P("",!0)])):P("",!0)]),c("div",fh,[c("div",hh,_(x.addressLine1),1),x.addressLine2?(m(),g("div",ph,_(x.addressLine2),1)):P("",!0),c("div",mh,_(x.suburb)+", "+_(x.city)+", "+_(x.province)+" "+_(x.postalCode),1),x.deliveryNotes?(m(),g("div",gh,_(x.deliveryNotes),1)):P("",!0)])])],8,rh))),128))]))]),c("div",yh,[c("button",{onClick:t[10]||(t[10]=(...x)=>o.closeAddressDialog&&o.closeAddressDialog(...x)),class:"btn btn-secondary"},"Close")])])])):P("",!0)]),c("div",_h,[r.quoteProducts.length===0?(m(),g("div",bh,t[43]||(t[43]=[Ce('<div class="text-gray-500 mb-4"><svg class="w-12 h-12 mx-auto text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 21h18"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21v-4h6"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 7l3 3-3 3-3-3 3-3z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 6l3 3"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 10h3"></path></svg></div><h4 class="text-lg font-medium text-gray-900 mb-2">No products added</h4><p class="text-gray-600">Add products to this quote to get started.</p>',3)]))):(m(),g("div",vh,[t[46]||(t[46]=Ce('<div class="flex justify-between items-center px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg"><div class="flex items-center space-x-4"><div class="min-h-[2rem] flex flex-col justify-center"><h4 class="text-xs font-medium text-gray-700 uppercase tracking-wide">Product</h4></div></div><div class="flex items-center space-x-4"><div class="w-12 text-center"><h4 class="text-xs font-medium text-gray-700 uppercase tracking-wide"></h4></div><div class="w-20 text-right"><h4 class="text-xs font-medium text-gray-700 uppercase tracking-wide">Quantity</h4></div><div class="w-20 text-right"><h4 class="text-xs font-medium text-gray-700 uppercase tracking-wide">Price</h4></div><div class="w-20 text-right"><h4 class="text-xs font-medium text-gray-700 uppercase tracking-wide">Total</h4></div></div></div>',1)),(m(!0),g(ne,null,Fe(r.quoteProducts,x=>{var we,nt,mt,oe,W;return m(),g("div",{key:x.id,class:"border border-gray-200 rounded-lg p-2 hover:bg-gray-50 transition-colors"},[c("div",xh,[c("div",wh,[c("div",Sh,[(nt=(we=r.productDetails[x.productId])==null?void 0:we.image)!=null&&nt.url?(m(),g("img",{key:0,src:r.productDetails[x.productId].image.url,alt:(mt=r.productDetails[x.productId])==null?void 0:mt.name,class:"w-12 h-12 object-contain rounded-lg cursor-pointer bg-white",onMouseenter:H=>o.showImagePreview(x.productId,H),onMousemove:t[11]||(t[11]=H=>o.updateImagePreviewPosition(H)),onMouseleave:t[12]||(t[12]=(...H)=>o.hideImagePreview&&o.hideImagePreview(...H))},null,40,Eh)):(m(),g("div",kh,t[44]||(t[44]=[c("svg",{class:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])))]),c("div",Ph,[c("h4",Ch,_(((oe=r.productDetails[x.productId])==null?void 0:oe.name)||"Product"),1),c("p",Ih,"SKU: "+_(((W=r.productDetails[x.productId])==null?void 0:W.sku)||"N/A"),1)])]),c("div",Ah,[c("div",Th,[r.productsReadOnly?P("",!0):(m(),g("button",{key:0,onClick:H=>o.removeProduct(x.id),class:"text-red-600 hover:text-red-800 p-2 rounded",title:"Remove product"},t[45]||(t[45]=[c("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,Dh))]),c("div",Rh,[r.productsReadOnly?(m(),g("p",Nh,_(x.quantity),1)):(m(),g("input",{key:0,type:"number",value:x.quantity,onChange:H=>o.updateProductQuantity(x.id,H.target.value),class:"input w-16 text-sm text-center",min:"0",step:"1"},null,40,Lh))]),c("div",Oh,[c("p",Fh,_(o.formatCurrency(x.price)),1)]),c("div",qh,[c("p",Mh,_(o.formatCurrency(x.total)),1)])])])])}),128))])),o.isSubmitted?P("",!0):(m(),g("div",Bh,[c("button",{onClick:t[13]||(t[13]=x=>r.showAddProductModal=!0),class:ae(["btn btn-primary",{"opacity-50 cursor-not-allowed":r.productsReadOnly}]),disabled:r.productsReadOnly}," Add Product ",10,jh),c("button",{onClick:t[14]||(t[14]=(...x)=>o.toggleProductsReadOnly&&o.toggleProductsReadOnly(...x)),class:ae(["btn btn-secondary",{"opacity-50 cursor-not-allowed":!r.productsReadOnly&&(r.quoteProducts.length===0||!r.selectedAddressId)}]),disabled:!r.productsReadOnly&&(r.quoteProducts.length===0||!r.selectedAddressId)},_(r.productsReadOnly?"Edit Products":"Continue with Shipping"),11,Uh)]))]),r.productsReadOnly?(m(),g("div",Hh,[o.isSubmitted?P("",!0):(m(),g("div",Vh,[c("div",$h,[c("button",{type:"button",onClick:t[15]||(t[15]=x=>o.selectBoxType("PlasticEquipment")),disabled:r.loading,class:ae(["flex items-center gap-3 px-3 py-2 rounded-md border transition",r.selectedBoxType==="PlasticEquipment"?"border-blue-600 bg-blue-50":"border-gray-300 hover:border-gray-400"])},t[47]||(t[47]=[Ce('<svg class="w-5 h-5 text-blue-600" viewBox="0 0 24 24" fill="none" stroke="currentColor"><rect x="4" y="4" width="16" height="12" rx="2" ry="2" stroke-width="2"></rect><path d="M4 12h16" stroke-width="2"></path></svg><div class="text-left"><div class="text-sm font-medium text-gray-900">Plastic Equipment</div><div class="text-xs text-gray-500">Plastic tote box</div></div>',2)]),10,Wh),c("button",{type:"button",onClick:t[16]||(t[16]=x=>o.selectBoxType("Cardboard")),disabled:r.loading,class:ae(["flex items-center gap-3 px-3 py-2 rounded-md border transition",r.selectedBoxType==="Cardboard"?"border-blue-600 bg-blue-50":"border-gray-300 hover:border-gray-400"])},t[48]||(t[48]=[Ce('<svg class="w-5 h-5 text-yellow-600" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M3 7l9-4 9 4-9 4-9-4z" stroke-width="2"></path><path d="M3 7v10l9 4 9-4V7" stroke-width="2"></path></svg><div class="text-left"><div class="text-sm font-medium text-gray-900">Cardboard</div><div class="text-xs text-gray-500">Plain cardboard box</div></div>',2)]),10,Qh)])])),r.selectedBoxType?r.loadingEquipmentBoxes?(m(),g("div",zh,t[50]||(t[50]=[c("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)]))):r.equipmentBoxes.length===0?(m(),g("div",Gh,t[51]||(t[51]=[Ce('<div class="text-gray-500 mb-4"><svg class="w-12 h-12 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"></path></svg></div><h4 class="text-lg font-medium text-gray-900 mb-2">No equipment boxes needed</h4><p class="text-gray-600">The current products don&#39;t require any equipment boxes.</p>',3)]))):(m(),g("div",Yh,[t[53]||(t[53]=Ce('<div class="flex justify-between items-center px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg"><div class="flex items-center space-x-4"><div class="min-h-[2rem] flex flex-col justify-center"><h4 class="text-xs font-medium text-gray-700 uppercase tracking-wide">Packaging</h4></div></div><div class="flex items-center space-x-4"><div class="w-20 text-right"><h4 class="text-xs font-medium text-gray-700 uppercase tracking-wide">Quantity</h4></div><div class="w-20 text-right"><h4 class="text-xs font-medium text-gray-700 uppercase tracking-wide">Price</h4></div><div class="w-20 text-right"><h4 class="text-xs font-medium text-gray-700 uppercase tracking-wide">Total</h4></div></div></div>',1)),(m(!0),g(ne,null,Fe(r.equipmentBoxes,x=>{var we,nt,mt,oe;return m(),g("div",{key:x.id,class:"border border-gray-200 rounded-lg p-2 hover:bg-gray-50 transition-colors"},[c("div",Jh,[c("div",Xh,[c("div",Zh,[(nt=(we=r.equipmentBoxDetails[x.equipmentBoxId])==null?void 0:we.image)!=null&&nt.url?(m(),g("img",{key:0,src:r.equipmentBoxDetails[x.equipmentBoxId].image.url,alt:((mt=r.equipmentBoxDetails[x.equipmentBoxId])==null?void 0:mt.name)||"Equipment Box",class:"w-12 h-12 object-contain rounded-lg cursor-pointer bg-white",onMouseenter:W=>o.showBoxImagePreview(x.equipmentBoxId,W),onMousemove:t[17]||(t[17]=W=>o.updateImagePreviewPosition(W)),onMouseleave:t[18]||(t[18]=(...W)=>o.hideImagePreview&&o.hideImagePreview(...W))},null,40,ep)):(m(),g("div",tp,t[52]||(t[52]=[c("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1)])))]),c("div",sp,[c("h4",rp,_(((oe=r.equipmentBoxDetails[x.equipmentBoxId])==null?void 0:oe.name)||`Equipment Box ${x.equipmentBoxId}`),1),c("p",np," Dimensions: "+_(o.formatDimensions(r.equipmentBoxDetails[x.equipmentBoxId])),1)])]),c("div",op,[c("div",ip,[c("p",ap,_(x.quantity),1)]),c("div",lp,[c("p",cp,_(o.formatCurrency(x.price)),1)]),c("div",up,[c("p",dp,_(o.formatCurrency(x.total)),1)])])])])}),128))])):(m(),g("div",Kh,t[49]||(t[49]=[Ce('<div class="text-gray-500 mb-4"><svg class="w-12 h-12 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"></path></svg></div><h4 class="text-lg font-medium text-gray-900 mb-2">No equipment boxes selected</h4><p class="text-gray-600">Select a box type to automatically calculate packaging requirements.</p>',3)])))])):P("",!0),r.productsReadOnly?(m(),g("div",fp,[c("div",hp,[c("div",null,[t[54]||(t[54]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Total Shipment Weight",-1)),c("div",pp,_(o.formatWeight(o.totalShipmentWeight)),1),t[55]||(t[55]=c("p",{class:"text-sm text-gray-600 mt-1"}," Combined weight of all products and equipment boxes ",-1))]),c("div",null,[t[58]||(t[58]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Weight Breakdown",-1)),c("div",mp,[c("div",gp,[t[56]||(t[56]=c("span",{class:"text-gray-600"},"Products",-1)),c("span",yp,_(o.formatWeight(o.productsWeight)),1)]),r.selectedBoxType&&r.equipmentBoxes.length>0?(m(),g("div",_p,[t[57]||(t[57]=c("span",{class:"text-gray-600"},"Equipment Boxes",-1)),c("span",bp,_(o.formatWeight(o.equipmentBoxesWeight)),1)])):P("",!0)])])]),c("div",vp,[r.deliveryRates?(m(),g("div",xp,[c("div",wp,[c("div",Sp,[t[60]||(t[60]=c("div",{class:"flex-shrink-0"},[c("svg",{class:"h-5 w-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)),c("div",Ep,[t[59]||(t[59]=c("h3",{class:"text-sm font-medium text-green-800"},"The Courier Guy delivery quote",-1)),c("div",kp,[c("p",null,[c("strong",null,_(r.deliveryRates.selectedDeliveryService),1),he(" - ZAR "+_(o.formatCurrency(r.deliveryRates.selectedDeliveryFees)),1)]),c("p",Pp,[he(_(r.deliveryRates.totalParcels)+" parcels  Actual Weight "+_(((a=r.deliveryRates.totalWeightKg)==null?void 0:a.toFixed(2))||"0.00")+" kg ",1),r.deliveryRates.chargedWeight?(m(),g("span",Cp,"  Charged Weight "+_(r.deliveryRates.chargedWeight.toFixed(0))+" kg ",1)):P("",!0)])])]),c("div",Ip,[o.hasDeliveryInfo?(m(),g("button",{key:0,class:"text-xs text-green-700 hover:text-green-900 underline",onClick:t[19]||(t[19]=(...x)=>o.openDeliveryInfoDialog&&o.openDeliveryInfoDialog(...x))}," View details ")):P("",!0)])])])])):P("",!0)]),r.deliveryRatesError?(m(),g("div",Ap,[c("div",Tp,[c("div",Dp,[t[63]||(t[63]=c("div",{class:"flex-shrink-0"},[c("svg",{class:"h-5 w-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),c("div",Rp,[t[62]||(t[62]=c("h3",{class:"text-sm font-medium text-red-800"},"Failed to calculate delivery rates",-1)),c("div",Lp,[c("p",null,_(r.deliveryRatesError),1)]),c("div",Np,[c("button",{onClick:t[20]||(t[20]=(...x)=>o.calculateDeliveryRates&&o.calculateDeliveryRates(...x)),disabled:r.loadingDeliveryRates,class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed"},[r.loadingDeliveryRates?(m(),g("svg",Fp,t[61]||(t[61]=[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):P("",!0),he(" "+_(r.loadingDeliveryRates?"Retrying...":"Retry"),1)],8,Op)])])])])])):P("",!0)])):P("",!0),c("div",qp,[c("div",Mp,[c("div",Bp,[c("div",jp,[t[64]||(t[64]=c("span",{class:"text-gray-600"},"Products",-1)),c("span",Up,_(o.formatCurrency(s.quote.totalProductPrice||0)),1)]),c("div",Hp,[t[65]||(t[65]=c("span",{class:"text-gray-600"},"Equipment Boxes",-1)),c("span",Vp,_(s.quote.totalEquipmentBoxPrice&&s.quote.totalEquipmentBoxPrice>0?o.formatCurrency(s.quote.totalEquipmentBoxPrice):"0.00"),1)]),c("div",$p,[t[66]||(t[66]=c("span",{class:"text-gray-600"},"Delivery",-1)),c("span",Wp,_(s.quote.totalDeliveryFees&&s.quote.totalDeliveryFees>0?o.formatCurrency(s.quote.totalDeliveryFees):"0.00"),1)]),c("div",Qp,[c("div",Kp,[t[67]||(t[67]=c("span",{class:"text-sm text-gray-600"},"Total excl. VAT",-1)),c("span",zp,"ZAR "+_(o.formatCurrency(o.grandTotal)),1)]),c("div",Gp,[t[68]||(t[68]=c("span",{class:"text-lg font-semibold"},"Total incl. VAT",-1)),c("span",Yp,"ZAR "+_(o.formatCurrency(o.grandTotalInclVat)),1)])])])])]),r.showDeliveryInfoDialog?(m(),g("div",Jp,[c("div",{class:"absolute inset-0 bg-black bg-opacity-50",onClick:t[21]||(t[21]=(...x)=>o.closeDeliveryInfoDialog&&o.closeDeliveryInfoDialog(...x))}),c("div",Xp,[c("div",Zp,[t[70]||(t[70]=c("h3",{class:"text-lg font-semibold text-gray-900"},"Delivery details",-1)),c("button",{onClick:t[22]||(t[22]=(...x)=>o.closeDeliveryInfoDialog&&o.closeDeliveryInfoDialog(...x)),class:"text-gray-400 hover:text-gray-600"},t[69]||(t[69]=[c("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),c("div",em,[c("div",tm,[c("div",sm,[c("div",null,[c("div",rm,_(s.quote.deliveryService||((d=(l=o.parsedDelivery.selectedRate)==null?void 0:l.service_level)==null?void 0:d.name)||"Selected service"),1),c("div",nm,"Price: ZAR "+_(o.formatCurrency(s.quote.totalDeliveryFees||((u=o.parsedDelivery.selectedRate)==null?void 0:u.rate)||0)),1),c("div",om,[s.quote.chargedWeightInGrams||(h=o.parsedDelivery.selectedRate)!=null&&h.charged_weight?(m(),g("span",im,"Charged: "+_(o.formatChargedKg)+" kg",1)):P("",!0),(y=o.parsedDelivery.selectedRate)!=null&&y.actual_weight?(m(),g("span",am,"Actual: "+_(o.parsedDelivery.selectedRate.actual_weight.toFixed(2))+" kg",1)):P("",!0),(b=o.parsedDelivery.selectedRate)!=null&&b.volumetric_weight?(m(),g("span",lm,"Volumetric: "+_(o.parsedDelivery.selectedRate.volumetric_weight.toFixed(2))+" kg",1)):P("",!0)]),(F=(D=o.parsedDelivery.selectedRate)==null?void 0:D.service_level)!=null&&F.delivery_date_from||(U=($=o.parsedDelivery.selectedRate)==null?void 0:$.service_level)!=null&&U.delivery_date_to?(m(),g("div",cm,[t[71]||(t[71]=he(" Delivery window: ",-1)),(G=(K=o.parsedDelivery.selectedRate)==null?void 0:K.service_level)!=null&&G.delivery_date_from?(m(),g("span",um,_(o.formatDeliveryDate(o.parsedDelivery.selectedRate.service_level.delivery_date_from)),1)):P("",!0),(re=(q=o.parsedDelivery.selectedRate)==null?void 0:q.service_level)!=null&&re.delivery_date_to?(m(),g("span",dm," - "+_(o.formatDeliveryDate(o.parsedDelivery.selectedRate.service_level.delivery_date_to)),1)):P("",!0)])):P("",!0)]),c("div",fm,[(Ue=o.parsedDelivery.selectedRate)!=null&&Ue.rate_excluding_vat?(m(),g("div",hm,"Excl. VAT: ZAR "+_(o.formatCurrency(o.parsedDelivery.selectedRate.rate_excluding_vat)),1)):P("",!0),(He=(Ae=o.parsedDelivery.selectedRate)==null?void 0:Ae.base_rate)!=null&&He.vat?(m(),g("div",pm,"VAT: ZAR "+_(o.formatCurrency(o.parsedDelivery.selectedRate.base_rate.vat)),1)):P("",!0),(Ke=(Ct=o.parsedDelivery.selectedRate)==null?void 0:Ct.base_rate)!=null&&Ke.vat_percentage?(m(),g("div",mm,"VAT %: "+_(o.parsedDelivery.selectedRate.base_rate.vat_percentage)+"%",1)):P("",!0)])])]),o.parsedDelivery.otherRates.length?(m(),g("div",gm,[t[73]||(t[73]=c("div",{class:"text-sm font-medium text-gray-900 mb-3"},"Available services",-1)),c("div",ym,[c("table",_m,[t[72]||(t[72]=c("thead",null,[c("tr",{class:"text-left text-gray-600"},[c("th",{class:"py-2 pr-4"},"Service"),c("th",{class:"py-2 pr-4"},"Price (ZAR)"),c("th",{class:"py-2 pr-4"},"Charged (kg)"),c("th",{class:"py-2 pr-4"},"Actual (kg)"),c("th",{class:"py-2 pr-4"},"Volumetric (kg)")])],-1)),c("tbody",null,[(m(!0),g(ne,null,Fe(o.parsedDelivery.otherRates,x=>{var we;return m(),g("tr",{key:x._key,class:"border-t"},[c("td",bm,_(((we=x.service_level)==null?void 0:we.name)||"-"),1),c("td",vm,_(o.formatCurrency(x.rate||0)),1),c("td",xm,_(x.charged_weight!=null?x.charged_weight.toFixed(0):"-"),1),c("td",wm,_(x.actual_weight!=null?x.actual_weight.toFixed(2):"-"),1),c("td",Sm,_(x.volumetric_weight!=null?x.volumetric_weight.toFixed(2):"-"),1)])}),128))])])])])):P("",!0),c("div",null,[c("button",{class:"text-xs text-gray-600 hover:text-gray-800 underline",onClick:t[23]||(t[23]=x=>r.showRawJson=!r.showRawJson)},_(r.showRawJson?"Hide raw JSON":"Show raw JSON"),1),r.showRawJson?(m(),g("div",Em,[c("pre",km,_(o.formattedDeliveryInfo),1)])):P("",!0)])]),c("div",Pm,[c("button",{onClick:t[24]||(t[24]=(...x)=>o.closeDeliveryInfoDialog&&o.closeDeliveryInfoDialog(...x)),class:"btn btn-secondary"},"Close")])])])):P("",!0),r.showNameDialog?(m(),g("div",Cm,[c("div",{class:"absolute inset-0 bg-black bg-opacity-50",onClick:t[25]||(t[25]=(...x)=>o.closeNameDialog&&o.closeNameDialog(...x))}),c("div",Im,[c("div",Am,[t[75]||(t[75]=c("h3",{class:"text-lg font-semibold text-gray-900"},"Edit quote name",-1)),c("button",{onClick:t[26]||(t[26]=(...x)=>o.closeNameDialog&&o.closeNameDialog(...x)),class:"text-gray-400 hover:text-gray-600"},t[74]||(t[74]=[c("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),c("div",Tm,[t[76]||(t[76]=c("label",{class:"block text-sm font-medium text-gray-700"},"Name",-1)),ue(c("input",{"onUpdate:modelValue":t[27]||(t[27]=x=>r.editName=x),type:"text",class:"input",placeholder:"e.g. Term 3, 2025"},null,512),[[de,r.editName]])]),c("div",Dm,[c("button",{onClick:t[28]||(t[28]=(...x)=>o.closeNameDialog&&o.closeNameDialog(...x)),class:"btn btn-secondary"},"Cancel"),c("button",{onClick:t[29]||(t[29]=(...x)=>o.saveName&&o.saveName(...x)),class:ae(["btn btn-primary",{"opacity-50 cursor-not-allowed":r.savingName||!r.editName.trim()}]),disabled:r.savingName||!r.editName.trim()},_(r.savingName?"Saving...":"Save"),11,Rm)])])])):P("",!0),r.imagePreview.show?(m(),g("div",{key:4,style:qs({position:"fixed",top:r.imagePreview.y+"px",left:r.imagePreview.x+"px",zIndex:1e3,pointerEvents:"none"}),class:"bg-white border border-gray-300 rounded-lg shadow-lg p-2"},[c("img",{src:r.imagePreview.src,alt:r.imagePreview.alt,class:"w-60 h-60 object-contain rounded bg-white"},null,8,Lm)],4)):P("",!0),r.showAddProductModal?(m(),ks(i,{key:5,"quote-id":s.quote.id,"price-list-id":(pt=r.customerPriceList)==null?void 0:pt.priceListId,"existing-quote-products":r.quoteProducts,onClose:t[30]||(t[30]=x=>r.showAddProductModal=!1),onProductAdded:o.handleProductAdded},null,8,["quote-id","price-list-id","existing-quote-products","onProductAdded"])):P("",!0)])}const Om=kt(df,[["render",Nm]]),Fm={name:"PriceListView",props:{priceList:{type:Object,required:!0}},data(){return{productPrices:[],productDetails:{},loading:!0,error:null,brands:[],selectedBrandId:"ALL",showChangeLog:!1,changeLog:[],imagePreview:{show:!1,src:"",alt:"",x:0,y:0}}},async mounted(){await Promise.all([this.loadProductPrices(),this.loadBrands()]),await this.loadProductDetails()},methods:{async openChangeLog(){try{const e=this.priceList.priceListId||this.priceList.id,{priceListService:t}=await Pe(async()=>{const{priceListService:r}=await Promise.resolve().then(()=>co);return{priceListService:r}},void 0),s=await t.listPriceListChangeLog(e),n=s.filter(r=>!r.createdByName&&(r.createdById||r.createdBy));if(n.length)try{const{userService:r}=await Pe(async()=>{const{userService:o}=await import("./userService-Dv1bIkFp.js");return{userService:o}},[]);await Promise.all(n.map(async o=>{try{const i=o.createdById||o.createdBy,a=await r.getUser(i);o.createdByName=[a.firstName,a.lastName].filter(Boolean).join(" ")||a.email||a.id}catch{}}))}catch{}this.changeLog=s,this.showChangeLog=!0}catch(e){alert("Failed to load change log: "+(e.message||"Unknown error"))}},closeChangeLog(){this.showChangeLog=!1},async loadBrands(){try{const e=await Zt.listBrands();this.brands=e}catch(e){console.error("Failed to load brands",e),this.brands=[]}},async loadProductPrices(){try{this.loading=!0,this.error=null;const e=this.priceList.priceListId||this.priceList.id;this.productPrices=await Zt.getProductPricesByPriceList(e),console.log("Product prices loaded:",this.productPrices)}catch(e){console.error("Failed to load product prices:",e),this.error=e.message||"Failed to load product prices"}finally{this.loading=!1}},async loadProductDetails(){try{for(const e of this.productPrices)if(!this.productDetails[e.productId])try{this.productDetails[e.productId]=await Zt.getProduct(e.productId)}catch(t){console.error(`Failed to load product ${e.productId}:`,t)}}catch(e){console.error("Failed to load product details:",e)}},formatDate(e){if(!e)return"";const t=new Date(e),s=String(t.getDate()).padStart(2,"0"),n=t.toLocaleString("en-GB",{month:"short"}),r=t.getFullYear();return`${s} ${n} ${r}`},formatDateTime(e){if(!e)return"";const t=new Date(e),s=String(t.getDate()).padStart(2,"0"),n=t.toLocaleString("en-GB",{month:"short"}),r=t.getFullYear(),o=t.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"});return`${s} ${n} ${r} ${o}`},formatCurrency(e){return e?parseFloat(e).toLocaleString("en-ZA",{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00"},showImagePreview(e,t){var n;const s=this.productDetails[e];if((n=s==null?void 0:s.image)!=null&&n.url){let l=t.clientX+10,d=t.clientY+10;l+250>window.innerWidth&&(l=t.clientX-250-10),d+250>window.innerHeight&&(d=t.clientY-250-10),this.imagePreview={show:!0,src:s.image.url,alt:s.name||"Product",x:l,y:d}}},updateImagePreviewPosition(e){if(this.imagePreview.show){let o=e.clientX+10,i=e.clientY+10;o+250>window.innerWidth&&(o=e.clientX-250-10),i+250>window.innerHeight&&(i=e.clientY-250-10),this.imagePreview.x=o,this.imagePreview.y=i}},hideImagePreview(){this.imagePreview.show=!1}},computed:{filteredProductPrices(){return this.selectedBrandId==="ALL"?this.productPrices:this.productPrices.filter(e=>{const t=this.productDetails[e.productId];return((t==null?void 0:t.brandId)||e.brandId||e.productBrandId)===this.selectedBrandId})}}},qm={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Mm={class:"flex justify-between items-start mb-6"},Bm={class:"text-xl font-semibold text-gray-900 mb-1"},jm={class:"text-sm text-gray-600"},Um={class:"text-sm text-gray-600"},Hm={class:"flex items-center gap-2"},Vm={key:0,class:"flex justify-center items-center py-8"},$m={key:1,class:"text-center py-8"},Wm={class:"text-gray-600"},Qm={key:2,class:"text-center py-8"},Km={key:3},zm={class:"mb-4 flex flex-wrap items-center gap-2"},Gm=["onClick"],Ym={class:"space-y-2"},Jm={class:"flex justify-between items-center"},Xm={class:"flex items-center space-x-4"},Zm={class:"relative w-12 h-12"},eg=["src","alt","onMouseenter"],tg={key:1,class:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center"},sg={class:"min-h-[2rem] flex flex-col justify-center"},rg={class:"font-medium text-gray-900"},ng={class:"text-sm text-gray-600"},og={class:"flex items-center space-x-8"},ig={class:"w-24 text-right"},ag={class:"text-sm font-medium text-gray-900"},lg={class:"w-24 text-right whitespace-nowrap"},cg={class:"text-sm font-bold text-gray-900"},ug=["src","alt"],dg={key:5,class:"fixed inset-0 z-50 flex items-center justify-center"},fg={class:"relative bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-hidden"},hg={class:"flex items-center justify-between p-4 border-b border-gray-200"},pg={class:"p-4 overflow-y-auto max-h-[calc(90vh-120px)]"},mg={key:0,class:"text-sm text-gray-600"},gg={key:1,class:"space-y-3"},yg={class:"flex justify-between text-sm"},_g={key:0,class:"font-medium text-gray-900"},bg={class:"text-gray-600"},vg={key:0,class:"text-sm text-gray-700 mt-1"},xg={key:1,class:"text-xs text-gray-600 mt-1 whitespace-pre-wrap"},wg={class:"p-4 border-t border-gray-200 flex justify-end"},Sg={key:6,class:"fixed inset-0 z-50 flex items-center justify-center"},Eg={class:"relative bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-hidden"},kg={class:"flex items-center justify-between p-4 border-b border-gray-200"},Pg={class:"p-4 overflow-y-auto max-h-[calc(90vh-120px)]"},Cg={key:0,class:"text-sm text-gray-600"},Ig={key:1,class:"space-y-3"},Ag={class:"flex justify-between text-sm"},Tg={class:"font-medium text-gray-900"},Dg={class:"text-gray-600"},Rg={key:0,class:"text-sm text-gray-700 mt-1"},Lg={key:1,class:"text-xs text-gray-600 mt-1 whitespace-pre-wrap"},Ng={class:"p-4 border-t border-gray-200 flex justify-end"};function Og(e,t,s,n,r,o){return m(),g("div",qm,[c("div",Mm,[c("div",null,[c("h3",Bm,_(s.priceList.name),1),c("p",jm," Created: "+_(o.formatDate(s.priceList.createdAt)),1),c("p",Um,_(r.productPrices.length)+" products ",1)]),c("div",Hm,[c("button",{onClick:t[0]||(t[0]=(...i)=>o.openChangeLog&&o.openChangeLog(...i)),class:"btn btn-secondary text-sm",title:"View Change Log"}," Change Log "),c("button",{onClick:t[1]||(t[1]=i=>e.$emit("close")),class:"btn btn-secondary text-sm",title:"Close"},t[11]||(t[11]=[c("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])]),r.loading?(m(),g("div",Vm,t[12]||(t[12]=[c("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)]))):r.error?(m(),g("div",$m,[t[13]||(t[13]=c("div",{class:"text-red-500 mb-4"},[c("svg",{class:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t[14]||(t[14]=c("h4",{class:"text-lg font-medium text-gray-900 mb-2"},"Error loading products",-1)),c("p",Wm,_(r.error),1)])):r.productPrices.length===0?(m(),g("div",Qm,t[15]||(t[15]=[Ce('<div class="text-gray-500 mb-4"><svg class="w-12 h-12 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></div><h4 class="text-lg font-medium text-gray-900 mb-2">No products found</h4><p class="text-gray-600">This price list doesn&#39;t contain any products.</p>',3)]))):(m(),g("div",Km,[c("div",zm,[c("button",{class:ae(["px-3 py-1.5 rounded-full text-xs font-medium border",r.selectedBrandId==="ALL"?"bg-gray-800 text-white border-gray-800":"text-gray-700 border-gray-300 hover:border-gray-400"]),onClick:t[2]||(t[2]=i=>r.selectedBrandId="ALL")}," All ",2),(m(!0),g(ne,null,Fe(r.brands,i=>(m(),g("button",{key:i.id,class:ae(["px-3 py-1.5 rounded-full text-xs font-medium border",r.selectedBrandId===i.id?"bg-brand-navy text-white border-brand-navy":"text-gray-700 border-gray-300 hover:border-gray-400"]),onClick:a=>r.selectedBrandId=i.id},_(i.name),11,Gm))),128))]),t[17]||(t[17]=Ce('<div class="flex justify-between items-center mb-4 px-4 py-2 bg-gray-50 rounded-lg"><div class="min-h-[2rem] flex flex-col justify-center"><h4 class="text-xs font-medium text-gray-700 uppercase tracking-wide">Product</h4></div><div class="flex items-center space-x-8"><div class="w-24 text-right"><h4 class="text-xs font-medium text-gray-700 uppercase tracking-wide">Price</h4></div><div class="w-24 text-right whitespace-nowrap"><h4 class="text-xs font-medium text-gray-700 uppercase tracking-wide">Price (incl. VAT)</h4></div></div></div>',1)),c("div",Ym,[(m(!0),g(ne,null,Fe(o.filteredProductPrices,i=>{var a,l,d,u,h;return m(),g("div",{key:i.id,class:"border border-gray-200 rounded-lg p-2 hover:bg-gray-50 transition-colors"},[c("div",Jm,[c("div",Xm,[c("div",Zm,[(l=(a=r.productDetails[i.productId])==null?void 0:a.image)!=null&&l.url?(m(),g("img",{key:0,src:r.productDetails[i.productId].image.url,alt:(d=r.productDetails[i.productId])==null?void 0:d.name,class:"w-12 h-12 object-cover rounded-lg cursor-pointer",onMouseenter:y=>o.showImagePreview(i.productId,y),onMousemove:t[3]||(t[3]=y=>o.updateImagePreviewPosition(y)),onMouseleave:t[4]||(t[4]=(...y)=>o.hideImagePreview&&o.hideImagePreview(...y))},null,40,eg)):(m(),g("div",tg,t[16]||(t[16]=[c("svg",{class:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])))]),c("div",sg,[c("h4",rg,_(((u=r.productDetails[i.productId])==null?void 0:u.name)||i.productName),1),c("p",ng,"SKU: "+_(((h=r.productDetails[i.productId])==null?void 0:h.sku)||i.productSku),1)])]),c("div",og,[c("div",ig,[c("p",ag,"ZAR "+_(o.formatCurrency(i.price)),1)]),c("div",lg,[c("p",cg,"ZAR "+_(o.formatCurrency(i.priceInclVat)),1)])])])])}),128))])])),r.imagePreview.show?(m(),g("div",{key:4,style:qs({position:"fixed",top:r.imagePreview.y+"px",left:r.imagePreview.x+"px",zIndex:1e3,pointerEvents:"none"}),class:"bg-white border border-gray-300 rounded-lg shadow-lg p-2"},[c("img",{src:r.imagePreview.src,alt:r.imagePreview.alt,class:"w-60 h-60 object-contain rounded bg-white"},null,8,ug)],4)):P("",!0),r.showChangeLog?(m(),g("div",dg,[c("div",{class:"absolute inset-0 bg-black bg-opacity-50",onClick:t[5]||(t[5]=(...i)=>o.closeChangeLog&&o.closeChangeLog(...i))}),c("div",fg,[c("div",hg,[t[19]||(t[19]=c("h3",{class:"text-lg font-semibold text-gray-900"},"Price List Change Log",-1)),c("button",{onClick:t[6]||(t[6]=(...i)=>o.closeChangeLog&&o.closeChangeLog(...i)),class:"text-gray-400 hover:text-gray-600"},t[18]||(t[18]=[c("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),c("div",pg,[r.changeLog.length?(m(),g("ul",gg,[(m(!0),g(ne,null,Fe(r.changeLog,i=>(m(),g("li",{key:i.id,class:"border rounded p-3"},[c("div",yg,[i.changeType||i.type?(m(),g("span",_g,_(i.changeType||i.type),1)):P("",!0),c("span",bg,_(o.formatDateTime(i.createdAt))+"  "+_(i.createdByName||""),1)]),i.description?(m(),g("div",vg,_(i.description),1)):i.details?(m(),g("div",xg,_(JSON.stringify(i.details,null,2)),1)):P("",!0)]))),128))])):(m(),g("div",mg,"No changes recorded."))]),c("div",wg,[c("button",{onClick:t[7]||(t[7]=(...i)=>o.closeChangeLog&&o.closeChangeLog(...i)),class:"btn btn-secondary"},"Close")])])])):P("",!0),r.showChangeLog?(m(),g("div",Sg,[c("div",{class:"absolute inset-0 bg-black bg-opacity-50",onClick:t[8]||(t[8]=(...i)=>o.closeChangeLog&&o.closeChangeLog(...i))}),c("div",Eg,[c("div",kg,[t[21]||(t[21]=c("h3",{class:"text-lg font-semibold text-gray-900"},"Price List Change Log",-1)),c("button",{onClick:t[9]||(t[9]=(...i)=>o.closeChangeLog&&o.closeChangeLog(...i)),class:"text-gray-400 hover:text-gray-600"},t[20]||(t[20]=[c("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),c("div",Pg,[r.changeLog.length?(m(),g("ul",Ig,[(m(!0),g(ne,null,Fe(r.changeLog,i=>(m(),g("li",{key:i.id,class:"border rounded p-3"},[c("div",Ag,[c("span",Tg,_(i.changeType||i.type||"Change"),1),c("span",Dg,_(o.formatDate(i.createdAt)),1)]),i.description?(m(),g("div",Rg,_(i.description),1)):i.details?(m(),g("div",Lg,_(JSON.stringify(i.details,null,2)),1)):P("",!0)]))),128))])):(m(),g("div",Cg,"No changes recorded."))]),c("div",Ng,[c("button",{onClick:t[10]||(t[10]=(...i)=>o.closeChangeLog&&o.closeChangeLog(...i)),class:"btn btn-secondary"},"Close")])])])):P("",!0)])}const Fg=kt(Fm,[["render",Og]]),qg={name:"PriceListManager",components:{QuoteDetail:Om,PriceListView:Fg},props:{customerId:{type:String,required:!0}},data(){return{priceLists:[],quotes:{},loading:!1,error:null,selectedQuote:null,selectedPriceList:null,lastHiddenTime:null,statusFilters:{},searchTerms:{}}},watch:{customerId:{immediate:!0,async handler(e,t){e&&e!==t&&(console.log("Customer ID changed, reloading data:",e),this.selectedQuote=null,this.selectedPriceList=null,this.loading=!0,this.error=null,this.priceLists=[],this.quotes={},await this.loadCustomerPriceLists())}}},async mounted(){this.selectedQuote=null,this.selectedPriceList=null,this.loading=!0,this.error=null,this.priceLists=[],this.quotes={};const e=setTimeout(()=>{this.loading&&(console.error("Loading timeout - forcing loading to false"),this.loading=!1,this.error="Loading timeout - please refresh the page")},1e4);try{console.log("PriceListManager mounted - loading fresh data for customer:",this.customerId),await this.loadCustomerPriceLists()}finally{clearTimeout(e)}document.addEventListener("visibilitychange",this.handleVisibilityChange)},beforeUnmount(){document.removeEventListener("visibilitychange",this.handleVisibilityChange)},methods:{async hydrateCreatorsForList(e){try{const s=(this.quotes[e]||[]).filter(r=>(r.createdById||r.createdBy)&&!r.createdByName);if(s.length===0)return;const{userService:n}=await Pe(async()=>{const{userService:r}=await import("./userService-Dv1bIkFp.js");return{userService:r}},[]);await Promise.all(s.map(async r=>{try{const o=r.createdById||r.createdBy,i=await n.getUser(o);r.createdByName=[i.firstName,i.lastName].filter(Boolean).join(" ")||i.email||i.id}catch{}})),this.quotes={...this.quotes}}catch(t){console.warn("Failed to hydrate creator names",t)}},getStatusCounts(e){const t=this.quotes[e]||[],s={Draft:0,Submitted:0,Approved:0};for(const n of t){const r=n.status||"Draft";r in s&&s[r]++}return{...s,all:t.length}},setStatusFilter(e,t){this.$set?this.$set(this.statusFilters,e,t):this.statusFilters={...this.statusFilters,[e]:t}},getFilteredQuotes(e){const t=this.quotes[e]||[],s=this.statusFilters[e]||"All",n=(this.searchTerms[e]||"").trim().toLowerCase();let r=s==="All"?t:t.filter(o=>(o.status||"Draft")===s);return n&&(r=r.filter(o=>{const i=(o.name||"").toLowerCase(),a=(o.number||"").toString().toLowerCase();return i.includes(n)||a.includes(n)})),r},setSearchTerm(e,t){this.$set?this.$set(this.searchTerms,e,t):this.searchTerms={...this.searchTerms,[e]:t}},handleVisibilityChange(){!document.hidden&&this.lastHiddenTime&&Date.now()-this.lastHiddenTime>3e4&&(console.log("User returned to tab after being away, refreshing data"),this.refreshData()),this.lastHiddenTime=document.hidden?Date.now():null},async refreshData(){console.log("Refreshing all data..."),this.loading=!0,this.error=null;try{await this.loadCustomerPriceLists()}catch(e){console.error("Error refreshing data:",e),this.error="Failed to refresh data"}finally{this.loading=!1}},async loadCustomerPriceLists(){this.loading=!0,this.error=null;try{console.log("Loading customer price lists for customer:",this.customerId);const e=await Cn.getCustomerPriceLists(this.customerId);if(console.log("Customer price lists:",e),!e||e.length===0){console.log("No customer price lists found"),this.priceLists=[],this.loading=!1;return}this.priceLists=await Promise.all(e.map(async t=>({...await Cn.getPriceList(t.priceListId),customerPriceListId:t.id}))),console.log("Price lists loaded:",this.priceLists),await this.loadQuotesForPriceLists()}catch(e){console.error("Error loading customer price lists:",e),this.error=e.message||"Failed to load price lists",this.priceLists=[],this.quotes={}}finally{this.loading=!1}},async loadQuotesForPriceLists(){try{console.log("Loading quotes for price lists...");const{quoteService:e}=await Pe(async()=>{const{quoteService:t}=await Promise.resolve().then(()=>hi);return{quoteService:t}},void 0);for(const t of this.priceLists){console.log("Loading quotes for price list:",t.customerPriceListId);const s=await e.getQuotesByCustomerPriceList(t.customerPriceListId);this.quotes[t.customerPriceListId]=s,console.log("Quotes loaded for price list:",t.customerPriceListId,s),this.hydrateCreatorsForList(t.customerPriceListId)}console.log("All quotes loaded:",this.quotes)}catch(e){console.error("Failed to load quotes:",e),this.error="Failed to load some quotes, but price lists are available"}},viewPriceList(e){this.selectedPriceList=e},async createQuoteFromPriceList(e){try{const{quoteService:t}=await Pe(async()=>{const{quoteService:n}=await Promise.resolve().then(()=>hi);return{quoteService:n}},void 0),s=await t.createQuote(e.customerPriceListId);this.quotes[e.customerPriceListId]||(this.quotes[e.customerPriceListId]=[]),this.quotes[e.customerPriceListId].unshift(s),this.selectQuote(s)}catch(t){this.error=t.message||"Failed to create quote"}},selectQuote(e){this.selectedQuote=e},handleQuoteUpdated(e){const t=e.customerPriceListId;if(this.quotes[t]){const s=this.quotes[t].findIndex(n=>n.id===e.id);s!==-1&&(this.quotes[t][s]=e)}this.selectedQuote=e},handleQuoteDeleted(){const e=this.selectedQuote.customerPriceListId;this.quotes[e]&&(this.quotes[e]=this.quotes[e].filter(t=>t.id!==this.selectedQuote.id)),this.selectedQuote=null},formatDate(e){if(!e)return"";const t=new Date(e),s=String(t.getDate()).padStart(2,"0"),n=t.toLocaleString("en-GB",{month:"short"}),r=t.getFullYear();return`${s} ${n} ${r}`},formatCurrency(e){return e?parseFloat(e).toLocaleString("en-ZA",{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00"},formatQuoteStatus(e){const t=e||"Draft";return t==="Approved"?"Approved":t==="Submitted"?"Submitted":"Draft"}}},Mg={key:0,class:"flex justify-center items-center py-12"},Bg={key:1,class:"card"},jg={class:"text-center"},Ug={class:"text-gray-600 mb-4"},Hg={key:2},Vg={key:3},$g={key:4},Wg={key:0,class:"card text-center py-12"},Qg={key:1,class:"space-y-8"},Kg={class:"flex justify-between items-start mb-6"},zg={class:"text-xl font-semibold text-gray-900 mb-1"},Gg={key:0,class:"text-sm text-gray-700 mb-1"},Yg={class:"text-sm text-gray-600"},Jg={class:"flex items-center gap-2"},Xg=["onClick"],Zg=["onClick"],ey={class:"border-t pt-4"},ty={class:"flex justify-between items-center mb-4"},sy={class:"text-sm text-gray-600"},ry={class:"flex flex-wrap items-center gap-2 mb-4"},ny=["onClick"],oy=["onClick"],iy=["onClick"],ay=["onClick"],ly={class:"ml-auto w-full md:w-64"},cy=["value","onInput"],uy={key:0,class:"text-center py-6"},dy={key:1,class:"space-y-3"},fy=["onClick"],hy={class:"flex justify-between items-start"},py={class:"flex items-center gap-2 mb-1"},my={class:"font-medium text-gray-900"},gy={key:0,class:"text-sm text-gray-600"},yy={class:"text-sm text-gray-600"},_y={class:"text-sm text-gray-600"},by={class:"text-right"},vy={class:"text-lg font-bold text-gray-900"},xy={class:"text-sm text-gray-600"};function wy(e,t,s,n,r,o){const i=Nt("QuoteDetail"),a=Nt("PriceListView");return m(),g("div",null,[r.loading?(m(),g("div",Mg,t[3]||(t[3]=[c("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)]))):r.error?(m(),g("div",Bg,[c("div",jg,[t[4]||(t[4]=c("div",{class:"text-red-600 text-lg font-medium mb-2"},"Error",-1)),c("p",Ug,_(r.error),1),c("button",{onClick:t[0]||(t[0]=(...l)=>o.loadCustomerPriceLists&&o.loadCustomerPriceLists(...l)),class:"btn btn-primary"},"Try Again")])])):r.selectedQuote?(m(),g("div",Hg,[Oe(i,{quote:r.selectedQuote,"customer-id":s.customerId,onBack:t[1]||(t[1]=l=>r.selectedQuote=null),onQuoteUpdated:o.handleQuoteUpdated,onQuoteDeleted:o.handleQuoteDeleted},null,8,["quote","customer-id","onQuoteUpdated","onQuoteDeleted"])])):r.selectedPriceList?(m(),g("div",Vg,[Oe(a,{"price-list":r.selectedPriceList,onClose:t[2]||(t[2]=l=>r.selectedPriceList=null)},null,8,["price-list"])])):(m(),g("div",$g,[t[8]||(t[8]=c("div",{class:"mb-6"},null,-1)),r.priceLists.length===0?(m(),g("div",Wg,t[5]||(t[5]=[Ce('<div class="text-gray-500 mb-4"><svg class="w-12 h-12 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></div><h3 class="text-lg font-medium text-gray-900 mb-2">No price lists assigned</h3><p class="text-gray-600 mb-4">You don&#39;t have any price lists assigned to your account.</p>',3)]))):(m(),g("div",Qg,[(m(!0),g(ne,null,Fe(r.priceLists,l=>{var d;return m(),g("div",{key:l.id,class:"card"},[c("div",Kg,[c("div",null,[c("h3",zg,_(l.name),1),l.description?(m(),g("p",Gg,_(l.description),1)):P("",!0),c("p",Yg," Created: "+_(o.formatDate(l.createdAt)),1)]),c("div",Jg,[c("button",{onClick:u=>o.viewPriceList(l),class:"btn btn-secondary text-sm",title:"View Price List"}," View Price List ",8,Xg),c("button",{onClick:u=>o.createQuoteFromPriceList(l),class:"btn btn-primary text-sm",title:"Start New Quote"}," Start New Quote ",8,Zg)])]),c("div",ey,[c("div",ty,[t[6]||(t[6]=c("h4",{class:"text-lg font-medium text-gray-900"},"Quotes",-1)),c("span",sy,_(((d=r.quotes[l.customerPriceListId])==null?void 0:d.length)||0)+" quotes",1)]),c("div",ry,[c("button",{class:ae(["px-3 py-1.5 rounded-full text-xs font-medium border",r.statusFilters[l.customerPriceListId]==="All"?"bg-gray-800 text-white border-gray-800":"text-gray-700 border-gray-300 hover:border-gray-400"]),onClick:u=>o.setStatusFilter(l.customerPriceListId,"All")}," All ("+_(o.getStatusCounts(l.customerPriceListId).all)+") ",11,ny),c("button",{class:ae(["px-3 py-1.5 rounded-full text-xs font-medium border",r.statusFilters[l.customerPriceListId]==="Draft"?"bg-yellow-500 text-white border-yellow-500":"text-yellow-800 border-yellow-300 hover:border-yellow-400"]),onClick:u=>o.setStatusFilter(l.customerPriceListId,"Draft")}," Draft ("+_(o.getStatusCounts(l.customerPriceListId).Draft)+") ",11,oy),c("button",{class:ae(["px-3 py-1.5 rounded-full text-xs font-medium border",r.statusFilters[l.customerPriceListId]==="Submitted"?"bg-blue-600 text-white border-blue-600":"text-blue-800 border-blue-300 hover:border-blue-400"]),onClick:u=>o.setStatusFilter(l.customerPriceListId,"Submitted")}," Submitted ("+_(o.getStatusCounts(l.customerPriceListId).Submitted)+") ",11,iy),c("button",{class:ae(["px-3 py-1.5 rounded-full text-xs font-medium border",r.statusFilters[l.customerPriceListId]==="Approved"?"bg-green-600 text-white border-green-600":"text-green-800 border-green-300 hover:border-green-400"]),onClick:u=>o.setStatusFilter(l.customerPriceListId,"Approved")}," Approved ("+_(o.getStatusCounts(l.customerPriceListId).Approved)+") ",11,ay),c("div",ly,[c("input",{value:r.searchTerms[l.customerPriceListId]||"",onInput:u=>o.setSearchTerm(l.customerPriceListId,u.target.value),type:"text",class:"input h-9 text-sm",placeholder:"Search quotes..."},null,40,cy)])]),o.getFilteredQuotes(l.customerPriceListId).length?(m(),g("div",dy,[(m(!0),g(ne,null,Fe(o.getFilteredQuotes(l.customerPriceListId),u=>(m(),g("div",{key:u.id,class:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:h=>o.selectQuote(u)},[c("div",hy,[c("div",null,[c("div",py,[c("h5",my,[he(_(u.name||"Quote #"+(u.number||""))+" ",1),u.number?(m(),g("span",gy," #"+_(u.number),1)):P("",!0)]),c("span",{class:ae(["inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",u.status==="Approved"?"bg-green-100 text-green-800":u.status==="Submitted"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"])},_(o.formatQuoteStatus(u.status)),3)]),c("p",yy," Created By: "+_(u.createdByName||""),1),c("p",_y," Last updated: "+_(o.formatDate(u.updatedAt)),1)]),c("div",by,[c("div",vy," ZAR "+_(o.formatCurrency(u.total)),1),c("div",xy," incl. VAT: ZAR "+_(o.formatCurrency(u.totalInclVat)),1)])])],8,fy))),128))])):(m(),g("div",uy,t[7]||(t[7]=[c("div",{class:"text-gray-500 mb-2"},[c("svg",{class:"w-8 h-8 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1),c("p",{class:"text-sm text-gray-600"},"No quotes yet",-1)])))])])}),128))]))]))])}const Sy=kt(qg,[["render",wy]]),Ey="/createspace-logo.png",ky={name:"LoginForm",data(){return{email:"",password:"",loading:!1,error:"",showForgotPassword:!1,resetEmail:"",resetLoading:!1,resetError:"",resetSuccess:""}},methods:{async handleLogin(){this.loading=!0,this.error="";try{const e=await J.login(this.email,this.password);this.$emit("login-success",e)}catch(e){this.error=e.message||"Login failed. Please check your credentials."}finally{this.loading=!1}},async handleForgotPassword(){this.resetLoading=!0,this.resetError="",this.resetSuccess="";try{const e=`${window.location.origin}/reset-password`;await J.requestPasswordReset(this.resetEmail,e),this.resetSuccess="Password reset link has been sent to your email.",this.resetEmail=""}catch(e){this.resetError=e.message||"Failed to send reset link. Please try again."}finally{this.resetLoading=!1}},async signInWithGoogle(){try{const t=(await J.getAuthProviders()||[]).find(n=>(n.name||"").toLowerCase().includes("google")||(n.type||"").toLowerCase().includes("google")),s=(t==null?void 0:t.authorizeUrl)||`${J.baseUrl.replace("/api/json","")}/auth/authorize/google`;window.location.href=s}catch(e){this.error=e.message||"Google sign-in not available"}}}},Py={class:"min-h-screen flex items-center justify-center bg-gray-50 py-0 px-4 sm:px-6 lg:px-8 overflow-hidden"},Cy={class:"max-w-md w-full space-y-8"},Iy={class:"rounded-md shadow-sm -space-y-px"},Ay={key:0,class:"rounded-md bg-red-50 p-4"},Ty={class:"flex"},Dy={class:"ml-3"},Ry={class:"text-sm font-medium text-red-800"},Ly=["disabled"],Ny={key:0,class:"absolute left-0 inset-y-0 flex items-center pl-3"},Oy={class:"text-center"},Fy={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},qy={class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white"},My={class:"mt-3"},By={class:"mb-4"},jy={key:0,class:"mb-4 text-sm text-red-600"},Uy={key:1,class:"mb-4 text-sm text-green-600"},Hy={class:"flex justify-end space-x-3"},Vy=["disabled"];function $y(e,t,s,n,r,o){return m(),g("div",Py,[c("div",Cy,[t[13]||(t[13]=c("div",null,[c("div",{class:"flex justify-center mb-8"},[c("img",{src:Ey,alt:"CREATESPACE",class:"h-10 w-auto"})]),c("h2",{class:"mt-4 text-center text-3xl font-extrabold text-gray-900"}," Sign in to your account "),c("p",{class:"mt-2 text-center text-sm text-gray-600"}," Enter your credentials to access the order management system ")],-1)),c("form",{class:"mt-8 space-y-6",onSubmit:t[3]||(t[3]=Pn((...i)=>o.handleLogin&&o.handleLogin(...i),["prevent"]))},[c("div",Iy,[c("div",null,[t[8]||(t[8]=c("label",{for:"email",class:"sr-only"},"Email address",-1)),ue(c("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=i=>r.email=i),name:"email",type:"email",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address"},null,512),[[de,r.email]])]),c("div",null,[t[9]||(t[9]=c("label",{for:"password",class:"sr-only"},"Password",-1)),ue(c("input",{id:"password","onUpdate:modelValue":t[1]||(t[1]=i=>r.password=i),name:"password",type:"password",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password"},null,512),[[de,r.password]])])]),r.error?(m(),g("div",Ay,[c("div",Ty,[t[10]||(t[10]=c("div",{class:"flex-shrink-0"},[c("svg",{class:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor"},[c("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])],-1)),c("div",Dy,[c("h3",Ry,_(r.error),1)])])])):P("",!0),c("div",null,[c("button",{type:"submit",disabled:r.loading,class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed"},[r.loading?(m(),g("span",Ny,t[11]||(t[11]=[c("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):P("",!0),he(" "+_(r.loading?"Signing in...":"Sign in"),1)],8,Ly)]),c("div",Oy,[c("button",{type:"button",onClick:t[2]||(t[2]=i=>r.showForgotPassword=!0),class:"text-sm text-indigo-600 hover:text-indigo-500"}," Forgot your password? ")])],32),t[14]||(t[14]=Ce('<div class="relative my-6"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-200"></div></div><div class="relative flex justify-center text-sm"><span class="px-2 bg-gray-50 text-gray-500">Or</span></div></div>',1)),c("button",{onClick:t[4]||(t[4]=(...i)=>o.signInWithGoogle&&o.signInWithGoogle(...i)),type:"button",class:"w-full inline-flex items-center justify-center gap-2 border border-gray-300 rounded-md px-4 py-2 hover:bg-gray-100"},t[12]||(t[12]=[Ce('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" class="w-5 h-5"><path fill="#FFC107" d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12    s5.373-12,12-12c3.059,0,5.842,1.153,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24    s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"></path><path fill="#FF3D00" d="M6.306,14.691l6.571,4.819C14.655,16.108,18.961,13,24,13c3.059,0,5.842,1.153,7.961,3.039l5.657-5.657    C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"></path><path fill="#4CAF50" d="M24,44c4.983,0,9.514-1.917,12.961-5.039l-5.981-5.064C29.047,35.091,26.715,36,24,36    c-5.202,0-9.619-3.317-11.277-7.951l-6.534,5.036C9.582,39.556,16.227,44,24,44z"></path><path fill="#1976D2" d="M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.103,5.597c0,0,0,0,0,0l6.581,5.561    c-0.465,0.427,7.219-5.289,7.219-15.238C44,22.659,43.862,21.35,43.611,20.083z"></path></svg><span>Continue with Google</span>',2)]))]),r.showForgotPassword?(m(),g("div",Fy,[c("div",qy,[c("div",My,[t[16]||(t[16]=c("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Reset Password",-1)),c("form",{onSubmit:t[7]||(t[7]=Pn((...i)=>o.handleForgotPassword&&o.handleForgotPassword(...i),["prevent"]))},[c("div",By,[t[15]||(t[15]=c("label",{for:"reset-email",class:"block text-sm font-medium text-gray-700 mb-2"}," Email address ",-1)),ue(c("input",{id:"reset-email","onUpdate:modelValue":t[5]||(t[5]=i=>r.resetEmail=i),type:"email",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter your email"},null,512),[[de,r.resetEmail]])]),r.resetError?(m(),g("div",jy,_(r.resetError),1)):P("",!0),r.resetSuccess?(m(),g("div",Uy,_(r.resetSuccess),1)):P("",!0),c("div",Hy,[c("button",{type:"button",onClick:t[6]||(t[6]=i=>r.showForgotPassword=!1),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200"}," Cancel "),c("button",{type:"submit",disabled:r.resetLoading,class:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 disabled:opacity-50"},_(r.resetLoading?"Sending...":"Send Reset Link"),9,Vy)])],32)])])])):P("",!0)])}const Wy=kt(ky,[["render",$y]]),Qy={name:"UserProfileDialog",props:{show:{type:Boolean,default:!1}},data(){return{firstName:"",lastName:"",loading:!1,error:""}},computed:{isValid(){return this.firstName.trim()&&this.lastName.trim()}},methods:{async handleSubmit(){if(!this.isValid){this.error="Please enter both first and last name.";return}this.loading=!0,this.error="";try{this.$emit("profile-saved",{firstName:this.firstName.trim(),lastName:this.lastName.trim()})}catch(e){this.error=e.message||"Failed to save profile. Please try again."}finally{this.loading=!1}},handleCancel(){this.$emit("cancel")}}},Ky={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},zy={class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white"},Gy={class:"mt-3"},Yy={class:"space-y-4"},Jy={key:0,class:"text-sm text-red-600"},Xy={class:"flex justify-end space-x-3 mt-6"},Zy=["disabled"];function e0(e,t,s,n,r,o){return s.show?(m(),g("div",Ky,[c("div",zy,[c("div",Gy,[t[6]||(t[6]=Ce('<div class="flex items-center justify-center w-12 h-12 mx-auto bg-green-100 rounded-full"><svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg></div><h3 class="text-lg font-medium text-gray-900 text-center mt-4 mb-4"> Complete Your Profile </h3><p class="text-sm text-gray-600 text-center mb-6"> Please provide your first and last name to complete your account setup. </p>',3)),c("form",{onSubmit:t[3]||(t[3]=Pn((...i)=>o.handleSubmit&&o.handleSubmit(...i),["prevent"]))},[c("div",Yy,[c("div",null,[t[4]||(t[4]=c("label",{for:"firstName",class:"block text-sm font-medium text-gray-700 mb-1"}," First Name * ",-1)),ue(c("input",{id:"firstName","onUpdate:modelValue":t[0]||(t[0]=i=>r.firstName=i),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter your first name"},null,512),[[de,r.firstName]])]),c("div",null,[t[5]||(t[5]=c("label",{for:"lastName",class:"block text-sm font-medium text-gray-700 mb-1"}," Last Name * ",-1)),ue(c("input",{id:"lastName","onUpdate:modelValue":t[1]||(t[1]=i=>r.lastName=i),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter your last name"},null,512),[[de,r.lastName]])]),r.error?(m(),g("div",Jy,_(r.error),1)):P("",!0)]),c("div",Xy,[c("button",{type:"button",onClick:t[2]||(t[2]=(...i)=>o.handleCancel&&o.handleCancel(...i)),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200"}," Cancel "),c("button",{type:"submit",disabled:r.loading||!o.isValid,class:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed"},_(r.loading?"Saving...":"Save Profile"),9,Zy)])],32)])])])):P("",!0)}const t0=kt(Qy,[["render",e0]]);class s0{constructor(){this.baseUrl=Ht}async makeRequest(t,s=null){const n=`${this.baseUrl}${t}`,r={"Content-Type":"application/json"},o=J.getToken();o&&(r.Authorization=`Bearer ${o}`);const i={method:s?"POST":"GET",headers:r};s&&(i.body=JSON.stringify(s));const a=await fetch(n,i);if(!a.ok){let l=`HTTP error! status: ${a.status}`;try{const d=await a.json();d!=null&&d.message&&(l=d.message)}catch{}throw typeof l=="string"&&l.toLowerCase().includes("token has expired")&&(J.logout(),window.location.reload()),new Error(l)}return a.json()}async listDeliveryAddresses(t){return this.makeRequest("/listDeliveryAddresses",{where:{customer:{id:{equals:t}}}})}async getDeliveryAddress(t){return this.makeRequest("/getDeliveryAddress",{id:t})}async createDeliveryAddress(t,s){const n={customer:{id:s},name:t.name,addressLine1:t.addressLine1,suburb:t.suburb,city:t.city,province:t.province,postalCode:t.postalCode};return t.organisation&&(n.organisation=t.organisation),t.contactPerson&&(n.contactPerson=t.contactPerson),t.contactPhone&&(n.contactPhone=t.contactPhone),t.contactEmail&&(n.contactEmail=t.contactEmail),t.addressLine2&&(n.addressLine2=t.addressLine2),t.deliveryNotes&&(n.deliveryNotes=t.deliveryNotes),this.makeRequest("/createDeliveryAddress",n)}async updateDeliveryAddress(t,s){const n={};return typeof s.organisation=="string"&&(n.organisation=s.organisation),typeof s.contactPerson=="string"&&(n.contactPerson=s.contactPerson),typeof s.contactPhone=="string"&&(n.contactPhone=s.contactPhone),typeof s.contactEmail=="string"&&(n.contactEmail=s.contactEmail),typeof s.name=="string"&&(n.name=s.name),typeof s.addressLine1=="string"&&(n.addressLine1=s.addressLine1),typeof s.addressLine2=="string"&&(n.addressLine2=s.addressLine2),typeof s.suburb=="string"&&(n.suburb=s.suburb),typeof s.deliveryNotes=="string"&&(n.deliveryNotes=s.deliveryNotes),this.makeRequest("/updateDeliveryAddress",{where:{id:t},values:n})}async deactivateDeliveryAddress(t){return this.makeRequest("/deactivateDeliveryAddress",{where:{id:t}})}}const gs=new s0,r0=Object.freeze(Object.defineProperty({__proto__:null,deliveryAddressService:gs},Symbol.toStringTag,{value:"Module"})),n0={name:"DeliveryAddresses",emits:["close"],props:{customerId:{type:String,required:!0}},data(){return{loading:!1,saving:!1,submitAttempted:!1,error:null,addresses:[],editingAddress:null,deactivatingId:null,isFormOpen:!1,form:{name:"",organisation:"",contactPerson:"",contactPhone:"",contactEmail:"",addressLine1:"",addressLine2:"",deliveryNotes:"",suburb:"",city:"",province:"",postalCode:""}}},computed:{isFormValid(){return[this.form.name,this.form.addressLine1,this.form.suburb,this.editingAddress?"ok":this.form.city,this.editingAddress?"ok":this.form.province,this.editingAddress?"ok":this.form.postalCode].every(t=>typeof t=="string"&&t.trim().length>0)}},async mounted(){await this.loadAddresses()},methods:{async loadAddresses(){try{this.loading=!0,this.error=null;const e=await gs.listDeliveryAddresses(this.customerId);this.addresses=Array.isArray(e)?e:e.results||[]}catch(e){this.error=e.message||"Failed to load delivery addresses"}finally{this.loading=!1}},resetForm(){this.editingAddress=null,this.form={name:"",organisation:"",contactPerson:"",contactPhone:"",contactEmail:"",addressLine1:"",addressLine2:"",deliveryNotes:"",suburb:"",city:"",province:"",postalCode:""}},openCreateForm(){this.resetForm(),this.isFormOpen=!0,this.submitAttempted=!1},cancelForm(){this.isFormOpen=!1,this.editingAddress=null,this.submitAttempted=!1},startEdit(e){this.editingAddress=e,this.form={name:e.name||"",organisation:e.organisation||"",contactPerson:e.contactPerson||"",contactPhone:e.contactPhone||"",contactEmail:e.contactEmail||"",addressLine1:e.addressLine1||"",addressLine2:e.addressLine2||"",deliveryNotes:e.deliveryNotes||"",suburb:e.suburb||"",city:e.city||"",province:e.province||"",postalCode:e.postalCode||""},window.scrollTo({top:0,behavior:"smooth"}),this.isFormOpen=!0},async saveAddress(){try{if(this.submitAttempted=!0,!this.isFormValid)return;if(this.saving=!0,this.error=null,this.editingAddress){const{name:e,organisation:t,contactPerson:s,contactPhone:n,contactEmail:r,addressLine1:o,addressLine2:i,suburb:a,deliveryNotes:l}=this.form;await gs.updateDeliveryAddress(this.editingAddress.id,{name:e,organisation:t,contactPerson:s,contactPhone:n,contactEmail:r,addressLine1:o,addressLine2:i,suburb:a,deliveryNotes:l})}else await gs.createDeliveryAddress({...this.form},this.customerId);await this.loadAddresses(),this.resetForm(),this.submitAttempted=!1,this.isFormOpen=!1}catch(e){this.error=e.message||"Failed to save address"}finally{this.saving=!1}},async deactivate(e){if(confirm("Deactivate this address?"))try{this.deactivatingId=e.id,await gs.deactivateDeliveryAddress(e.id),await this.loadAddresses()}catch(t){this.error=t.message||"Failed to deactivate address"}finally{this.deactivatingId=null}}}},o0={class:"card"},i0={class:"flex items-start justify-between mb-6"},a0={class:"mb-6"},l0={key:1,class:"border border-gray-200 rounded-lg p-4 bg-gray-50"},c0={class:"flex items-start justify-between mb-3"},u0={class:"text-lg font-medium text-gray-900"},d0={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},f0={key:0,class:"mt-1 text-xs text-red-600"},h0={class:"md:col-span-2"},p0={class:"md:col-span-2"},m0={class:"md:col-span-2"},g0={key:0,class:"mt-1 text-xs text-red-600"},y0={class:"md:col-span-2"},_0={key:0,class:"mt-1 text-xs text-red-600"},b0={class:"block text-sm font-medium text-gray-700 mb-1"},v0={key:0,class:"text-red-600"},x0=["disabled"],w0={key:0,class:"mt-1 text-xs text-red-600"},S0={class:"block text-sm font-medium text-gray-700 mb-1"},E0={key:0,class:"text-red-600"},k0=["disabled"],P0={key:0,class:"mt-1 text-xs text-red-600"},C0={class:"block text-sm font-medium text-gray-700 mb-1"},I0={key:0,class:"text-red-600"},A0=["disabled"],T0={key:0,class:"mt-1 text-xs text-red-600"},D0={class:"md:col-span-2"},R0={class:"mt-4 flex items-center gap-3"},L0=["disabled"],N0={class:"flex items-center justify-between mb-3"},O0={class:"text-sm text-gray-600"},F0={key:0,class:"flex justify-center items-center py-8"},q0={key:1,class:"bg-red-50 border border-red-200 text-red-800 rounded p-3"},M0={key:2,class:"text-center text-gray-600 py-10"},B0={key:3,class:"space-y-3"},j0={class:"flex items-start justify-between mb-3"},U0={class:"flex items-center gap-2"},H0={class:"text-base font-semibold text-gray-900"},V0={key:0,class:"text-xs px-2 py-0.5 rounded-full bg-gray-200 text-gray-700"},$0={class:"flex items-center gap-2"},W0=["onClick"],Q0=["onClick","disabled"],K0={class:"md:grid md:grid-cols-2 md:gap-6"},z0={class:"space-y-1"},G0={key:0,class:"text-sm text-gray-700"},Y0={key:1,class:"space-y-0.5"},J0={key:0,class:"text-sm text-gray-700"},X0={key:1,class:"text-sm text-gray-700"},Z0={key:2,class:"text-sm text-gray-700"},e_={class:"space-y-1 mt-3 md:mt-6"},t_={class:"text-sm text-gray-700"},s_={key:0,class:"text-sm text-gray-700"},r_={class:"text-sm text-gray-700"},n_={key:1,class:"text-sm text-gray-700"};function o_(e,t,s,n,r,o){return m(),g("div",o0,[c("div",i0,[t[17]||(t[17]=c("div",null,[c("h2",{class:"text-2xl font-semibold text-gray-900"},"Delivery Addresses"),c("p",{class:"text-gray-600"},"Manage your saved delivery addresses")],-1)),c("button",{onClick:t[0]||(t[0]=i=>e.$emit("close")),class:"btn btn-secondary",title:"Close"}," Close ")]),c("div",a0,[r.isFormOpen?(m(),g("div",l0,[c("div",c0,[c("h3",u0,_(r.editingAddress?"Edit Address":"Add New Address"),1),c("button",{onClick:t[2]||(t[2]=(...i)=>o.cancelForm&&o.cancelForm(...i)),class:"btn btn-secondary btn-sm"},"Cancel")]),t[30]||(t[30]=c("p",{class:"text-xs text-gray-600 mb-3"},[he("Fields marked with "),c("span",{class:"text-red-600"},"*"),he(" are required.")],-1)),c("div",d0,[c("div",null,[t[18]||(t[18]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[he("Name "),c("span",{class:"text-red-600"},"*")],-1)),ue(c("input",{"onUpdate:modelValue":t[3]||(t[3]=i=>r.form.name=i),type:"text",class:"input w-full",placeholder:"e.g., Warehouse, Office",required:""},null,512),[[de,r.form.name]]),r.submitAttempted&&!r.form.name?(m(),g("p",f0,"Name is required")):P("",!0)]),c("div",h0,[t[19]||(t[19]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Organisation",-1)),ue(c("input",{"onUpdate:modelValue":t[4]||(t[4]=i=>r.form.organisation=i),type:"text",class:"input w-full",placeholder:"e.g., Acme Ltd"},null,512),[[de,r.form.organisation]])]),c("div",null,[t[20]||(t[20]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Contact Person",-1)),ue(c("input",{"onUpdate:modelValue":t[5]||(t[5]=i=>r.form.contactPerson=i),type:"text",class:"input w-full",placeholder:"e.g., Jane Doe"},null,512),[[de,r.form.contactPerson]])]),c("div",null,[t[21]||(t[21]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Contact Phone",-1)),ue(c("input",{"onUpdate:modelValue":t[6]||(t[6]=i=>r.form.contactPhone=i),type:"tel",class:"input w-full",placeholder:"e.g., 082 123 4567"},null,512),[[de,r.form.contactPhone]])]),c("div",p0,[t[22]||(t[22]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Contact Email",-1)),ue(c("input",{"onUpdate:modelValue":t[7]||(t[7]=i=>r.form.contactEmail=i),type:"email",class:"input w-full",placeholder:"e.g., jane@example.com"},null,512),[[de,r.form.contactEmail]])]),c("div",m0,[t[23]||(t[23]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[he("Address Line 1 "),c("span",{class:"text-red-600"},"*")],-1)),ue(c("input",{"onUpdate:modelValue":t[8]||(t[8]=i=>r.form.addressLine1=i),type:"text",class:"input w-full",required:""},null,512),[[de,r.form.addressLine1]]),r.submitAttempted&&!r.form.addressLine1?(m(),g("p",g0,"Address Line 1 is required")):P("",!0)]),c("div",y0,[t[24]||(t[24]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Address Line 2",-1)),ue(c("input",{"onUpdate:modelValue":t[9]||(t[9]=i=>r.form.addressLine2=i),type:"text",class:"input w-full"},null,512),[[de,r.form.addressLine2]])]),c("div",null,[t[25]||(t[25]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[he("Suburb "),c("span",{class:"text-red-600"},"*")],-1)),ue(c("input",{"onUpdate:modelValue":t[10]||(t[10]=i=>r.form.suburb=i),type:"text",class:"input w-full",required:""},null,512),[[de,r.form.suburb]]),r.submitAttempted&&!r.form.suburb?(m(),g("p",_0,"Suburb is required")):P("",!0)]),c("div",null,[c("label",b0,[t[26]||(t[26]=he("City ",-1)),r.editingAddress?P("",!0):(m(),g("span",v0,"*"))]),ue(c("input",{"onUpdate:modelValue":t[11]||(t[11]=i=>r.form.city=i),type:"text",class:"input w-full",disabled:!!r.editingAddress},null,8,x0),[[de,r.form.city]]),r.submitAttempted&&!r.form.city?(m(),g("p",w0,"City is required")):P("",!0)]),c("div",null,[c("label",S0,[t[27]||(t[27]=he("Province ",-1)),r.editingAddress?P("",!0):(m(),g("span",E0,"*"))]),ue(c("input",{"onUpdate:modelValue":t[12]||(t[12]=i=>r.form.province=i),type:"text",class:"input w-full",disabled:!!r.editingAddress},null,8,k0),[[de,r.form.province]]),r.submitAttempted&&!r.form.province?(m(),g("p",P0,"Province is required")):P("",!0)]),c("div",null,[c("label",C0,[t[28]||(t[28]=he("Postal Code ",-1)),r.editingAddress?P("",!0):(m(),g("span",I0,"*"))]),ue(c("input",{"onUpdate:modelValue":t[13]||(t[13]=i=>r.form.postalCode=i),type:"text",class:"input w-full",disabled:!!r.editingAddress},null,8,A0),[[de,r.form.postalCode]]),r.submitAttempted&&!r.form.postalCode?(m(),g("p",T0,"Postal Code is required")):P("",!0)]),c("div",D0,[t[29]||(t[29]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Delivery Notes",-1)),ue(c("input",{"onUpdate:modelValue":t[14]||(t[14]=i=>r.form.deliveryNotes=i),type:"text",class:"input w-full"},null,512),[[de,r.form.deliveryNotes]])])]),c("div",R0,[c("button",{onClick:t[15]||(t[15]=(...i)=>o.saveAddress&&o.saveAddress(...i)),class:ae(["btn btn-primary",{"opacity-50 cursor-not-allowed":r.saving||!o.isFormValid}]),disabled:r.saving||!o.isFormValid},_(r.saving?r.editingAddress?"Saving...":"Creating...":r.editingAddress?"Save Changes":"Create Address"),11,L0),c("button",{onClick:t[16]||(t[16]=(...i)=>o.cancelForm&&o.cancelForm(...i)),class:"btn btn-secondary"},"Cancel")])])):(m(),g("button",{key:0,onClick:t[1]||(t[1]=(...i)=>o.openCreateForm&&o.openCreateForm(...i)),class:"btn btn-primary"}," Add New Address "))]),c("div",null,[c("div",N0,[t[31]||(t[31]=c("h3",{class:"text-lg font-medium text-gray-900"},"Saved Addresses",-1)),c("span",O0,_(r.addresses.length)+" total",1)]),r.loading?(m(),g("div",F0,t[32]||(t[32]=[c("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)]))):r.error?(m(),g("div",q0,_(r.error),1)):r.addresses.length===0?(m(),g("div",M0,"No active addresses.")):(m(),g("div",B0,[(m(!0),g(ne,null,Fe(r.addresses,i=>(m(),g("div",{key:i.id,class:"border border-gray-200 rounded-lg p-4"},[c("div",j0,[c("div",U0,[c("h4",H0,_(i.name||"Address"),1),i.isActive===!1?(m(),g("span",V0,"Inactive")):P("",!0)]),c("div",$0,[c("button",{onClick:a=>o.startEdit(i),class:"btn btn-secondary btn-sm"},"Edit",8,W0),c("button",{onClick:a=>o.deactivate(i),class:"btn btn-danger btn-sm",disabled:r.deactivatingId===i.id},_(r.deactivatingId===i.id?"Deactivating...":"Deactivate"),9,Q0)])]),c("div",K0,[c("div",z0,[i.organisation?(m(),g("p",G0,_(i.organisation),1)):P("",!0),i.contactPerson||i.contactPhone||i.contactEmail?(m(),g("div",Y0,[i.contactPerson?(m(),g("p",J0,"Contact: "+_(i.contactPerson),1)):P("",!0),i.contactPhone?(m(),g("p",X0,"Phone: "+_(i.contactPhone),1)):P("",!0),i.contactEmail?(m(),g("p",Z0,"Email: "+_(i.contactEmail),1)):P("",!0)])):P("",!0)]),c("div",e_,[c("p",t_,_(i.addressLine1),1),i.addressLine2?(m(),g("p",s_,_(i.addressLine2),1)):P("",!0),c("p",r_,_(i.suburb)+", "+_(i.city)+", "+_(i.province)+" "+_(i.postalCode),1),i.deliveryNotes?(m(),g("p",n_,_(i.deliveryNotes),1)):P("",!0)])])]))),128))]))])])}const i_=kt(n0,[["render",o_]]);class a_{async makeRequest(t,s=null){const n={"Content-Type":"application/json"},r=J.getToken();r&&(n.Authorization=`Bearer ${r}`);const o=await fetch(`${Ht}${t}`,{method:"POST",headers:n,body:s?JSON.stringify(s):void 0});if(!o.ok){const a=(await o.json().catch(()=>({}))).message||`HTTP error! status: ${o.status}`;throw typeof a=="string"&&a.toLowerCase().includes("token has expired")&&(J.logout(),window.location.reload()),new Error(a)}return o.json()}async getCustomer(t){return await this.makeRequest("/getCustomer",{id:t})}}const l_=new a_,c_={name:"App",components:{PriceListManager:Sy,LoginForm:Wy,UserProfileDialog:t0,DeliveryAddresses:i_},data(){return{isAuthenticated:!1,currentUser:null,showProfileDialog:!1,loginData:null,customerId:null,showAddresses:!1,logoOk:!0,logoSrc:"/createspace-logo.png",customerName:""}},computed:{hasCustomerId(){return!!this.customerId},welcomeText(){var t,s;const e=((t=this.currentUser)==null?void 0:t.firstName)||((s=this.currentUser)==null?void 0:s.id)||"User";return this.customerName?`${e} (${this.customerName})`:e}},async mounted(){try{const t=new URLSearchParams(window.location.search).get("code");if(t&&!J.isAuthenticated()){await J.exchangeAuthorizationCode(t);const s=new URL(window.location.href);s.searchParams.delete("code"),window.history.replaceState({},"",s.toString())}}catch(e){console.error("SSO exchange failed:",e)}if(this.isAuthenticated=J.isAuthenticated(),this.isAuthenticated)try{this.currentUser=await J.getCurrentUser(),this.customerId=J.getCustomerId(this.currentUser),await this.loadCustomerName(),console.log("User data refreshed on page load:",this.currentUser),console.log("Customer ID refreshed on page load:",this.customerId)}catch(e){console.error("Failed to refresh user data on page load:",e),this.currentUser=await J.getCurrentUserCached(),this.customerId=J.getCustomerId(this.currentUser),await this.loadCustomerName()}},methods:{async handleLoginSuccess(e){console.log("Login successful:",e),this.isAuthenticated=!0,this.loginData=e,e.identity_created?(console.log("New user detected, showing profile dialog"),this.showProfileDialog=!0):(console.log("Existing user, retrieving profile"),this.currentUser=await J.getCurrentUser(),this.customerId=J.getCustomerId(this.currentUser),await this.loadCustomerName())},async handleProfileSaved(e){console.log("Profile data received:",e);try{this.currentUser=await J.createUserWithProfile(e.firstName,e.lastName),console.log("User created with profile:",this.currentUser),this.customerId=J.getCustomerId(this.currentUser),await this.loadCustomerName(),this.showProfileDialog=!1}catch(t){console.error("Failed to save profile:",t)}},handleProfileCancel(){this.handleLogout()},handleLogout(){J.logout(),this.isAuthenticated=!1,this.currentUser=null,this.showProfileDialog=!1,this.loginData=null,this.customerId=null,this.customerName=""},async loadCustomerName(){try{if(!this.customerId)return;const e=await l_.getCustomer(this.customerId);this.customerName=(e==null?void 0:e.name)||(e==null?void 0:e.companyName)||""}catch(e){console.warn("Failed to load customer name",e),this.customerName=""}}}},u_={id:"app",class:"min-h-screen bg-gray-50"},d_={key:0,class:"min-h-screen"},f_={class:"max-w-6xl mx-auto px-4 py-0"},h_={key:2,class:"max-w-6xl mx-auto px-4 py-8"},p_={class:"mb-8"},m_={class:"flex justify-between items-center"},g_={class:"flex items-center gap-3 mb-1"},y_=["src"],__={key:1,class:"text-3xl font-bold text-gray-900"},b_={class:"flex items-center space-x-4"},v_={class:"text-sm text-gray-600"},x_={key:0,class:"card text-center py-12"};function w_(e,t,s,n,r,o){const i=Nt("LoginForm"),a=Nt("UserProfileDialog"),l=Nt("PriceListManager"),d=Nt("DeliveryAddresses");return m(),g("div",u_,[r.isAuthenticated?P("",!0):(m(),g("div",d_,[c("div",f_,[Oe(i,{onLoginSuccess:o.handleLoginSuccess},null,8,["onLoginSuccess"])])])),r.showProfileDialog?(m(),ks(a,{key:1,show:r.showProfileDialog,onProfileSaved:o.handleProfileSaved,onCancel:o.handleProfileCancel},null,8,["show","onProfileSaved","onCancel"])):r.isAuthenticated&&!r.showProfileDialog?(m(),g("div",h_,[c("header",p_,[c("div",m_,[c("div",null,[c("div",g_,[r.logoOk?(m(),g("img",{key:0,src:r.logoSrc,alt:"CREATESPACE",class:"h-10 md:h-7 w-auto",onError:t[0]||(t[0]=u=>r.logoOk=!1)},null,40,y_)):(m(),g("h1",__,"CREATESPACE"))])]),c("div",b_,[c("span",v_," Welcome, "+_(o.welcomeText),1),o.hasCustomerId?(m(),g("button",{key:0,onClick:t[1]||(t[1]=u=>r.showAddresses=!0),class:"px-4 py-2 text-sm font-medium text-blue-700 bg-blue-50 rounded-md hover:bg-blue-100 border border-blue-200"}," Manage Delivery Addresses ")):P("",!0),c("button",{onClick:t[2]||(t[2]=(...u)=>o.handleLogout&&o.handleLogout(...u)),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200"}," Logout ")])])]),o.hasCustomerId?o.hasCustomerId&&!r.showAddresses?(m(),ks(l,{"customer-id":r.customerId,key:`price-list-manager-${r.customerId}`},null,8,["customer-id"])):o.hasCustomerId&&r.showAddresses?(m(),ks(d,{key:2,"customer-id":r.customerId,onClose:t[3]||(t[3]=u=>r.showAddresses=!1)},null,8,["customer-id"])):P("",!0):(m(),g("div",x_,t[4]||(t[4]=[c("div",{class:"text-yellow-600 text-lg font-medium mb-2"},"No Customer Assigned",-1),c("p",{class:"text-gray-600 mb-4"},"No customer has been assigned to you yet. Please contact your administrator.",-1)])))])):P("",!0)])}const S_=kt(c_,[["render",w_]]),O=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,X=globalThis,qt="10.3.0";function is(){return qr(X),X}function qr(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||qt,t[qt]=t[qt]||{}}function js(e,t,s=X){const n=s.__SENTRY__=s.__SENTRY__||{},r=n[qt]=n[qt]||{};return r[e]||(r[e]=t())}const E_=["debug","info","warn","error","log","assert","trace"],k_="Sentry Logger ",_r={};function Pt(e){if(!("console"in X))return e();const t=X.console,s={},n=Object.keys(_r);n.forEach(r=>{const o=_r[r];s[r]=t[r],t[r]=o});try{return e()}finally{n.forEach(r=>{t[r]=s[r]})}}function P_(){fo().enabled=!0}function C_(){fo().enabled=!1}function dl(){return fo().enabled}function I_(...e){uo("log",...e)}function A_(...e){uo("warn",...e)}function T_(...e){uo("error",...e)}function uo(e,...t){O&&dl()&&Pt(()=>{X.console[e](`${k_}[${e}]:`,...t)})}function fo(){return O?js("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const R={enable:P_,disable:C_,isEnabled:dl,log:I_,warn:A_,error:T_},fl=50,Bt="?",pi=/\(error: (.*)\)/,mi=/captureMessage|captureException/;function hl(...e){const t=e.sort((s,n)=>s[0]-n[0]).map(s=>s[1]);return(s,n=0,r=0)=>{const o=[],i=s.split(`
`);for(let a=n;a<i.length;a++){let l=i[a];l.length>1024&&(l=l.slice(0,1024));const d=pi.test(l)?l.replace(pi,"$1"):l;if(!d.match(/\S*Error: /)){for(const u of t){const h=u(d);if(h){o.push(h);break}}if(o.length>=fl+r)break}}return R_(o.slice(r))}}function D_(e){return Array.isArray(e)?hl(...e):e}function R_(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(Js(t).function||"")&&t.pop(),t.reverse(),mi.test(Js(t).function||"")&&(t.pop(),mi.test(Js(t).function||"")&&t.pop()),t.slice(0,fl).map(s=>({...s,filename:s.filename||Js(t).filename,function:s.function||Bt}))}function Js(e){return e[e.length-1]||{}}const sn="<anonymous>";function vt(e){try{return!e||typeof e!="function"?sn:e.name||sn}catch{return sn}}function gi(e){const t=e.exception;if(t){const s=[];try{return t.values.forEach(n=>{n.stacktrace.frames&&s.push(...n.stacktrace.frames)}),s}catch{return}}}const lr={},yi={};function Vt(e,t){lr[e]=lr[e]||[],lr[e].push(t)}function $t(e,t){if(!yi[e]){yi[e]=!0;try{t()}catch(s){O&&R.error(`Error while instrumenting ${e}`,s)}}}function We(e,t){const s=e&&lr[e];if(s)for(const n of s)try{n(t)}catch(r){O&&R.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${vt(n)}
Error:`,r)}}let rn=null;function L_(e){const t="error";Vt(t,e),$t(t,N_)}function N_(){rn=X.onerror,X.onerror=function(e,t,s,n,r){return We("error",{column:n,error:r,line:s,msg:e,url:t}),rn?rn.apply(this,arguments):!1},X.onerror.__SENTRY_INSTRUMENTED__=!0}let nn=null;function O_(e){const t="unhandledrejection";Vt(t,e),$t(t,F_)}function F_(){nn=X.onunhandledrejection,X.onunhandledrejection=function(e){return We("unhandledrejection",e),nn?nn.apply(this,arguments):!0},X.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const pl=Object.prototype.toString;function ho(e){switch(pl.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return xt(e,Error)}}function as(e,t){return pl.call(e)===`[object ${t}]`}function ml(e){return as(e,"ErrorEvent")}function _i(e){return as(e,"DOMError")}function q_(e){return as(e,"DOMException")}function ut(e){return as(e,"String")}function po(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function mo(e){return e===null||po(e)||typeof e!="object"&&typeof e!="function"}function Ls(e){return as(e,"Object")}function Mr(e){return typeof Event<"u"&&xt(e,Event)}function M_(e){return typeof Element<"u"&&xt(e,Element)}function B_(e){return as(e,"RegExp")}function Br(e){return!!(e!=null&&e.then&&typeof e.then=="function")}function j_(e){return Ls(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function xt(e,t){try{return e instanceof t}catch{return!1}}function gl(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function U_(e){return typeof Request<"u"&&xt(e,Request)}const go=X,H_=80;function yl(e,t={}){if(!e)return"<unknown>";try{let s=e;const n=5,r=[];let o=0,i=0;const a=" > ",l=a.length;let d;const u=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||H_;for(;s&&o++<n&&(d=V_(s,u),!(d==="html"||o>1&&i+r.length*l+d.length>=h));)r.push(d),i+=d.length,s=s.parentNode;return r.reverse().join(a)}catch{return"<unknown>"}}function V_(e,t){const s=e,n=[];if(!(s!=null&&s.tagName))return"";if(go.HTMLElement&&s instanceof HTMLElement&&s.dataset){if(s.dataset.sentryComponent)return s.dataset.sentryComponent;if(s.dataset.sentryElement)return s.dataset.sentryElement}n.push(s.tagName.toLowerCase());const r=t!=null&&t.length?t.filter(i=>s.getAttribute(i)).map(i=>[i,s.getAttribute(i)]):null;if(r!=null&&r.length)r.forEach(i=>{n.push(`[${i[0]}="${i[1]}"]`)});else{s.id&&n.push(`#${s.id}`);const i=s.className;if(i&&ut(i)){const a=i.split(/\s+/);for(const l of a)n.push(`.${l}`)}}const o=["aria-label","type","name","title","alt"];for(const i of o){const a=s.getAttribute(i);a&&n.push(`[${i}="${a}"]`)}return n.join("")}function yo(){try{return go.document.location.href}catch{return""}}function $_(e){if(!go.HTMLElement)return null;let t=e;const s=5;for(let n=0;n<s;n++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function br(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function bi(e,t){if(!Array.isArray(e))return"";const s=[];for(let n=0;n<e.length;n++){const r=e[n];try{gl(r)?s.push("[VueViewModel]"):s.push(String(r))}catch{s.push("[value cannot be serialized]")}}return s.join(t)}function cr(e,t,s=!1){return ut(e)?B_(t)?t.test(e):ut(t)?s?e===t:e.includes(t):!1:!1}function jr(e,t=[],s=!1){return t.some(n=>cr(e,n,s))}function Ne(e,t,s){if(!(t in e))return;const n=e[t];if(typeof n!="function")return;const r=s(n);typeof r=="function"&&_l(r,n);try{e[t]=r}catch{O&&R.log(`Failed to replace method "${t}" in object`,e)}}function je(e,t,s){try{Object.defineProperty(e,t,{value:s,writable:!0,configurable:!0})}catch{O&&R.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function _l(e,t){try{const s=t.prototype||{};e.prototype=t.prototype=s,je(e,"__sentry_original__",t)}catch{}}function _o(e){return e.__sentry_original__}function bl(e){if(ho(e))return{message:e.message,name:e.name,stack:e.stack,...xi(e)};if(Mr(e)){const t={type:e.type,target:vi(e.target),currentTarget:vi(e.currentTarget),...xi(e)};return typeof CustomEvent<"u"&&xt(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function vi(e){try{return M_(e)?yl(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function xi(e){if(typeof e=="object"&&e!==null){const t={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}else return{}}function W_(e,t=40){const s=Object.keys(bl(e));s.sort();const n=s[0];if(!n)return"[object has no keys]";if(n.length>=t)return br(n,t);for(let r=s.length;r>0;r--){const o=s.slice(0,r).join(", ");if(!(o.length>t))return r===s.length?o:br(o,t)}return""}function Q_(){const e=X;return e.crypto||e.msCrypto}function qe(e=Q_()){let t=()=>Math.random()*16;try{if(e!=null&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e!=null&&e.getRandomValues&&(t=()=>{const s=new Uint8Array(1);return e.getRandomValues(s),s[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,s=>(s^(t()&15)>>s/4).toString(16))}function vl(e){var t,s;return(s=(t=e.exception)==null?void 0:t.values)==null?void 0:s[0]}function Lt(e){const{message:t,event_id:s}=e;if(t)return t;const n=vl(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||s||"<unknown>":s||"<unknown>"}function In(e,t,s){const n=e.exception=e.exception||{},r=n.values=n.values||[],o=r[0]=r[0]||{};o.value||(o.value=t||""),o.type||(o.type="Error")}function ss(e,t){const s=vl(e);if(!s)return;const n={type:"generic",handled:!0},r=s.mechanism;if(s.mechanism={...n,...r,...t},t&&"data"in t){const o={...r==null?void 0:r.data,...t.data};s.mechanism.data=o}}function wi(e){if(K_(e))return!0;try{je(e,"__sentry_captured__",!0)}catch{}return!1}function K_(e){try{return e.__sentry_captured__}catch{}}const xl=1e3;function Us(){return Date.now()/xl}function z_(){const{performance:e}=X;if(!(e!=null&&e.now)||!e.timeOrigin)return Us;const t=e.timeOrigin;return()=>(t+e.now())/xl}let Si;function Ie(){return(Si??(Si=z_()))()}function G_(e){const t=Ie(),s={sid:qe(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>J_(s)};return e&&rs(s,e),s}function rs(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Ie(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:qe()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const s=e.timestamp-e.started;e.duration=s>=0?s:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Y_(e,t){let s={};e.status==="ok"&&(s={status:"exited"}),rs(e,s)}function J_(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function Hs(e,t,s=2){if(!t||typeof t!="object"||s<=0)return t;if(e&&Object.keys(t).length===0)return e;const n={...e};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=Hs(n[r],t[r],s-1));return n}function vr(){return qe()}function Ur(){return qe().substring(16)}const An="_sentrySpan";function Tn(e,t){t?je(e,An,t):delete e[An]}function xr(e){return e[An]}const X_=100;class rt{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:vr(),sampleRand:Math.random()}}clone(){const t=new rt;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Tn(t,xr(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&rs(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,s){return this._tags={...this._tags,[t]:s},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,s){return this._extra={...this._extra,[t]:s},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,s){return s===null?delete this._contexts[t]:this._contexts[t]=s,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const s=typeof t=="function"?t(this):t,n=s instanceof rt?s.getScopeData():Ls(s)?t:void 0,{tags:r,extra:o,user:i,contexts:a,level:l,fingerprint:d=[],propagationContext:u}=n||{};return this._tags={...this._tags,...r},this._extra={...this._extra,...o},this._contexts={...this._contexts,...a},i&&Object.keys(i).length&&(this._user=i),l&&(this._level=l),d.length&&(this._fingerprint=d),u&&(this._propagationContext=u),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,Tn(this,void 0),this._attachments=[],this.setPropagationContext({traceId:vr(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,s){var o;const n=typeof s=="number"?s:X_;if(n<=0)return this;const r={timestamp:Us(),...t,message:t.message?br(t.message,2048):t.message};return this._breadcrumbs.push(r),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),(o=this._client)==null||o.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:xr(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Hs(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,s){const n=(s==null?void 0:s.event_id)||qe();if(!this._client)return O&&R.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:r,...s,event_id:n},this),n}captureMessage(t,s,n){const r=(n==null?void 0:n.event_id)||qe();if(!this._client)return O&&R.warn("No client configured on scope - will not capture message!"),r;const o=new Error(t);return this._client.captureMessage(t,s,{originalException:t,syntheticException:o,...n,event_id:r},this),r}captureEvent(t,s){const n=(s==null?void 0:s.event_id)||qe();return this._client?(this._client.captureEvent(t,{...s,event_id:n},this),n):(O&&R.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function Z_(){return js("defaultCurrentScope",()=>new rt)}function eb(){return js("defaultIsolationScope",()=>new rt)}class tb{constructor(t,s){let n;t?n=t:n=new rt;let r;s?r=s:r=new rt,this._stack=[{scope:n}],this._isolationScope=r}withScope(t){const s=this._pushScope();let n;try{n=t(s)}catch(r){throw this._popScope(),r}return Br(n)?n.then(r=>(this._popScope(),r),r=>{throw this._popScope(),r}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function ns(){const e=is(),t=qr(e);return t.stack=t.stack||new tb(Z_(),eb())}function sb(e){return ns().withScope(e)}function rb(e,t){const s=ns();return s.withScope(()=>(s.getStackTop().scope=e,t(e)))}function Ei(e){return ns().withScope(()=>e(ns().getIsolationScope()))}function nb(){return{withIsolationScope:Ei,withScope:sb,withSetScope:rb,withSetIsolationScope:(e,t)=>Ei(t),getCurrentScope:()=>ns().getScope(),getIsolationScope:()=>ns().getIsolationScope()}}function Vs(e){const t=qr(e);return t.acs?t.acs:nb()}function Qe(){const e=is();return Vs(e).getCurrentScope()}function ls(){const e=is();return Vs(e).getIsolationScope()}function ob(){return js("globalScope",()=>new rt)}function bo(...e){const t=is(),s=Vs(t);if(e.length===2){const[n,r]=e;return n?s.withSetScope(n,r):s.withScope(r)}return s.withScope(e[0])}function ce(){return Qe().getClient()}function ib(e){const t=e.getPropagationContext(),{traceId:s,parentSpanId:n,propagationSpanId:r}=t,o={trace_id:s,span_id:r||Ur()};return n&&(o.parent_span_id=n),o}const wr="sentry.source",wl="sentry.sample_rate",ab="sentry.previous_trace_sample_rate",Dn="sentry.op",Ns="sentry.origin",lb="sentry.measurement_unit",cb="sentry.measurement_value",ki="sentry.custom_span_name",vo="sentry.profile_id",xo="sentry.exclusive_time",ub=0,db=1,Sl="_sentryScope",El="_sentryIsolationScope";function fb(e,t,s){e&&(je(e,El,s),je(e,Sl,t))}function Sr(e){return{scope:e[Sl],isolationScope:e[El]}}const hb="sentry-",pb=/^sentry-/;function mb(e){const t=gb(e);if(!t)return;const s=Object.entries(t).reduce((n,[r,o])=>{if(r.match(pb)){const i=r.slice(hb.length);n[i]=o}return n},{});if(Object.keys(s).length>0)return s}function gb(e){if(!(!e||!ut(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,s)=>{const n=Pi(s);return Object.entries(n).forEach(([r,o])=>{t[r]=o}),t},{}):Pi(e)}function Pi(e){return e.split(",").map(t=>t.split("=").map(s=>{try{return decodeURIComponent(s.trim())}catch{return}})).reduce((t,[s,n])=>(s&&n&&(t[s]=n),t),{})}const yb=/^o(\d+)\./,_b=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function bb(e){return e==="http"||e==="https"}function $s(e,t=!1){const{host:s,path:n,pass:r,port:o,projectId:i,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&r?`:${r}`:""}@${s}${o?`:${o}`:""}/${n&&`${n}/`}${i}`}function vb(e){const t=_b.exec(e);if(!t){Pt(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[s,n,r="",o="",i="",a=""]=t.slice(1);let l="",d=a;const u=d.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),d=u.pop()),d){const h=d.match(/^\d+/);h&&(d=h[0])}return kl({host:o,pass:r,path:l,projectId:d,port:i,protocol:s,publicKey:n})}function kl(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function xb(e){if(!O)return!0;const{port:t,projectId:s,protocol:n}=e;return["protocol","publicKey","host","projectId"].find(i=>e[i]?!1:(R.error(`Invalid Sentry Dsn: ${i} missing`),!0))?!1:s.match(/^\d+$/)?bb(n)?t&&isNaN(parseInt(t,10))?(R.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(R.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),!1):(R.error(`Invalid Sentry Dsn: Invalid projectId ${s}`),!1)}function wb(e){const t=e.match(yb);return t==null?void 0:t[1]}function Sb(e){const t=e.getOptions(),{host:s}=e.getDsn()||{};let n;return t.orgId?n=String(t.orgId):s&&(n=wb(s)),n}function Eb(e){const t=typeof e=="string"?vb(e):kl(e);if(!(!t||!xb(t)))return t}function wo(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const Pl=0,So=1;let Ci=!1;function kb(e){const{spanId:t,traceId:s}=e.spanContext(),{data:n,op:r,parent_span_id:o,status:i,origin:a,links:l}=Me(e);return{parent_span_id:o,span_id:t,trace_id:s,data:n,op:r,status:i,origin:a,links:l}}function Pb(e){const{spanId:t,traceId:s,isRemote:n}=e.spanContext(),r=n?t:Me(e).parent_span_id,o=Sr(e).scope,i=n?(o==null?void 0:o.getPropagationContext().propagationSpanId)||Ur():t;return{parent_span_id:r,span_id:i,trace_id:s}}function Cl(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:s,traceFlags:n,...r},attributes:o})=>({span_id:t,trace_id:s,sampled:n===So,attributes:o,...r}))}function es(e){return typeof e=="number"?Ii(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Ii(e.getTime()):Ie()}function Ii(e){return e>9999999999?e/1e3:e}function Me(e){var n;if(Ib(e))return e.getSpanJSON();const{spanId:t,traceId:s}=e.spanContext();if(Cb(e)){const{attributes:r,startTime:o,name:i,endTime:a,status:l,links:d}=e,u="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?(n=e.parentSpanContext)==null?void 0:n.spanId:void 0;return{span_id:t,trace_id:s,data:r,description:i,parent_span_id:u,start_timestamp:es(o),timestamp:es(a)||void 0,status:Il(l),op:r[Dn],origin:r[Ns],links:Cl(d)}}return{span_id:t,trace_id:s,start_timestamp:0,data:{}}}function Cb(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function Ib(e){return typeof e.getSpanJSON=="function"}function Ws(e){const{traceFlags:t}=e.spanContext();return t===So}function Il(e){if(!(!e||e.code===ub))return e.code===db?"ok":e.message||"unknown_error"}const Ps="_sentryChildSpans",Rn="_sentryRootSpan";function Al(e,t){const s=e[Rn]||e;je(t,Rn,s),e[Ps]?e[Ps].add(t):je(e,Ps,new Set([t]))}function Ab(e){const t=new Set;function s(n){if(!t.has(n)&&Ws(n)){t.add(n);const r=n[Ps]?Array.from(n[Ps]):[];for(const o of r)s(o)}}return s(e),Array.from(t)}function _t(e){return e[Rn]||e}function Tb(){const e=is(),t=Vs(e);return t.getActiveSpan?t.getActiveSpan():xr(Qe())}function Ln(){Ci||(Pt(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),Ci=!0)}function Hr(e){var s;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||((s=ce())==null?void 0:s.getOptions());return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}const Eo="production",Tl="_frozenDsc";function on(e,t){je(e,Tl,t)}function Dl(e,t){const s=t.getOptions(),{publicKey:n}=t.getDsn()||{},r={environment:s.environment||Eo,release:s.release,public_key:n,trace_id:e,org_id:Sb(t)};return t.emit("createDsc",r),r}function Db(e,t){const s=t.getPropagationContext();return s.dsc||Dl(s.traceId,e)}function Os(e){var D;const t=ce();if(!t)return{};const s=_t(e),n=Me(s),r=n.data,o=s.spanContext().traceState,i=(o==null?void 0:o.get("sentry.sample_rate"))??r[wl]??r[ab];function a(F){return(typeof i=="number"||typeof i=="string")&&(F.sample_rate=`${i}`),F}const l=s[Tl];if(l)return a(l);const d=o==null?void 0:o.get("sentry.dsc"),u=d&&mb(d);if(u)return a(u);const h=Dl(e.spanContext().traceId,t),y=r[wr],b=n.description;return y!=="url"&&b&&(h.transaction=b),Hr()&&(h.sampled=String(Ws(s)),h.sample_rand=(o==null?void 0:o.get("sentry.sample_rand"))??((D=Sr(s).scope)==null?void 0:D.getPropagationContext().sampleRand.toString())),a(h),t.emit("createDsc",h,s),h}class ko{constructor(t={}){this._traceId=t.traceId||vr(),this._spanId=t.spanId||Ur()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:Pl}}end(t){}setAttribute(t,s){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,s,n){return this}addLink(t){return this}addLinks(t){return this}recordException(t,s){}}function at(e,t=100,s=1/0){try{return Nn("",e,t,s)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function Rl(e,t=3,s=100*1024){const n=at(e,t);return Ob(n)>s?Rl(e,t-1,s):n}function Nn(e,t,s=1/0,n=1/0,r=Fb()){const[o,i]=r;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=Rb(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:s;if(l===0)return a.replace("object ","");if(o(t))return"[Circular ~]";const d=t;if(d&&typeof d.toJSON=="function")try{const b=d.toJSON();return Nn("",b,l-1,n,r)}catch{}const u=Array.isArray(t)?[]:{};let h=0;const y=bl(t);for(const b in y){if(!Object.prototype.hasOwnProperty.call(y,b))continue;if(h>=n){u[b]="[MaxProperties ~]";break}const D=y[b];u[b]=Nn(b,D,l-1,n,r),h++}return i(t),u}function Rb(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(gl(t))return"[VueViewModel]";if(j_(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${vt(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const s=Lb(t);return/^HTML(\w*)Element$/.test(s)?`[HTMLElement: ${s}]`:`[object ${s}]`}catch(s){return`**non-serializable** (${s})`}}function Lb(e){const t=Object.getPrototypeOf(e);return t!=null&&t.constructor?t.constructor.name:"null prototype"}function Nb(e){return~-encodeURI(e).split(/%..|./).length}function Ob(e){return Nb(JSON.stringify(e))}function Fb(){const e=new WeakSet;function t(n){return e.has(n)?!0:(e.add(n),!1)}function s(n){e.delete(n)}return[t,s]}function cs(e,t=[]){return[e,t]}function qb(e,t){const[s,n]=e;return[s,[...n,t]]}function Ai(e,t){const s=e[1];for(const n of s){const r=n[0].type;if(t(n,r))return!0}return!1}function On(e){const t=qr(X);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function Mb(e){const[t,s]=e;let n=JSON.stringify(t);function r(o){typeof n=="string"?n=typeof o=="string"?n+o:[On(n),o]:n.push(typeof o=="string"?On(o):o)}for(const o of s){const[i,a]=o;if(r(`
${JSON.stringify(i)}
`),typeof a=="string"||a instanceof Uint8Array)r(a);else{let l;try{l=JSON.stringify(a)}catch{l=JSON.stringify(at(a))}r(l)}}return typeof n=="string"?n:Bb(n)}function Bb(e){const t=e.reduce((r,o)=>r+o.length,0),s=new Uint8Array(t);let n=0;for(const r of e)s.set(r,n),n+=r.length;return s}function jb(e){return[{type:"span"},e]}function Ub(e){const t=typeof e.data=="string"?On(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const Hb={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function Ti(e){return Hb[e]}function Ll(e){if(!(e!=null&&e.sdk))return;const{name:t,version:s}=e.sdk;return{name:t,version:s}}function Vb(e,t,s,n){var o;const r=(o=e.sdkProcessingMetadata)==null?void 0:o.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!s&&n&&{dsn:$s(n)},...r&&{trace:r}}}function Fn(e,t){if(!(t!=null&&t.length)||!e.description)return!1;for(const s of t){if(Wb(s)){if(cr(e.description,s))return!0;continue}if(!s.name&&!s.op)continue;const n=s.name?cr(e.description,s.name):!0,r=s.op?e.op&&cr(e.op,s.op):!0;if(n&&r)return!0}return!1}function $b(e,t){const s=t.parent_span_id,n=t.span_id;if(s)for(const r of e)r.parent_span_id===n&&(r.parent_span_id=s)}function Wb(e){return typeof e=="string"||e instanceof RegExp}function Qb(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function Kb(e,t,s,n){const r=Ll(s),o={sent_at:new Date().toISOString(),...r&&{sdk:r},...!!n&&t&&{dsn:$s(t)}},i="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return cs(o,[i])}function zb(e,t,s,n){const r=Ll(s),o=e.type&&e.type!=="replay_event"?e.type:"event";Qb(e,s==null?void 0:s.sdk);const i=Vb(e,r,n,t);return delete e.sdkProcessingMetadata,cs(i,[[{type:o},e]])}function Gb(e,t){function s(b){return!!b.trace_id&&!!b.public_key}const n=Os(e[0]),r=t==null?void 0:t.getDsn(),o=t==null?void 0:t.getOptions().tunnel,i={sent_at:new Date().toISOString(),...s(n)&&{trace:n},...!!o&&r&&{dsn:$s(r)}},{beforeSendSpan:a,ignoreSpans:l}=(t==null?void 0:t.getOptions())||{},d=l!=null&&l.length?e.filter(b=>!Fn(Me(b),l)):e,u=e.length-d.length;u&&(t==null||t.recordDroppedEvent("before_send","span",u));const h=a?b=>{const D=Me(b),F=a(D);return F||(Ln(),D)}:Me,y=[];for(const b of d){const D=h(b);D&&y.push(jb(D))}return cs(i,y)}function Yb(e){if(!O)return;const{description:t="< unknown name >",op:s="< unknown op >",parent_span_id:n}=Me(e),{spanId:r}=e.spanContext(),o=Ws(e),i=_t(e),a=i===e,l=`[Tracing] Starting ${o?"sampled":"unsampled"} ${a?"root ":""}span`,d=[`op: ${s}`,`name: ${t}`,`ID: ${r}`];if(n&&d.push(`parent ID: ${n}`),!a){const{op:u,description:h}=Me(i);d.push(`root ID: ${i.spanContext().spanId}`),u&&d.push(`root op: ${u}`),h&&d.push(`root description: ${h}`)}R.log(`${l}
  ${d.join(`
  `)}`)}function Jb(e){if(!O)return;const{description:t="< unknown name >",op:s="< unknown op >"}=Me(e),{spanId:n}=e.spanContext(),o=_t(e)===e,i=`[Tracing] Finishing "${s}" ${o?"root ":""}span "${t}" with ID ${n}`;R.log(i)}function Di(e){if(!e||e.length===0)return;const t={};return e.forEach(s=>{const n=s.attributes||{},r=n[lb],o=n[cb];typeof r=="string"&&typeof o=="number"&&(t[s.name]={value:o,unit:r})}),t}const Ri=1e3;class Po{constructor(t={}){this._traceId=t.traceId||vr(),this._spanId=t.spanId||Ur(),this._startTime=t.startTimestamp||Ie(),this._links=t.links,this._attributes={},this.setAttributes({[Ns]:"manual",[Dn]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,s){}spanContext(){const{_spanId:t,_traceId:s,_sampled:n}=this;return{spanId:t,traceId:s,traceFlags:n?So:Pl}}setAttribute(t,s){return s===void 0?delete this._attributes[t]:this._attributes[t]=s,this}setAttributes(t){return Object.keys(t).forEach(s=>this.setAttribute(s,t[s])),this}updateStartTime(t){this._startTime=es(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(wr,"custom"),this}end(t){this._endTime||(this._endTime=es(t),Jb(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Dn],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Il(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Ns],profile_id:this._attributes[vo],exclusive_time:this._attributes[xo],measurements:Di(this._events),is_segment:this._isStandaloneSpan&&_t(this)===this||void 0,segment_id:this._isStandaloneSpan?_t(this).spanContext().spanId:void 0,links:Cl(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,s,n){O&&R.log("[Tracing] Adding an event to span:",t);const r=Li(s)?s:n||Ie(),o=Li(s)?{}:s||{},i={name:t,time:es(r),attributes:o};return this._events.push(i),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=ce();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===_t(this)))return;if(this._isStandaloneSpan){this._sampled?Zb(Gb([this],t)):(O&&R.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const n=this._convertSpanToTransaction();n&&(Sr(this).scope||Qe()).captureEvent(n)}_convertSpanToTransaction(){var u;if(!Ni(Me(this)))return;this._name||(O&&R.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:s}=Sr(this),n=(u=t==null?void 0:t.getScopeData().sdkProcessingMetadata)==null?void 0:u.normalizedRequest;if(this._sampled!==!0)return;const o=Ab(this).filter(h=>h!==this&&!Xb(h)).map(h=>Me(h)).filter(Ni),i=this._attributes[wr];delete this._attributes[ki],o.forEach(h=>{delete h.data[ki]});const a={contexts:{trace:kb(this)},spans:o.length>Ri?o.sort((h,y)=>h.start_timestamp-y.start_timestamp).slice(0,Ri):o,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:s,dynamicSamplingContext:Os(this)},request:n,...i&&{transaction_info:{source:i}}},l=Di(this._events);return l&&Object.keys(l).length&&(O&&R.log("[Measurements] Adding measurements to transaction event",JSON.stringify(l,void 0,2)),a.measurements=l),a}}function Li(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Ni(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function Xb(e){return e instanceof Po&&e.isStandaloneSpan()}function Zb(e){const t=ce();if(!t)return;const s=e[1];if(!s||s.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function ev(e,t,s){if(!Hr(e))return[!1];let n,r;typeof e.tracesSampler=="function"?(r=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),n=!0):t.parentSampled!==void 0?r=t.parentSampled:typeof e.tracesSampleRate<"u"&&(r=e.tracesSampleRate,n=!0);const o=wo(r);if(o===void 0)return O&&R.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(r)} of type ${JSON.stringify(typeof r)}.`),[!1];if(!o)return O&&R.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,o,n];const i=s<o;return i||O&&R.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),[i,o,n]}const Nl="__SENTRY_SUPPRESS_TRACING__";function Oi(e){const t=Ol();if(t.startInactiveSpan)return t.startInactiveSpan(e);const s=rv(e),{forceTransaction:n,parentSpan:r}=e;return(e.scope?i=>bo(e.scope,i):r!==void 0?i=>tv(r,i):i=>i())(()=>{const i=Qe(),a=ov(i,r);return e.onlyIfParent&&!a?new ko:sv({parentSpan:a,spanArguments:s,forceTransaction:n,scope:i})})}function tv(e,t){const s=Ol();return s.withActiveSpan?s.withActiveSpan(e,t):bo(n=>(Tn(n,e||void 0),t(n)))}function sv({parentSpan:e,spanArguments:t,forceTransaction:s,scope:n}){if(!Hr()){const i=new ko;if(s||!e){const a={sampled:"false",sample_rate:"0",transaction:t.name,...Os(i)};on(i,a)}return i}const r=ls();let o;if(e&&!s)o=nv(e,n,t),Al(e,o);else if(e){const i=Os(e),{traceId:a,spanId:l}=e.spanContext(),d=Ws(e);o=Fi({traceId:a,parentSpanId:l,...t},n,d),on(o,i)}else{const{traceId:i,dsc:a,parentSpanId:l,sampled:d}={...r.getPropagationContext(),...n.getPropagationContext()};o=Fi({traceId:i,parentSpanId:l,...t},n,d),a&&on(o,a)}return Yb(o),fb(o,n,r),o}function rv(e){const s={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const n={...s};return n.startTimestamp=es(e.startTime),delete n.startTime,n}return s}function Ol(){const e=is();return Vs(e)}function Fi(e,t,s){var D;const n=ce(),r=(n==null?void 0:n.getOptions())||{},{name:o=""}=e,i={spanAttributes:{...e.attributes},spanName:o,parentSampled:s};n==null||n.emit("beforeSampling",i,{decision:!1});const a=i.parentSampled??s,l=i.spanAttributes,d=t.getPropagationContext(),[u,h,y]=t.getScopeData().sdkProcessingMetadata[Nl]?[!1]:ev(r,{name:o,parentSampled:a,attributes:l,parentSampleRate:wo((D=d.dsc)==null?void 0:D.sample_rate)},d.sampleRand),b=new Po({...e,attributes:{[wr]:"custom",[wl]:h!==void 0&&y?h:void 0,...l},sampled:u});return!u&&n&&(O&&R.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),n.recordDroppedEvent("sample_rate","transaction")),n&&n.emit("spanStart",b),b}function nv(e,t,s){const{spanId:n,traceId:r}=e.spanContext(),o=t.getScopeData().sdkProcessingMetadata[Nl]?!1:Ws(e),i=o?new Po({...s,parentSpanId:n,traceId:r,sampled:o}):new ko({traceId:r});Al(e,i);const a=ce();return a&&(a.emit("spanStart",i),s.endTimestamp&&a.emit("spanEnd",i)),i}function ov(e,t){if(t)return t;if(t===null)return;const s=xr(e);if(!s)return;const n=ce();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?_t(s):s}const an=0,qi=1,Mi=2;function jt(e){return new wt(t=>{t(e)})}function Er(e){return new wt((t,s)=>{s(e)})}class wt{constructor(t){this._state=an,this._handlers=[],this._runExecutor(t)}then(t,s){return new wt((n,r)=>{this._handlers.push([!1,o=>{if(!t)n(o);else try{n(t(o))}catch(i){r(i)}},o=>{if(!s)r(o);else try{n(s(o))}catch(i){r(i)}}]),this._executeHandlers()})}catch(t){return this.then(s=>s,t)}finally(t){return new wt((s,n)=>{let r,o;return this.then(i=>{o=!1,r=i,t&&t()},i=>{o=!0,r=i,t&&t()}).then(()=>{if(o){n(r);return}s(r)})})}_executeHandlers(){if(this._state===an)return;const t=this._handlers.slice();this._handlers=[],t.forEach(s=>{s[0]||(this._state===qi&&s[1](this._value),this._state===Mi&&s[2](this._value),s[0]=!0)})}_runExecutor(t){const s=(o,i)=>{if(this._state===an){if(Br(i)){i.then(n,r);return}this._state=o,this._value=i,this._executeHandlers()}},n=o=>{s(qi,o)},r=o=>{s(Mi,o)};try{t(n,r)}catch(o){r(o)}}}function qn(e,t,s,n=0){return new wt((r,o)=>{const i=e[n];if(t===null||typeof i!="function")r(t);else{const a=i({...t},s);O&&i.id&&a===null&&R.log(`Event processor "${i.id}" dropped event`),Br(a)?a.then(l=>qn(e,l,s,n+1).then(r)).then(null,o):qn(e,a,s,n+1).then(r).then(null,o)}})}function iv(e,t){const{fingerprint:s,span:n,breadcrumbs:r,sdkProcessingMetadata:o}=t;av(e,t),n&&uv(e,n),dv(e,s),lv(e,r),cv(e,o)}function Bi(e,t){const{extra:s,tags:n,user:r,contexts:o,level:i,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:d,eventProcessors:u,attachments:h,propagationContext:y,transactionName:b,span:D}=t;Xs(e,"extra",s),Xs(e,"tags",n),Xs(e,"user",r),Xs(e,"contexts",o),e.sdkProcessingMetadata=Hs(e.sdkProcessingMetadata,a,2),i&&(e.level=i),b&&(e.transactionName=b),D&&(e.span=D),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),d.length&&(e.fingerprint=[...e.fingerprint,...d]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...y}}function Xs(e,t,s){e[t]=Hs(e[t],s,1)}function av(e,t){const{extra:s,tags:n,user:r,contexts:o,level:i,transactionName:a}=t;Object.keys(s).length&&(e.extra={...s,...e.extra}),Object.keys(n).length&&(e.tags={...n,...e.tags}),Object.keys(r).length&&(e.user={...r,...e.user}),Object.keys(o).length&&(e.contexts={...o,...e.contexts}),i&&(e.level=i),a&&e.type!=="transaction"&&(e.transaction=a)}function lv(e,t){const s=[...e.breadcrumbs||[],...t];e.breadcrumbs=s.length?s:void 0}function cv(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function uv(e,t){e.contexts={trace:Pb(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Os(t),...e.sdkProcessingMetadata};const s=_t(t),n=Me(s).description;n&&!e.transaction&&e.type==="transaction"&&(e.transaction=n)}function dv(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}let Zs,ji,er;function fv(e){const t=X._sentryDebugIds;if(!t)return{};const s=Object.keys(t);return er&&s.length===ji||(ji=s.length,er=s.reduce((n,r)=>{Zs||(Zs={});const o=Zs[r];if(o)n[o[0]]=o[1];else{const i=e(r);for(let a=i.length-1;a>=0;a--){const l=i[a],d=l==null?void 0:l.filename,u=t[r];if(d&&u){n[d]=u,Zs[r]=[d,u];break}}}return n},{})),er}function hv(e,t,s,n,r,o){const{normalizeDepth:i=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||s.event_id||qe(),timestamp:t.timestamp||Us()},d=s.integrations||e.integrations.map($=>$.name);pv(l,e),yv(l,d),r&&r.emit("applyFrameMetadata",t),t.type===void 0&&mv(l,e.stackParser);const u=bv(n,s.captureContext);s.mechanism&&ss(l,s.mechanism);const h=r?r.getEventProcessors():[],y=ob().getScopeData();if(o){const $=o.getScopeData();Bi(y,$)}if(u){const $=u.getScopeData();Bi(y,$)}const b=[...s.attachments||[],...y.attachments];b.length&&(s.attachments=b),iv(l,y);const D=[...h,...y.eventProcessors];return qn(D,l,s).then($=>($&&gv($),typeof i=="number"&&i>0?_v($,i,a):$))}function pv(e,t){const{environment:s,release:n,dist:r,maxValueLength:o=250}=t;e.environment=e.environment||s||Eo,!e.release&&n&&(e.release=n),!e.dist&&r&&(e.dist=r);const i=e.request;i!=null&&i.url&&(i.url=br(i.url,o))}function mv(e,t){var n,r;const s=fv(t);(r=(n=e.exception)==null?void 0:n.values)==null||r.forEach(o=>{var i,a;(a=(i=o.stacktrace)==null?void 0:i.frames)==null||a.forEach(l=>{l.filename&&(l.debug_id=s[l.filename])})})}function gv(e){var n,r;const t={};if((r=(n=e.exception)==null?void 0:n.values)==null||r.forEach(o=>{var i,a;(a=(i=o.stacktrace)==null?void 0:i.frames)==null||a.forEach(l=>{l.debug_id&&(l.abs_path?t[l.abs_path]=l.debug_id:l.filename&&(t[l.filename]=l.debug_id),delete l.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const s=e.debug_meta.images;Object.entries(t).forEach(([o,i])=>{s.push({type:"sourcemap",code_file:o,debug_id:i})})}function yv(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function _v(e,t,s){var r,o;if(!e)return null;const n={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:at(i.data,t,s)}}))},...e.user&&{user:at(e.user,t,s)},...e.contexts&&{contexts:at(e.contexts,t,s)},...e.extra&&{extra:at(e.extra,t,s)}};return(r=e.contexts)!=null&&r.trace&&n.contexts&&(n.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(n.contexts.trace.data=at(e.contexts.trace.data,t,s))),e.spans&&(n.spans=e.spans.map(i=>({...i,...i.data&&{data:at(i.data,t,s)}}))),(o=e.contexts)!=null&&o.flags&&n.contexts&&(n.contexts.flags=at(e.contexts.flags,3,s)),n}function bv(e,t){if(!t)return e;const s=e?e.clone():new rt;return s.update(t),s}function vv(e){if(e)return xv(e)?{captureContext:e}:Sv(e)?{captureContext:e}:e}function xv(e){return e instanceof rt||typeof e=="function"}const wv=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function Sv(e){return Object.keys(e).some(t=>wv.includes(t))}function Fl(e,t){return Qe().captureException(e,vv(t))}function ql(e,t){return Qe().captureEvent(e,t)}function Ui(e){const t=ls(),s=Qe(),{userAgent:n}=X.navigator||{},r=G_({user:s.getUser()||t.getUser(),...n&&{userAgent:n},...e}),o=t.getSession();return(o==null?void 0:o.status)==="ok"&&rs(o,{status:"exited"}),Ml(),t.setSession(r),r}function Ml(){const e=ls(),s=Qe().getSession()||e.getSession();s&&Y_(s),Bl(),e.setSession()}function Bl(){const e=ls(),t=ce(),s=e.getSession();s&&t&&t.captureSession(s)}function Hi(e=!1){if(e){Ml();return}Bl()}const Ev="7";function kv(e){const t=e.protocol?`${e.protocol}:`:"",s=e.port?`:${e.port}`:"";return`${t}//${e.host}${s}${e.path?`/${e.path}`:""}/api/`}function Pv(e){return`${kv(e)}${e.projectId}/envelope/`}function Cv(e,t){const s={sentry_version:Ev};return e.publicKey&&(s.sentry_key=e.publicKey),t&&(s.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(s).toString()}function Iv(e,t,s){return t||`${Pv(e)}?${Cv(e,s)}`}const Vi=[];function Av(e){const t={};return e.forEach(s=>{const{name:n}=s,r=t[n];r&&!r.isDefaultInstance&&s.isDefaultInstance||(t[n]=s)}),Object.values(t)}function Tv(e){const t=e.defaultIntegrations||[],s=e.integrations;t.forEach(r=>{r.isDefaultInstance=!0});let n;if(Array.isArray(s))n=[...t,...s];else if(typeof s=="function"){const r=s(t);n=Array.isArray(r)?r:[r]}else n=t;return Av(n)}function Dv(e,t){const s={};return t.forEach(n=>{n&&jl(e,n,s)}),s}function $i(e,t){for(const s of t)s!=null&&s.afterAllSetup&&s.afterAllSetup(e)}function jl(e,t,s){if(s[t.name]){O&&R.log(`Integration skipped because it was already installed: ${t.name}`);return}if(s[t.name]=t,Vi.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),Vi.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(r,o)=>n(r,o,e))}if(typeof t.processEvent=="function"){const n=t.processEvent.bind(t),r=Object.assign((o,i)=>n(o,i,e),{id:t.name});e.addEventProcessor(r)}O&&R.log(`Integration installed: ${t.name}`)}function Rv(e,t,s){const n=[{type:"client_report"},{timestamp:Us(),discarded_events:e}];return cs(t?{dsn:t}:{},[n])}function Ul(e){const t=[];e.message&&t.push(e.message);try{const s=e.exception.values[e.exception.values.length-1];s!=null&&s.value&&(t.push(s.value),s.type&&t.push(`${s.type}: ${s.value}`))}catch{}return t}function Lv(e){var l;const{trace_id:t,parent_span_id:s,span_id:n,status:r,origin:o,data:i,op:a}=((l=e.contexts)==null?void 0:l.trace)??{};return{data:i??{},description:e.transaction,op:a,parent_span_id:s,span_id:n??"",start_timestamp:e.start_timestamp??0,status:r,timestamp:e.timestamp,trace_id:t??"",origin:o,profile_id:i==null?void 0:i[vo],exclusive_time:i==null?void 0:i[xo],measurements:e.measurements,is_segment:!0}}function Nv(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[vo]:e.profile_id},...e.exclusive_time&&{[xo]:e.exclusive_time}}}},measurements:e.measurements}}const Wi="Not capturing exception because it's already been captured.",Qi="Discarded session because of missing or non-string release",Hl=Symbol.for("SentryInternalError"),Vl=Symbol.for("SentryDoNotSendEventError");function ur(e){return{message:e,[Hl]:!0}}function ln(e){return{message:e,[Vl]:!0}}function Ki(e){return!!e&&typeof e=="object"&&Hl in e}function zi(e){return!!e&&typeof e=="object"&&Vl in e}class Ov{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Eb(t.dsn):O&&R.warn("No DSN provided, client will not send events."),this._dsn){const s=Iv(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:s})}}captureException(t,s,n){const r=qe();if(wi(t))return O&&R.log(Wi),r;const o={event_id:r,...s};return this._process(this.eventFromException(t,o).then(i=>this._captureEvent(i,o,n))),o.event_id}captureMessage(t,s,n,r){const o={event_id:qe(),...n},i=po(t)?t:String(t),a=mo(t)?this.eventFromMessage(i,s,o):this.eventFromException(t,o);return this._process(a.then(l=>this._captureEvent(l,o,r))),o.event_id}captureEvent(t,s,n){const r=qe();if(s!=null&&s.originalException&&wi(s.originalException))return O&&R.log(Wi),r;const o={event_id:r,...s},i=t.sdkProcessingMetadata||{},a=i.capturedSpanScope,l=i.capturedSpanIsolationScope;return this._process(this._captureEvent(t,o,a||n,l)),o.event_id}captureSession(t){this.sendSession(t),rs(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const s=this._transport;return s?(this.emit("flush"),this._isClientDoneProcessing(t).then(n=>s.flush(t).then(r=>n&&r))):jt(!0)}close(t){return this.flush(t).then(s=>(this.getOptions().enabled=!1,this.emit("close"),s))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const s=this._integrations[t.name];jl(this,t,this._integrations),s||$i(this,[t])}sendEvent(t,s={}){this.emit("beforeSendEvent",t,s);let n=zb(t,this._dsn,this._options._metadata,this._options.tunnel);for(const o of s.attachments||[])n=qb(n,Ub(o));const r=this.sendEnvelope(n);r&&r.then(o=>this.emit("afterSendEvent",t,o),null)}sendSession(t){const{release:s,environment:n=Eo}=this._options;if("aggregates"in t){const o=t.attrs||{};if(!o.release&&!s){O&&R.warn(Qi);return}o.release=o.release||s,o.environment=o.environment||n,t.attrs=o}else{if(!t.release&&!s){O&&R.warn(Qi);return}t.release=t.release||s,t.environment=t.environment||n}this.emit("beforeSendSession",t);const r=Kb(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(t,s,n=1){if(this._options.sendClientReports){const r=`${t}:${s}`;O&&R.log(`Recording outcome: "${r}"${n>1?` (${n} times)`:""}`),this._outcomes[r]=(this._outcomes[r]||0)+n}}on(t,s){const n=this._hooks[t]=this._hooks[t]||[];return n.push(s),()=>{const r=n.indexOf(s);r>-1&&n.splice(r,1)}}emit(t,...s){const n=this._hooks[t];n&&n.forEach(r=>r(...s))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,s=>(O&&R.error("Error while sending envelope:",s),s)):(O&&R.error("Transport disabled"),jt({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=Dv(this,t),$i(this,t)}_updateSessionFromEvent(t,s){var l;let n=s.level==="fatal",r=!1;const o=(l=s.exception)==null?void 0:l.values;if(o){r=!0;for(const d of o){const u=d.mechanism;if((u==null?void 0:u.handled)===!1){n=!0;break}}}const i=t.status==="ok";(i&&t.errors===0||i&&n)&&(rs(t,{...n&&{status:"crashed"},errors:t.errors||Number(r||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new wt(s=>{let n=0;const r=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),s(!0)):(n+=r,t&&n>=t&&(clearInterval(o),s(!1)))},r)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,s,n,r){const o=this.getOptions(),i=Object.keys(this._integrations);return!s.integrations&&(i!=null&&i.length)&&(s.integrations=i),this.emit("preprocessEvent",t,s),t.type||r.setLastEventId(t.event_id||s.event_id),hv(o,t,s,n,this,r).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,s),a.contexts={trace:ib(n),...a.contexts};const l=Db(this,n);return a.sdkProcessingMetadata={dynamicSamplingContext:l,...a.sdkProcessingMetadata},a})}_captureEvent(t,s={},n=Qe(),r=ls()){return O&&Mn(t)&&R.log(`Captured error event \`${Ul(t)[0]||"<unknown>"}\``),this._processEvent(t,s,n,r).then(o=>o.event_id,o=>{O&&(zi(o)?R.log(o.message):Ki(o)?R.warn(o.message):R.warn(o))})}_processEvent(t,s,n,r){const o=this.getOptions(),{sampleRate:i}=o,a=$l(t),l=Mn(t),d=t.type||"error",u=`before send for type \`${d}\``,h=typeof i>"u"?void 0:wo(i);if(l&&typeof h=="number"&&Math.random()>h)return this.recordDroppedEvent("sample_rate","error"),Er(ln(`Discarding event because it's not included in the random sample (sampling rate = ${i})`));const y=d==="replay_event"?"replay":d;return this._prepareEvent(t,s,n,r).then(b=>{if(b===null)throw this.recordDroppedEvent("event_processor",y),ln("An event processor returned `null`, will not send event.");if(s.data&&s.data.__sentry__===!0)return b;const F=qv(this,o,b,s);return Fv(F,u)}).then(b=>{var $;if(b===null){if(this.recordDroppedEvent("before_send",y),a){const K=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",K)}throw ln(`${u} returned \`null\`, will not send event.`)}const D=n.getSession()||r.getSession();if(l&&D&&this._updateSessionFromEvent(D,b),a){const U=(($=b.sdkProcessingMetadata)==null?void 0:$.spanCountBeforeProcessing)||0,K=b.spans?b.spans.length:0,G=U-K;G>0&&this.recordDroppedEvent("before_send","span",G)}const F=b.transaction_info;if(a&&F&&b.transaction!==t.transaction){const U="custom";b.transaction_info={...F,source:U}}return this.sendEvent(b,s),b}).then(null,b=>{throw zi(b)||Ki(b)?b:(this.captureException(b,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:b}),ur(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${b}`))})}_process(t){this._numProcessing++,t.then(s=>(this._numProcessing--,s),s=>(this._numProcessing--,s))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([s,n])=>{const[r,o]=s.split(":");return{reason:r,category:o,quantity:n}})}_flushOutcomes(){O&&R.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){O&&R.log("No outcomes to send");return}if(!this._dsn){O&&R.log("No dsn provided, will not send outcomes");return}O&&R.log("Sending outcomes:",t);const s=Rv(t,this._options.tunnel&&$s(this._dsn));this.sendEnvelope(s)}}function Fv(e,t){const s=`${t} must return \`null\` or a valid event.`;if(Br(e))return e.then(n=>{if(!Ls(n)&&n!==null)throw ur(s);return n},n=>{throw ur(`${t} rejected with ${n}`)});if(!Ls(e)&&e!==null)throw ur(s);return e}function qv(e,t,s,n){const{beforeSend:r,beforeSendTransaction:o,beforeSendSpan:i,ignoreSpans:a}=t;let l=s;if(Mn(l)&&r)return r(l,n);if($l(l)){if(i||a){const d=Lv(l);if(a!=null&&a.length&&Fn(d,a))return null;if(i){const u=i(d);u?l=Hs(s,Nv(u)):Ln()}if(l.spans){const u=[],h=l.spans;for(const b of h){if(a!=null&&a.length&&Fn(b,a)){$b(h,b);continue}if(i){const D=i(b);D?u.push(D):(Ln(),u.push(b))}else u.push(b)}const y=l.spans.length-u.length;y&&e.recordDroppedEvent("before_send","span",y),l.spans=u}}if(o){if(l.spans){const d=l.spans.length;l.sdkProcessingMetadata={...s.sdkProcessingMetadata,spanCountBeforeProcessing:d}}return o(l,n)}}return l}function Mn(e){return e.type===void 0}function $l(e){return e.type==="transaction"}function Mv(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function Bv(e,t,s,n){const r={};return t!=null&&t.sdk&&(r.sdk={name:t.sdk.name,version:t.sdk.version}),s&&n&&(r.dsn=$s(n)),cs(r,[Mv(e)])}function cn(e,t){const s=jv(e)??[];if(s.length===0)return;const n=e.getOptions(),r=Bv(s,n._metadata,n.tunnel,e.getDsn());Wl().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(r)}function jv(e){return Wl().get(e)}function Wl(){return js("clientToLogBufferMap",()=>new WeakMap)}function Uv(e,t){t.debug===!0&&(O?R.enable():Pt(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Qe().update(t.initialScope);const n=new e(t);return Hv(n),n.init(),n}function Hv(e){Qe().setClient(e)}const Ql=Symbol.for("SentryBufferFullError");function Vv(e){const t=[];function s(){return e===void 0||t.length<e}function n(i){return t.splice(t.indexOf(i),1)[0]||Promise.resolve(void 0)}function r(i){if(!s())return Er(Ql);const a=i();return t.indexOf(a)===-1&&t.push(a),a.then(()=>n(a)).then(null,()=>n(a).then(null,()=>{})),a}function o(i){return new wt((a,l)=>{let d=t.length;if(!d)return a(!0);const u=setTimeout(()=>{i&&i>0&&a(!1)},i);t.forEach(h=>{jt(h).then(()=>{--d||(clearTimeout(u),a(!0))},l)})})}return{$:t,add:r,drain:o}}const $v=60*1e3;function Wv(e,t=Date.now()){const s=parseInt(`${e}`,10);if(!isNaN(s))return s*1e3;const n=Date.parse(`${e}`);return isNaN(n)?$v:n-t}function Qv(e,t){return e[t]||e.all||0}function Kv(e,t,s=Date.now()){return Qv(e,t)>s}function zv(e,{statusCode:t,headers:s},n=Date.now()){const r={...e},o=s==null?void 0:s["x-sentry-rate-limits"],i=s==null?void 0:s["retry-after"];if(o)for(const a of o.trim().split(",")){const[l,d,,,u]=a.split(":",5),h=parseInt(l,10),y=(isNaN(h)?60:h)*1e3;if(!d)r.all=n+y;else for(const b of d.split(";"))b==="metric_bucket"?(!u||u.split(";").includes("custom"))&&(r[b]=n+y):r[b]=n+y}else i?r.all=n+Wv(i,n):t===429&&(r.all=n+60*1e3);return r}const Gv=64;function Yv(e,t,s=Vv(e.bufferSize||Gv)){let n={};const r=i=>s.drain(i);function o(i){const a=[];if(Ai(i,(h,y)=>{const b=Ti(y);Kv(n,b)?e.recordDroppedEvent("ratelimit_backoff",b):a.push(h)}),a.length===0)return jt({});const l=cs(i[0],a),d=h=>{Ai(l,(y,b)=>{e.recordDroppedEvent(h,Ti(b))})},u=()=>t({body:Mb(l)}).then(h=>(h.statusCode!==void 0&&(h.statusCode<200||h.statusCode>=300)&&O&&R.warn(`Sentry responded with status code ${h.statusCode} to sent event.`),n=zv(n,h),h),h=>{throw d("network_error"),O&&R.error("Encountered error running transport request:",h),h});return s.add(u).then(h=>h,h=>{if(h===Ql)return O&&R.error("Skipped sending event because buffer is full."),d("queue_overflow"),jt({});throw h})}return{send:o,flush:r}}function Jv(e){var t;((t=e.user)==null?void 0:t.ip_address)===void 0&&(e.user={...e.user,ip_address:"{{auto}}"})}function Xv(e){var t;"aggregates"in e?((t=e.attrs)==null?void 0:t.ip_address)===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function Kl(e,t,s=[t],n="npm"){const r=e._metadata||{};r.sdk||(r.sdk={name:`sentry.javascript.${t}`,packages:s.map(o=>({name:`${n}:@sentry/${o}`,version:qt})),version:qt}),e._metadata=r}const Zv=100;function Ut(e,t){const s=ce(),n=ls();if(!s)return;const{beforeBreadcrumb:r=null,maxBreadcrumbs:o=Zv}=s.getOptions();if(o<=0)return;const a={timestamp:Us(),...e},l=r?Pt(()=>r(a,t)):a;l!==null&&(s.emit&&s.emit("beforeAddBreadcrumb",l,t),n.addBreadcrumb(l,o))}let Gi;const ex="FunctionToString",Yi=new WeakMap,tx=()=>({name:ex,setupOnce(){Gi=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=_o(this),s=Yi.has(ce())&&t!==void 0?t:this;return Gi.apply(s,e)}}catch{}},setup(e){Yi.set(e,!0)}}),sx=tx,rx=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],nx="EventFilters",ox=(e={})=>{let t;return{name:nx,setup(s){const n=s.getOptions();t=Ji(e,n)},processEvent(s,n,r){if(!t){const o=r.getOptions();t=Ji(e,o)}return ax(s,t)?null:s}}},ix=(e={})=>({...ox(e),name:"InboundFilters"});function Ji(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:rx],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function ax(e,t){if(e.type){if(e.type==="transaction"&&cx(e,t.ignoreTransactions))return O&&R.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Lt(e)}`),!0}else{if(lx(e,t.ignoreErrors))return O&&R.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Lt(e)}`),!0;if(hx(e))return O&&R.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Lt(e)}`),!0;if(ux(e,t.denyUrls))return O&&R.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Lt(e)}.
Url: ${kr(e)}`),!0;if(!dx(e,t.allowUrls))return O&&R.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Lt(e)}.
Url: ${kr(e)}`),!0}return!1}function lx(e,t){return t!=null&&t.length?Ul(e).some(s=>jr(s,t)):!1}function cx(e,t){if(!(t!=null&&t.length))return!1;const s=e.transaction;return s?jr(s,t):!1}function ux(e,t){if(!(t!=null&&t.length))return!1;const s=kr(e);return s?jr(s,t):!1}function dx(e,t){if(!(t!=null&&t.length))return!0;const s=kr(e);return s?jr(s,t):!0}function fx(e=[]){for(let t=e.length-1;t>=0;t--){const s=e[t];if(s&&s.filename!=="<anonymous>"&&s.filename!=="[native code]")return s.filename||null}return null}function kr(e){var t,s;try{const n=[...((t=e.exception)==null?void 0:t.values)??[]].reverse().find(o=>{var i,a,l;return((i=o.mechanism)==null?void 0:i.parent_id)===void 0&&((l=(a=o.stacktrace)==null?void 0:a.frames)==null?void 0:l.length)}),r=(s=n==null?void 0:n.stacktrace)==null?void 0:s.frames;return r?fx(r):null}catch{return O&&R.error(`Cannot extract url for event ${Lt(e)}`),null}}function hx(e){var t,s;return(s=(t=e.exception)==null?void 0:t.values)!=null&&s.length?!e.message&&!e.exception.values.some(n=>n.stacktrace||n.type&&n.type!=="Error"||n.value):!1}function px(e,t,s,n,r,o){var a;if(!((a=r.exception)!=null&&a.values)||!o||!xt(o.originalException,Error))return;const i=r.exception.values.length>0?r.exception.values[r.exception.values.length-1]:void 0;i&&(r.exception.values=Bn(e,t,n,o.originalException,s,r.exception.values,i,0))}function Bn(e,t,s,n,r,o,i,a){if(o.length>=s+1)return o;let l=[...o];if(xt(n[r],Error)){Xi(i,a);const d=e(t,n[r]),u=l.length;Zi(d,r,u,a),l=Bn(e,t,s,n[r],r,[d,...l],d,u)}return Array.isArray(n.errors)&&n.errors.forEach((d,u)=>{if(xt(d,Error)){Xi(i,a);const h=e(t,d),y=l.length;Zi(h,`errors[${u}]`,y,a),l=Bn(e,t,s,d,r,[h,...l],h,y)}}),l}function Xi(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function Zi(e,t,s,n){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:s,parent_id:n}}function mx(e){const t="console";Vt(t,e),$t(t,gx)}function gx(){"console"in X&&E_.forEach(function(e){e in X.console&&Ne(X.console,e,function(t){return _r[e]=t,function(...s){We("console",{args:s,level:e});const r=_r[e];r==null||r.apply(X.console,s)}})})}function yx(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const _x="Dedupe",bx=()=>{let e;return{name:_x,processEvent(t){if(t.type)return t;try{if(xx(t,e))return O&&R.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},vx=bx;function xx(e,t){return t?!!(wx(e,t)||Sx(e,t)):!1}function wx(e,t){const s=e.message,n=t.message;return!(!s&&!n||s&&!n||!s&&n||s!==n||!Gl(e,t)||!zl(e,t))}function Sx(e,t){const s=ea(t),n=ea(e);return!(!s||!n||s.type!==n.type||s.value!==n.value||!Gl(e,t)||!zl(e,t))}function zl(e,t){let s=gi(e),n=gi(t);if(!s&&!n)return!0;if(s&&!n||!s&&n||(s=s,n=n,n.length!==s.length))return!1;for(let r=0;r<n.length;r++){const o=n[r],i=s[r];if(o.filename!==i.filename||o.lineno!==i.lineno||o.colno!==i.colno||o.function!==i.function)return!1}return!0}function Gl(e,t){let s=e.fingerprint,n=t.fingerprint;if(!s&&!n)return!0;if(s&&!n||!s&&n)return!1;s=s,n=n;try{return s.join("")===n.join("")}catch{return!1}}function ea(e){var t,s;return(s=(t=e.exception)==null?void 0:t.values)==null?void 0:s[0]}function un(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const s=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:s,hash:n,relative:t[5]+s+n}}function Yl(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const Fs=X;function Ex(){return"history"in Fs&&!!Fs.history}function kx(){if(!("fetch"in Fs))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function jn(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Px(){var s;if(typeof EdgeRuntime=="string")return!0;if(!kx())return!1;if(jn(Fs.fetch))return!0;let e=!1;const t=Fs.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),(s=n.contentWindow)!=null&&s.fetch&&(e=jn(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){O&&R.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function Cx(e,t){const s="fetch";Vt(s,e),$t(s,()=>Ix(void 0,t))}function Ix(e,t=!1){t&&!Px()||Ne(X,"fetch",function(s){return function(...n){const r=new Error,{method:o,url:i}=Ax(n),a={args:n,fetchData:{method:o,url:i},startTimestamp:Ie()*1e3,virtualError:r,headers:Tx(n)};return We("fetch",{...a}),s.apply(X,n).then(async l=>(We("fetch",{...a,endTimestamp:Ie()*1e3,response:l}),l),l=>{if(We("fetch",{...a,endTimestamp:Ie()*1e3,error:l}),ho(l)&&l.stack===void 0&&(l.stack=r.stack,je(l,"framesToPop",1)),l instanceof TypeError&&(l.message==="Failed to fetch"||l.message==="Load failed"||l.message==="NetworkError when attempting to fetch resource."))try{const d=new URL(a.fetchData.url);l.message=`${l.message} (${d.host})`}catch{}throw l})}})}function Un(e,t){return!!e&&typeof e=="object"&&!!e[t]}function ta(e){return typeof e=="string"?e:e?Un(e,"url")?e.url:e.toString?e.toString():"":""}function Ax(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[s,n]=e;return{url:ta(s),method:Un(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:ta(t),method:Un(t,"method")?String(t.method).toUpperCase():"GET"}}function Tx(e){const[t,s]=e;try{if(typeof s=="object"&&s!==null&&"headers"in s&&s.headers)return new Headers(s.headers);if(U_(t))return new Headers(t.headers)}catch{}}function Dx(){return"npm"}const ie=X;let Hn=0;function Jl(){return Hn>0}function Rx(){Hn++,setTimeout(()=>{Hn--})}function os(e,t={}){function s(r){return typeof r=="function"}if(!s(e))return e;try{const r=e.__sentry_wrapped__;if(r)return typeof r=="function"?r:e;if(_o(e))return e}catch{return e}const n=function(...r){try{const o=r.map(i=>os(i,t));return e.apply(this,o)}catch(o){throw Rx(),bo(i=>{i.addEventProcessor(a=>(t.mechanism&&(In(a,void 0),ss(a,t.mechanism)),a.extra={...a.extra,arguments:r},a)),Fl(o)}),o}};try{for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}catch{}_l(n,e),je(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get(){return e.name}})}catch{}return n}function Lx(){const e=yo(),{referrer:t}=ie.document||{},{userAgent:s}=ie.navigator||{},n={...t&&{Referer:t},...s&&{"User-Agent":s}};return{url:e,headers:n}}function Co(e,t){const s=Io(e,t),n={type:Mx(t),value:Bx(t)};return s.length&&(n.stacktrace={frames:s}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function Nx(e,t,s,n){const r=ce(),o=r==null?void 0:r.getOptions().normalizeDepth,i=$x(t),a={__serialized__:Rl(t,o)};if(i)return{exception:{values:[Co(e,i)]},extra:a};const l={exception:{values:[{type:Mr(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:Hx(t,{isUnhandledRejection:n})}]},extra:a};if(s){const d=Io(e,s);d.length&&(l.exception.values[0].stacktrace={frames:d})}return l}function dn(e,t){return{exception:{values:[Co(e,t)]}}}function Io(e,t){const s=t.stacktrace||t.stack||"",n=Fx(t),r=qx(t);try{return e(s,n,r)}catch{}return[]}const Ox=/Minified React error #\d+;/i;function Fx(e){return e&&Ox.test(e.message)?1:0}function qx(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function Xl(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function Mx(e){const t=e==null?void 0:e.name;return!t&&Xl(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function Bx(e){const t=e==null?void 0:e.message;return Xl(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function jx(e,t,s,n){const r=(s==null?void 0:s.syntheticException)||void 0,o=Ao(e,t,r,n);return ss(o),o.level="error",s!=null&&s.event_id&&(o.event_id=s.event_id),jt(o)}function Ux(e,t,s="info",n,r){const o=(n==null?void 0:n.syntheticException)||void 0,i=Vn(e,t,o,r);return i.level=s,n!=null&&n.event_id&&(i.event_id=n.event_id),jt(i)}function Ao(e,t,s,n,r){let o;if(ml(t)&&t.error)return dn(e,t.error);if(_i(t)||q_(t)){const i=t;if("stack"in t)o=dn(e,t);else{const a=i.name||(_i(i)?"DOMError":"DOMException"),l=i.message?`${a}: ${i.message}`:a;o=Vn(e,l,s,n),In(o,l)}return"code"in i&&(o.tags={...o.tags,"DOMException.code":`${i.code}`}),o}return ho(t)?dn(e,t):Ls(t)||Mr(t)?(o=Nx(e,t,s,r),ss(o,{synthetic:!0}),o):(o=Vn(e,t,s,n),In(o,`${t}`),ss(o,{synthetic:!0}),o)}function Vn(e,t,s,n){const r={};if(n&&s){const o=Io(e,s);o.length&&(r.exception={values:[{value:t,stacktrace:{frames:o}}]}),ss(r,{synthetic:!0})}if(po(t)){const{__sentry_template_string__:o,__sentry_template_values__:i}=t;return r.logentry={message:o,params:i},r}return r.message=t,r}function Hx(e,{isUnhandledRejection:t}){const s=W_(e),n=t?"promise rejection":"exception";return ml(e)?`Event \`ErrorEvent\` captured as ${n} with message \`${e.message}\``:Mr(e)?`Event \`${Vx(e)}\` (type=${e.type}) captured as ${n}`:`Object captured as ${n} with keys: ${s}`}function Vx(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function $x(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const s=e[t];if(s instanceof Error)return s}}const Wx=5e3;class Qx extends Ov{constructor(t){const s=Kx(t),n=ie.SENTRY_SDK_SOURCE||Dx();Kl(s,"browser",["browser"],n),super(s);const{sendDefaultPii:r,sendClientReports:o,enableLogs:i}=this._options;ie.document&&(o||i)&&ie.document.addEventListener("visibilitychange",()=>{ie.document.visibilityState==="hidden"&&(o&&this._flushOutcomes(),i&&cn(this))}),i&&(this.on("flush",()=>{cn(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{cn(this)},Wx)})),r&&(this.on("postprocessEvent",Jv),this.on("beforeSendSession",Xv))}eventFromException(t,s){return jx(this._options.stackParser,t,s,this._options.attachStacktrace)}eventFromMessage(t,s="info",n){return Ux(this._options.stackParser,t,s,n,this._options.attachStacktrace)}_prepareEvent(t,s,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,s,n,r)}}function Kx(e){var t;return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:(t=ie.SENTRY_RELEASE)==null?void 0:t.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const zx=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,be=X,Gx=1e3;let sa,$n,Wn;function Yx(e){const t="dom";Vt(t,e),$t(t,Jx)}function Jx(){if(!be.document)return;const e=We.bind(null,"dom"),t=ra(e,!0);be.document.addEventListener("click",t,!1),be.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(s=>{var o,i;const r=(o=be[s])==null?void 0:o.prototype;(i=r==null?void 0:r.hasOwnProperty)!=null&&i.call(r,"addEventListener")&&(Ne(r,"addEventListener",function(a){return function(l,d,u){if(l==="click"||l=="keypress")try{const h=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},y=h[l]=h[l]||{refCount:0};if(!y.handler){const b=ra(e);y.handler=b,a.call(this,l,b,u)}y.refCount++}catch{}return a.call(this,l,d,u)}}),Ne(r,"removeEventListener",function(a){return function(l,d,u){if(l==="click"||l=="keypress")try{const h=this.__sentry_instrumentation_handlers__||{},y=h[l];y&&(y.refCount--,y.refCount<=0&&(a.call(this,l,y.handler,u),y.handler=void 0,delete h[l]),Object.keys(h).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return a.call(this,l,d,u)}}))})}function Xx(e){if(e.type!==$n)return!1;try{if(!e.target||e.target._sentryId!==Wn)return!1}catch{}return!0}function Zx(e,t){return e!=="keypress"?!1:t!=null&&t.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function ra(e,t=!1){return s=>{if(!s||s._sentryCaptured)return;const n=e1(s);if(Zx(s.type,n))return;je(s,"_sentryCaptured",!0),n&&!n._sentryId&&je(n,"_sentryId",qe());const r=s.type==="keypress"?"input":s.type;Xx(s)||(e({event:s,name:r,global:t}),$n=s.type,Wn=n?n._sentryId:void 0),clearTimeout(sa),sa=be.setTimeout(()=>{Wn=void 0,$n=void 0},Gx)}}function e1(e){try{return e.target}catch{return null}}let tr;function Zl(e){const t="history";Vt(t,e),$t(t,t1)}function t1(){if(be.addEventListener("popstate",()=>{const t=be.location.href,s=tr;if(tr=t,s===t)return;We("history",{from:s,to:t})}),!Ex())return;function e(t){return function(...s){const n=s.length>2?s[2]:void 0;if(n){const r=tr,o=s1(String(n));if(tr=o,r===o)return t.apply(this,s);We("history",{from:r,to:o})}return t.apply(this,s)}}Ne(be.history,"pushState",e),Ne(be.history,"replaceState",e)}function s1(e){try{return new URL(e,be.location.origin).toString()}catch{return e}}const dr={};function r1(e){const t=dr[e];if(t)return t;let s=be[e];if(jn(s))return dr[e]=s.bind(be);const n=be.document;if(n&&typeof n.createElement=="function")try{const r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r);const o=r.contentWindow;o!=null&&o[e]&&(s=o[e]),n.head.removeChild(r)}catch(r){zx&&R.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,r)}return s&&(dr[e]=s.bind(be))}function na(e){dr[e]=void 0}const ys="__sentry_xhr_v3__";function n1(e){const t="xhr";Vt(t,e),$t(t,o1)}function o1(){if(!be.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,s,n){const r=new Error,o=Ie()*1e3,i=ut(n[0])?n[0].toUpperCase():void 0,a=i1(n[1]);if(!i||!a)return t.apply(s,n);s[ys]={method:i,url:a,request_headers:{}},i==="POST"&&a.match(/sentry_key/)&&(s.__sentry_own_request__=!0);const l=()=>{const d=s[ys];if(d&&s.readyState===4){try{d.status_code=s.status}catch{}const u={endTimestamp:Ie()*1e3,startTimestamp:o,xhr:s,virtualError:r};We("xhr",u)}};return"onreadystatechange"in s&&typeof s.onreadystatechange=="function"?s.onreadystatechange=new Proxy(s.onreadystatechange,{apply(d,u,h){return l(),d.apply(u,h)}}):s.addEventListener("readystatechange",l),s.setRequestHeader=new Proxy(s.setRequestHeader,{apply(d,u,h){const[y,b]=h,D=u[ys];return D&&ut(y)&&ut(b)&&(D.request_headers[y.toLowerCase()]=b),d.apply(u,h)}}),t.apply(s,n)}}),e.send=new Proxy(e.send,{apply(t,s,n){const r=s[ys];if(!r)return t.apply(s,n);n[0]!==void 0&&(r.body=n[0]);const o={startTimestamp:Ie()*1e3,xhr:s};return We("xhr",o),t.apply(s,n)}})}function i1(e){if(ut(e))return e;try{return e.toString()}catch{}}function a1(e,t=r1("fetch")){let s=0,n=0;function r(o){const i=o.body.length;s+=i,n++;const a={body:o.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:s<=6e4&&n<15,...e.fetchOptions};if(!t)return na("fetch"),Er("No fetch implementation available");try{return t(e.url,a).then(l=>(s-=i,n--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return na("fetch"),s-=i,n--,Er(l)}}return Yv(e,r)}const l1=30,c1=50;function Qn(e,t,s,n){const r={filename:e,function:t==="<anonymous>"?Bt:t,in_app:!0};return s!==void 0&&(r.lineno=s),n!==void 0&&(r.colno=n),r}const u1=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,d1=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,f1=/\((\S*)(?::(\d+))(?::(\d+))\)/,h1=/at (.+?) ?\(data:(.+?),/,p1=e=>{const t=e.match(h1);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const s=u1.exec(e);if(s){const[,r,o,i]=s;return Qn(r,Bt,+o,+i)}const n=d1.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const a=f1.exec(n[2]);a&&(n[2]=a[1],n[3]=a[2],n[4]=a[3])}const[o,i]=ec(n[1]||Bt,n[2]);return Qn(i,o,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},m1=[l1,p1],g1=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,y1=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,_1=e=>{const t=g1.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const o=y1.exec(t[3]);o&&(t[1]=t[1]||"eval",t[3]=o[1],t[4]=o[2],t[5]="")}let n=t[3],r=t[1]||Bt;return[r,n]=ec(r,n),Qn(n,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},b1=[c1,_1],v1=[m1,b1],x1=hl(...v1),ec=(e,t)=>{const s=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return s||n?[e.indexOf("@")!==-1?e.split("@")[0]:Bt,s?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Vr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,sr=1024,w1="Breadcrumbs",S1=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:w1,setup(s){t.console&&mx(C1(s)),t.dom&&Yx(P1(s,t.dom)),t.xhr&&n1(I1(s)),t.fetch&&Cx(A1(s)),t.history&&Zl(T1(s)),t.sentry&&s.on("beforeSendEvent",k1(s))}}},E1=S1;function k1(e){return function(s){ce()===e&&Ut({category:`sentry.${s.type==="transaction"?"transaction":"event"}`,event_id:s.event_id,level:s.level,message:Lt(s)},{event:s})}}function P1(e,t){return function(n){if(ce()!==e)return;let r,o,i=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>sr&&(Vr&&R.warn(`\`dom.maxStringLength\` cannot exceed ${sr}, but a value of ${a} was configured. Sentry will use ${sr} instead.`),a=sr),typeof i=="string"&&(i=[i]);try{const d=n.event,u=D1(d)?d.target:d;r=yl(u,{keyAttrs:i,maxStringLength:a}),o=$_(u)}catch{r="<unknown>"}if(r.length===0)return;const l={category:`ui.${n.name}`,message:r};o&&(l.data={"ui.component_name":o}),Ut(l,{event:n.event,name:n.name,global:n.global})}}function C1(e){return function(s){if(ce()!==e)return;const n={category:"console",data:{arguments:s.args,logger:"console"},level:yx(s.level),message:bi(s.args," ")};if(s.level==="assert")if(s.args[0]===!1)n.message=`Assertion failed: ${bi(s.args.slice(1)," ")||"console.assert"}`,n.data.arguments=s.args.slice(1);else return;Ut(n,{input:s.args,level:s.level})}}function I1(e){return function(s){if(ce()!==e)return;const{startTimestamp:n,endTimestamp:r}=s,o=s.xhr[ys];if(!n||!r||!o)return;const{method:i,url:a,status_code:l,body:d}=o,u={method:i,url:a,status_code:l},h={xhr:s.xhr,input:d,startTimestamp:n,endTimestamp:r},y={category:"xhr",data:u,type:"http",level:Yl(l)};e.emit("beforeOutgoingRequestBreadcrumb",y,h),Ut(y,h)}}function A1(e){return function(s){if(ce()!==e)return;const{startTimestamp:n,endTimestamp:r}=s;if(r&&!(s.fetchData.url.match(/sentry_key/)&&s.fetchData.method==="POST"))if(s.fetchData.method,s.fetchData.url,s.error){const o=s.fetchData,i={data:s.error,input:s.args,startTimestamp:n,endTimestamp:r},a={category:"fetch",data:o,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,i),Ut(a,i)}else{const o=s.response,i={...s.fetchData,status_code:o==null?void 0:o.status};s.fetchData.request_body_size,s.fetchData.response_body_size,o==null||o.status;const a={input:s.args,response:o,startTimestamp:n,endTimestamp:r},l={category:"fetch",data:i,type:"http",level:Yl(i.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",l,a),Ut(l,a)}}}function T1(e){return function(s){if(ce()!==e)return;let n=s.from,r=s.to;const o=un(ie.location.href);let i=n?un(n):void 0;const a=un(r);i!=null&&i.path||(i=o),o.protocol===a.protocol&&o.host===a.host&&(r=a.relative),o.protocol===i.protocol&&o.host===i.host&&(n=i.relative),Ut({category:"navigation",data:{from:n,to:r}})}}function D1(e){return!!e&&!!e.target}const R1=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],L1="BrowserApiErrors",N1=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:L1,setupOnce(){t.setTimeout&&Ne(ie,"setTimeout",oa),t.setInterval&&Ne(ie,"setInterval",oa),t.requestAnimationFrame&&Ne(ie,"requestAnimationFrame",F1),t.XMLHttpRequest&&"XMLHttpRequest"in ie&&Ne(XMLHttpRequest.prototype,"send",q1);const s=t.eventTarget;s&&(Array.isArray(s)?s:R1).forEach(r=>M1(r,t))}}},O1=N1;function oa(e){return function(...t){const s=t[0];return t[0]=os(s,{mechanism:{data:{function:vt(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function F1(e){return function(t){return e.apply(this,[os(t,{mechanism:{data:{function:"requestAnimationFrame",handler:vt(e)},handled:!1,type:"instrument"}})])}}function q1(e){return function(...t){const s=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in s&&typeof s[r]=="function"&&Ne(s,r,function(o){const i={mechanism:{data:{function:r,handler:vt(o)},handled:!1,type:"instrument"}},a=_o(o);return a&&(i.mechanism.data.handler=vt(a)),os(o,i)})}),e.apply(this,t)}}function M1(e,t){var r,o;const n=(r=ie[e])==null?void 0:r.prototype;(o=n==null?void 0:n.hasOwnProperty)!=null&&o.call(n,"addEventListener")&&(Ne(n,"addEventListener",function(i){return function(a,l,d){try{B1(l)&&(l.handleEvent=os(l.handleEvent,{mechanism:{data:{function:"handleEvent",handler:vt(l),target:e},handled:!1,type:"instrument"}}))}catch{}return t.unregisterOriginalCallbacks&&j1(this,a,l),i.apply(this,[a,os(l,{mechanism:{data:{function:"addEventListener",handler:vt(l),target:e},handled:!1,type:"instrument"}}),d])}}),Ne(n,"removeEventListener",function(i){return function(a,l,d){try{const u=l.__sentry_wrapped__;u&&i.call(this,a,u,d)}catch{}return i.call(this,a,l,d)}}))}function B1(e){return typeof e.handleEvent=="function"}function j1(e,t,s){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,s)}const U1=()=>({name:"BrowserSession",setupOnce(){if(typeof ie.document>"u"){Vr&&R.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}Ui({ignoreDuration:!0}),Hi(),Zl(({from:e,to:t})=>{e!==void 0&&e!==t&&(Ui({ignoreDuration:!0}),Hi())})}}),H1="GlobalHandlers",V1=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:H1,setupOnce(){Error.stackTraceLimit=50},setup(s){t.onerror&&(W1(s),ia("onerror")),t.onunhandledrejection&&(Q1(s),ia("onunhandledrejection"))}}},$1=V1;function W1(e){L_(t=>{const{stackParser:s,attachStacktrace:n}=tc();if(ce()!==e||Jl())return;const{msg:r,url:o,line:i,column:a,error:l}=t,d=G1(Ao(s,l||r,void 0,n,!1),o,i,a);d.level="error",ql(d,{originalException:l,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function Q1(e){O_(t=>{const{stackParser:s,attachStacktrace:n}=tc();if(ce()!==e||Jl())return;const r=K1(t),o=mo(r)?z1(r):Ao(s,r,void 0,n,!0);o.level="error",ql(o,{originalException:r,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function K1(e){if(mo(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function z1(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function G1(e,t,s,n){const r=e.exception=e.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{},a=i.stacktrace=i.stacktrace||{},l=a.frames=a.frames||[],d=n,u=s,h=Y1(t)??yo();return l.length===0&&l.push({colno:d,filename:h,function:Bt,in_app:!0,lineno:u}),e}function ia(e){Vr&&R.log(`Global Handler attached: ${e}`)}function tc(){const e=ce();return(e==null?void 0:e.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}function Y1(e){if(!(!ut(e)||e.length===0)){if(e.startsWith("data:")){const t=e.match(/^data:([^;]+)/),s=t?t[1]:"text/javascript",n=e.includes("base64,");return`<data:${s}${n?",base64":""}>`}return e.slice(0,1024)}}const J1=()=>({name:"HttpContext",preprocessEvent(e){var n;if(!ie.navigator&&!ie.location&&!ie.document)return;const t=Lx(),s={...t.headers,...(n=e.request)==null?void 0:n.headers};e.request={...t,...e.request,headers:s}}}),X1="cause",Z1=5,ew="LinkedErrors",tw=(e={})=>{const t=e.limit||Z1,s=e.key||X1;return{name:ew,preprocessEvent(n,r,o){const i=o.getOptions();px(Co,i.stackParser,s,t,n,r)}}},sw=tw;function rw(){return nw()?(Vr&&Pt(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function nw(){var o;if(typeof ie.window>"u")return!1;const e=ie;if(e.nw)return!1;const t=e.chrome||e.browser;if(!((o=t==null?void 0:t.runtime)!=null&&o.id))return!1;const s=yo(),n=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(ie===ie.top&&n.some(i=>s.startsWith(`${i}://`)))}function sc(e){return[ix(),sx(),O1(),E1(),$1(),sw(),vx(),J1(),U1()]}function ow(e={}){const t=!e.skipBrowserExtensionCheck&&rw(),s={...e,enabled:t?!1:e.enabled,stackParser:D_(e.stackParser||x1),integrations:Tv({integrations:e.integrations,defaultIntegrations:e.defaultIntegrations==null?sc():e.defaultIntegrations}),transport:e.transport||a1};return Uv(Qx,s)}const rc=["activate","mount"],nc=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,iw=/(?:^|[-_])(\w)/g,aw=e=>e.replace(iw,t=>t.toUpperCase()).replace(/[-_]/g,""),lw="<Root>",fn="<Anonymous>",cw=(e,t)=>e.repeat(t),Cs=(e,t)=>{if(!e)return fn;if(e.$root===e)return lw;if(!e.$options)return fn;const s=e.$options;let n=s.name||s._componentTag||s.__name;const r=s.__file;if(!n&&r){const o=r.match(/([^/\\]+)\.vue$/);o&&(n=o[1])}return(n?`<${aw(n)}>`:fn)+(r&&t!==!1?` at ${r}`:"")},uw=e=>{if(e&&(e._isVue||e.__isVue)&&e.$parent){const t=[];let s=0;for(;e;){if(t.length>0){const r=t[t.length-1];if(r.constructor===e.constructor){s++,e=e.$parent;continue}else s>0&&(t[t.length-1]=[r,s],s=0)}t.push(e),e=e.$parent}return`

found in

${t.map((r,o)=>`${(o===0?"---> ":cw(" ",5+o*2))+(Array.isArray(r)?`${Cs(r[0])}... (${r[1]} recursive calls)`:Cs(r))}`).join(`
`)}`}return`

(found in ${Cs(e)})`},dw=(e,t)=>{const{errorHandler:s}=e.config;e.config.errorHandler=(n,r,o)=>{var d;const i=Cs(r,!1),a=r?uw(r):"",l={componentName:i,lifecycleHook:o,trace:a};if(t.attachProps&&r&&((d=r.$options)!=null&&d.propsData?l.propsData=r.$options.propsData:r.$props&&(l.propsData=r.$props)),setTimeout(()=>{Fl(n,{captureContext:{contexts:{vue:l}},mechanism:{handled:!!s,type:"vue"}})}),typeof s=="function"&&e.config.errorHandler)s.call(e,n,r,o);else throw n}},aa="ui.vue",fw={activate:["activated","deactivated"],create:["beforeCreate","created"],unmount:["beforeUnmount","unmounted"],destroy:["beforeDestroy","destroyed"],mount:["beforeMount","mounted"],update:["beforeUpdate","updated"]};function hn(e,t,s){e.$_sentryRootComponentSpanTimer&&clearTimeout(e.$_sentryRootComponentSpanTimer),e.$_sentryRootComponentSpanTimer=setTimeout(()=>{var n;(n=e.$root)!=null&&n.$_sentryRootComponentSpan&&(e.$root.$_sentryRootComponentSpan.end(t),e.$root.$_sentryRootComponentSpan=void 0)},s)}function hw(e,t){function s(r){return r.replace(/^<([^\s]*)>(?: at [^\s]*)?$/,"$1")}return e.some(r=>s(t)===s(r))}const pw=(e={})=>{const t=(e.hooks||[]).concat(rc).filter((r,o,i)=>i.indexOf(r)===o),s={},n=e.timeout||2e3;for(const r of t){const o=fw[r];if(!o){nc&&R.warn(`Unknown hook: ${r}`);continue}for(const i of o)s[i]=function(){var y;const a=this.$root===this;a&&(this.$_sentryRootComponentSpan=this.$_sentryRootComponentSpan||Oi({name:"Application Render",op:`${aa}.render`,attributes:{[Ns]:"auto.ui.vue"},onlyIfParent:!0}),hn(this,Ie(),n));const l=Cs(this,!1);if(!(a||(Array.isArray(e.trackComponents)?hw(e.trackComponents,l):e.trackComponents))){hn(this,Ie(),n);return}this.$_sentryComponentSpans=this.$_sentryComponentSpans||{};const u=i===o[0],h=((y=this.$root)==null?void 0:y.$_sentryRootComponentSpan)||Tb();if(u){if(h){const b=this.$_sentryComponentSpans[r];b&&b.end(),this.$_sentryComponentSpans[r]=Oi({name:`Vue ${l}`,op:`${aa}.${r}`,attributes:{[Ns]:"auto.ui.vue"},onlyIfParent:!0})}}else{const b=this.$_sentryComponentSpans[r];if(!b)return;b.end(),hn(this,Ie(),n)}}}return s},mw=X,gw={Vue:mw.Vue,attachProps:!0,attachErrorHandler:!0,tracingOptions:{hooks:rc,timeout:2e3,trackComponents:!1}},yw="Vue",_w=(e={})=>({name:yw,setup(t){const s={...gw,...t.getOptions(),...e};if(!s.Vue&&!s.app){Pt(()=>{console.warn("[@sentry/vue]: Misconfigured SDK. Vue specific errors will not be captured. Update your `Sentry.init` call with an appropriate config option: `app` (Application Instance - Vue 3) or `Vue` (Vue Constructor - Vue 2).")});return}s.app?(Array.isArray(s.app)?s.app:[s.app]).forEach(r=>la(r,s)):s.Vue&&la(s.Vue,s)}}),la=(e,t)=>{var s;nc&&((s=e._instance)==null?void 0:s.isMounted)===!0&&Pt(()=>{console.warn("[@sentry/vue]: Misconfigured SDK. Vue app is already mounted. Make sure to call `app.mount()` after `Sentry.init()`.")}),t.attachErrorHandler&&dw(e,t),Hr(t)&&e.mixin(pw(t.tracingOptions))};function bw(e={}){const t={defaultIntegrations:[...sc(),_w()],...e};return Kl(t,"vue"),ow(t)}const oc=Dd(S_);bw({app:oc,dsn:"https://3115bfd7236aa90bd81024a1fdb8c823@o4509821219700736.ingest.de.sentry.io/4509821222518864",sendDefaultPii:!0});oc.mount("#app");export{Ht as A,J as a};
